{"version":3,"sources":["webpack://vscode-markdown-languageserver/./node_modules/picomatch/index.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/constants.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/parse.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/picomatch.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/scan.js","webpack://vscode-markdown-languageserver/./node_modules/picomatch/lib/utils.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/events.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-jsonrpc/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-protocol/node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-textdocument/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/api.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/callHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/configuration.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/diagnostic.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/fileOperations.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlayHint.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/inlineValue.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/linkedEditingRange.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/moniker.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/notebook.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/progress.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/semanticTokens.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/server.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/showDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/textDocuments.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/typeHierarchy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/is.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/utils/uuid.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/common/workspaceFolder.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/files.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-languageserver/node.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/config.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/index.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/definitions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/diagnostics.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentLinks.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/documentSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/folding.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/pathCompletions.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/references.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/rename.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/smartSelect.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/languageFeatures/workspaceSymbols.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/logging.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/slugify.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/tableOfContents.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/position.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/range.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/types/textDocument.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/arrays.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/cancellation.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/dispose.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/file.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/lazy.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/limiter.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/resourceMap.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/schemes.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/util/string.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspace.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-markdown-languageservice/out/workspaceCache.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-nls/lib/common/common.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-nls/lib/common/ral.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-nls/lib/node/main.js","webpack://vscode-markdown-languageserver/./node_modules/vscode-uri/lib/esm/index.js","webpack://vscode-markdown-languageserver/./src/config.ts","webpack://vscode-markdown-languageserver/./src/configuration.ts","webpack://vscode-markdown-languageserver/./src/languageFeatures/diagnostics.ts","webpack://vscode-markdown-languageserver/./src/logging.ts","webpack://vscode-markdown-languageserver/./src/protocol.ts","webpack://vscode-markdown-languageserver/./src/server.ts","webpack://vscode-markdown-languageserver/./src/util/arrays.ts","webpack://vscode-markdown-languageserver/./src/util/dispose.ts","webpack://vscode-markdown-languageserver/./src/util/file.ts","webpack://vscode-markdown-languageserver/./src/util/limiter.ts","webpack://vscode-markdown-languageserver/./src/util/resourceMap.ts","webpack://vscode-markdown-languageserver/./src/util/schemes.ts","webpack://vscode-markdown-languageserver/./src/workspace.ts","webpack://vscode-markdown-languageserver/external \"child_process\"","webpack://vscode-markdown-languageserver/external \"crypto\"","webpack://vscode-markdown-languageserver/external \"fs\"","webpack://vscode-markdown-languageserver/external \"net\"","webpack://vscode-markdown-languageserver/external \"os\"","webpack://vscode-markdown-languageserver/external \"path\"","webpack://vscode-markdown-languageserver/external \"url\"","webpack://vscode-markdown-languageserver/external \"util\"","webpack://vscode-markdown-languageserver/webpack/bootstrap","webpack://vscode-markdown-languageserver/webpack/runtime/define property getters","webpack://vscode-markdown-languageserver/webpack/runtime/hasOwnProperty shorthand","webpack://vscode-markdown-languageserver/webpack/runtime/make namespace object","webpack://vscode-markdown-languageserver/./src/node/main.ts"],"names":["module","exports","path","DOTS_SLASH","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","STAR","START_ANCHOR","WINDOWS_CHARS","MAX_LENGTH","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKWARD_SLASH","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_GRAVE_ACCENT","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","SEP","sep","extglobChars","chars","type","open","close","globChars","win32","constants","utils","expandRange","args","options","sort","value","join","RegExp","ex","map","v","escapeRegex","syntaxError","char","parse","input","TypeError","opts","max","maxLength","Math","min","len","length","SyntaxError","bos","output","prepend","tokens","capture","isWindows","PLATFORM_CHARS","EXTGLOB_CHARS","globstar","dot","nodot","qmarkNoDot","star","bash","noext","noextglob","state","index","start","consumed","prefix","backtrack","negated","brackets","braces","parens","quotes","removePrefix","extglobs","stack","prev","eos","peek","n","advance","remaining","slice","consume","num","append","token","negate","count","increment","push","decrement","pop","tok","isBrace","isExtglob","extglob","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","includes","test","expression","fastpaths","negatedExtglob","backslashes","replace","m","esc","first","repeat","unescape","contains","wrapOutput","next","match","exec","slashes","posix","idx","lastIndexOf","pre","indexOf","keepQuotes","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","escaped","nobrace","outputIndex","tokensIndex","brace","dots","arr","range","i","unshift","comma","out","toks","t","supportsLookbehinds","Error","nonegate","regex","noglobstar","prior","before","isStart","afterStar","after","strictSlashes","end","escapeLast","suffix","slashDot","create","str","source","scan","picomatch","glob","returnState","Array","isArray","fns","isMatch","isState","val","compileRe","makeRe","isIgnored","ignore","ignoreOpts","onMatch","onResult","matcher","returnObject","result","onIgnore","format","toPosixSlashes","matchBase","basename","Boolean","patterns","pattern","p","returnOutput","toRegex","parsed","flags","nocase","err","debug","isPathSeparator","code","depth","isPrefix","isGlobstar","Infinity","scanToEnd","parts","lastIndex","isBracket","isGlob","braceEscaped","finished","charCodeAt","noparen","base","removeBackslashes","maxDepth","prevIndex","process","platform","isObject","isRegexChar","segs","version","split","Number","windows","lastIdx","startsWith","Object","defineProperty","TraceFormat","TraceValues","Trace","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","messages_1","enumerable","get","linkedMap_1","disposable_1","events_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","default","Is","None","freeze","isCancellationRequested","onCancellationRequested","Cancelled","is","candidate","boolean","shortcutEvent","callback","context","handle","timer","setTimeout","bind","dispose","MutableToken","constructor","this","_isCancelled","cancel","_emitter","fire","undefined","event","_token","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","func","error","warn","info","log","Off","Messages","Compact","Verbose","fromString","string","toLowerCase","toString","JSON","Text","message","super","setPrototypeOf","prototype","cancelUndispatched","createCancellationTokenSource","_","sendCancellation","conn","id","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","Map","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","Set","requestTokens","trace","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","size","setImmediate","shift","isRequest","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","write","catch","replyError","data","params","stringifyTrace","logLSPMessage","traceReceivedRequest","element","requestHandler","handler","Date","now","tokenKey","String","cancellationSource","has","set","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","then","delete","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","stringify","key","responsePromise","timerStart","traceReceivedResponse","reject","resolve","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","cancellationToken","add","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","Promise","r","traceSendingRequest","e","MessageWriteError","onRequest","hasPendingResponse","async","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","values","listen","AlreadyListening","throwIfListening","inspect","console","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","splice","invoke","ret","callbacks","contexts","apply","isEmpty","_options","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","call","array","stringArray","every","elem","_a","First","AsOld","Last","AsNew","_map","_head","_tail","_size","_state","clear","touch","item","previous","addItemLast","addItemFirst","removeItem","forEach","callbackfn","thisArg","current","keys","iterator","Symbol","done","entries","toStringTag","trimOld","newSize","currentSize","toJSON","fromJSON","limit","ratio","_limit","_ratio","checkTrim","round","AbstractMessageBuffer","encoding","_encoding","_chunks","_totalLength","chunk","toAppend","byteLength","tryReadHeaders","chunkIndex","offset","chunkBytesRead","row","buffer","_read","headers","header","substr","trim","tryReadBody","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","charset","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","name","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","timeout","partialMessageTimer","onData","contentLength","parseInt","isNaN","body","setPartialMessageTimer","clearPartialMessageTimer","decode","msg","waitingTime","semaphore_1","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","lock","encode","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","doRunNext","__createBinding","o","k","k2","desc","getOwnPropertyDescriptor","__esModule","configurable","__exportStar","hasOwnProperty","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","eventEmitter","on","off","send","socket","stream","asReadableStream","asWritableStream","destroy","readble","XDG_RUNTIME_DIR","env","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","removeListener","onConnected","createConnection","port","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","Buffer","from","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearTimeout","clearImmediate","setInterval","clearInterval","RIL","LSPErrorCodes","createProtocolConnection","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","CallHierarchyPrepareRequest","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","DeclarationRequest","DiagnosticRefreshRequest","WorkspaceDiagnosticRequest","DocumentDiagnosticRequest","DocumentDiagnosticReportKind","DiagnosticServerCancellationData","retriggerRequest","Full","Unchanged","partialResult","WillDeleteFilesRequest","DidDeleteFilesNotification","DidRenameFilesNotification","WillRenameFilesRequest","DidCreateFilesNotification","WillCreateFilesRequest","FileOperationPatternKind","file","folder","FoldingRangeRequest","ImplementationRequest","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","InlineValueRefreshRequest","InlineValueRequest","WorkspaceSymbolRequest","CodeActionResolveRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","WillSaveTextDocumentWaitUntilRequest","WillSaveTextDocumentNotification","TextDocumentSaveReason","DidSaveTextDocumentNotification","DidCloseTextDocumentNotification","DidChangeTextDocumentNotification","TextDocumentContentChangeEvent","DidOpenTextDocumentNotification","TextDocumentSyncKind","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","DidChangeConfigurationNotification","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","TypeHierarchySubtypesRequest","TypeHierarchyPrepareRequest","MonikerRequest","MonikerKind","UniquenessLevel","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","SelectionRangeRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","TypeDefinitionRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","DidCloseNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidChangeNotebookDocumentNotification","NotebookCellArrayChange","DidOpenNotebookDocumentNotification","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","TypeHierarchySupertypesRequest","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","language","scheme","objectLiteral","notebookType","notebook","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","UTF8","UTF16","UTF32","hasId","documentSelector","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","Warning","Info","Log","Incremental","isIncremental","text","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","URI","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","document","project","group","global","$import","$export","local","Markup","Code","executionOrder","success","uinteger","equals","one","other","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","prop","DocumentUri","metadata","diff","two","executionSummary","uri","cells","integer","typedArray","deleteCount","Relative","check","node_1","Position","Range","Location","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","MIN_VALUE","MAX_VALUE","line","character","three","four","concat","defined","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","numberRange","color","label","textEdit","additionalTextEdits","Comment","Imports","Region","startLine","endLine","startCharacter","endCharacter","collapsedText","location","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","codeDescription","title","command","_i","arguments","newText","insert","position","del","needsConfirmation","description","annotation","annotationId","textDocument","edits","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","change","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupKind","MarkupContent","CompletionItemKind","InsertTextFormat","CompletionItemTag","InsertReplaceEdit","InsertTextMode","CompletionItemLabelDetails","CompletionItem","CompletionList","MarkedString","Hover","ParameterInformation","SignatureInformation","DocumentHighlightKind","DocumentHighlight","SymbolKind","SymbolTag","SymbolInformation","WorkspaceSymbol","DocumentSymbol","CodeActionKind","CodeActionTriggerKind","CodeActionContext","CodeAction","CodeLens","FormattingOptions","DocumentLink","SelectionRange","SemanticTokenTypes","SemanticTokenModifiers","SemanticTokens","InlineValueText","InlineValueVariableLookup","InlineValueEvaluatableExpression","InlineValueContext","InlayHintKind","InlayHintLabelPart","InlayHint","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","all","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","languageId","PlainText","Markdown","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","detail","items","isIncomplete","fromPlainText","plainText","contents","documentation","parameters","Read","Write","Namespace","Package","Key","Null","containerName","selectionRange","children","deprecated","tags","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Automatic","diagnostics","only","triggerKind","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","target","parent","resultId","variableName","caseSensitiveLookup","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","TextDocument","EOL","mergeSort","compare","left","right","leftIdx","rightIdx","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","sortedEdits","a","b","lastModifiedOffset","startOffset","endOffset","substring","_uri","_languageId","_version","_content","_lineOffsets","update","getLineOffsets","lineOffsets","isLineStart","ch","charAt","low","high","mid","floor","lineOffset","nextLineOffset","getWellformedRange","addedLineOffsets","computeLineOffsets","isAtLineStart","textOffset","getWellformedEdit","spans","ProposedFeatures","NotebookDocuments","TextDocuments","SemanticTokensBuilder","semanticTokens_1","textDocuments_1","notebook_1","__brand","CallHierarchyFeature","vscode_languageserver_protocol_1","Base","onPrepare","attachWorkDoneProgress","onIncomingCalls","attachPartialResultProgress","onOutgoingCalls","ConfigurationFeature","getConfiguration","arg","_getConfiguration","section","DiagnosticFeature","refresh","onWorkspace","FileOperationsFeature","onDidCreateFiles","onDidRenameFiles","onDidDeleteFiles","onWillCreateFiles","onWillRenameFiles","onWillDeleteFiles","InlayHintFeature","InlineValueFeature","LinkedEditingRangeFeature","onLinkedEditingRange","MonikerFeature","NotebookSyncFeature","onDidOpenNotebookDocument","onDidChangeNotebookDocument","onDidSaveNotebookDocument","onDidCloseNotebookDocument","CellTextDocumentConnection","onDidOpenTextDocument","openHandler","openTextDocument","onDidChangeTextDocument","changeHandler","changeTextDocument","onDidCloseTextDocument","closeTextDocument","onWillSaveTextDocument","NULL_DISPOSE","onWillSaveTextDocumentWaitUntil","onDidSaveTextDocument","configurationOrTextDocuments","_cellTextDocuments","notebookDocuments","notebookCellMap","_onDidOpen","_onDidChange","_onDidSave","_onDidClose","getCellTextDocument","cell","getNotebookDocument","getNotebookCell","findNotebookDocumentForCell","cellTextDocumentConnection","cellTextDocuments","notebooks","synchronization","notebookDocument","cellTextDocument","updateCellMap","oldMetadata","metadataChanged","opened","closed","changedCells","structure","didOpen","didClose","cellUpdates","old","new","textContent","contentChanges","changeEvent","added","removed","changed","attachPartialResult","ProgressFeature","attachWorkDone","uuid_1","WorkDoneProgressReporterImpl","_connection","Instances","begin","percentage","cancellable","report","arg0","arg1","WorkDoneProgressServerReporterImpl","_source","NullProgressReporter","NullProgressServerReporter","ResultProgress","workDoneToken","_progressSupported","initialize","capabilities","window","progress","createWorkDoneProgress","generateUuid","ResultProgressReporterImpl","partialResultToken","SemanticTokensDiff","SemanticTokensFeature","onDelta","onRange","originalSequence","modifiedSequence","computeDiff","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newData","_prevData","_id","_prevLine","_prevChar","_data","_dataLen","tokenType","tokenModifiers","pushLine","pushChar","previousResult","build","canBuildEdits","buildEdits","combineFeatures","combineNotebooksFeatures","combineLanguagesFeatures","combineWorkspaceFeatures","combineWindowFeatures","combineClientFeatures","combineTracerFeatures","combineTelemetryFeatures","combineConsoleFeatures","_NotebooksImpl","_LanguagesImpl","BulkUnregistration","BulkRegistration","ErrorMessageTracker","UUID","progress_1","configuration_1","workspaceFolder_1","callHierarchy_1","showDocument_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","diagnostic_1","moniker_1","null2Undefined","_messages","sendErrors","showErrorMessage","RemoteConsoleImpl","rawAttach","_rawConnection","attach","fillServerCapabilities","_capabilities","RemoteWindowImpl","ShowDocumentFeature","actions","showWarningMessage","showInformationMessage","BulkRegistrationImpl","_registrations","_registered","registerOptions","asRegistrationParams","registrations","BulkUnregistrationImpl","unregistrations","_unregistrations","unregistration","unregisterations","disposeSingle","_error","RemoteClientImpl","register","typeOrRegistrations","registerOptionsOrType","registerMany","registerSingle1","registerSingle2","isAttached","_result","unregisterSingle","registration","RemoteWorkspaceImpl","WorkspaceFoldersFeature","applyEdit","paramOrEdit","TracerImpl","_trace","TelemetryImpl","logEvent","LanguagesImpl","TypeHierarchyFeature","NotebooksImpl","combine","telemetry","client","workspace","languages","connectionFactory","watchDog","factories","remoteWindow","allRemotes","asPromise","thenable","resolved","shutdownHandler","initializeHandler","exitHandler","protocolConnection","onInitialize","onInitialized","onShutdown","onExit","onDidChangeConfiguration","onDidChangeWatchedFiles","__textDocumentSync","sendDiagnostics","onHover","onCompletion","onCompletionResolve","onSignatureHelp","onDeclaration","onDefinition","onTypeDefinition","onImplementation","onReferences","onDocumentHighlight","onDocumentSymbol","onWorkspaceSymbol","onWorkspaceSymbolResolve","onCodeAction","onCodeActionResolve","onCodeLens","onCodeLensResolve","onDocumentFormatting","onDocumentRangeFormatting","onDocumentOnTypeFormatting","onRenameRequest","onPrepareRename","onDocumentLinks","onDocumentLinkResolve","onDocumentColor","onColorPresentation","onFoldingRanges","onSelectionRanges","onExecuteCommand","remote","textDocumentSync","shutdownReceived","exit","showDocument","configuration","_configuration","_syncedDocuments","_onDidChangeContent","_onWillSave","onWillSaveWaitUntil","_willSaveWaitUntil","td","toFire","syncedDocument","reason","onSupertypes","onSubtypes","isUUID","v4","empty","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","random","_chars","_UUIDPattern","_notificationIsAutoRegistered","workspaceCapabilities","workspaceFolders","_onDidChangeWorkspaceFolders","changeNotifications","getWorkspaceFolders","_unregistration","resolveModulePath","FileSystem","resolveGlobalYarnPath","resolveGlobalNodePath","uriToFilePath","url","fs","child_process_1","moduleName","nodePath","cwd","app","newEnv","existsSync","delimiter","cp","fork","execArgv","pid","c","s","npmCommand","shell","stdout","spawnSync","protocol","segments","decodeURIComponent","second","normalize","yarnCommand","results","stderr","lines","yarn","_isCaseSensitive","isCaseSensitive","__filename","toUpperCase","isParent","child","workspaceRoot","isAbsolute","Files","server_1","fm","exitTimer","_shutdownReceived","argName","runTimer","processId","kill","argv","setupExitTimer","arg2","arg3","arg4","stdin","transport","commandLineMessage","inputStream","_createConnection","getLsConfiguration","defaultConfig","markdownFileExtensions","knownLinkedToFileExtensions","overrides","createLanguageService","githubSlugifier","LogLevel","DiagnosticLevel","DiagnosticCode","config_1","definitions_1","diagnostics_1","documentLinks_1","documentSymbols_1","folding_1","pathCompletions_1","references_1","rename_1","smartSelect_1","workspaceSymbols_1","tableOfContents_1","workspace_1","diagnostics_2","logging_1","slugify_1","init","config","tocProvider","MdTableOfContentsProvider","parser","docSymbolProvider","MdDocumentSymbolProvider","smartSelectProvider","MdSelectionRangeProvider","foldingProvider","MdFoldingProvider","workspaceSymbolProvider","MdWorkspaceSymbolProvider","linkProvider","MdLinkProvider","pathCompletionProvider","MdPathCompletionProvider","referencesProvider","MdReferencesProvider","definitionsProvider","MdDefinitionProvider","renameProvider","MdRenameProvider","slugifier","diagnosticsComputer","DiagnosticComputer","getDocumentLinks","provideDocumentLinks","resolveDocumentLink","getDocumentSymbols","provideDocumentSymbols","getFoldingRanges","provideFoldingRanges","getSelectionRanges","provideSelectionRanges","getWorkspaceSymbols","provideWorkspaceSymbols","getCompletionItems","provideCompletionItems","getReferences","provideReferences","getFileReferences","resource","getReferencesToFileInWorkspace","x","getDefinition","provideDefinition","prepareRename","getRenameEdit","provideRenameEdits","computeDiagnostics","doc","compute","createPullDiagnosticsManager","isWorkspaceWithFileWatching","DiagnosticsManager","getReferencesAtPosition","find","ref","isDefinition","vscode_languageserver_1","nls","vscode_uri_1","position_1","range_1","dispose_1","file_1","limiter_1","resourceMap_1","localize","loadMessageBundle","toSeverity","level","warning","FileLinkMap","links","_filesToLinksMap","ResourceMap","link","existingFileEntry","linkData","fragment","outgoingLinks","definitions","getLinks","statCache","validateFileLinks","validateReferenceLinks","validateFragmentLinks","flat","toc","getForDocument","hrefText","lookup","isIgnoredLink","link_noSuchHeaderInOwnFile","hrefRange","validateReferences","link_noSuchReferences","pathErrorSeverity","fragmentErrorSeverity","validateMarkdownFileLinkFragments","linkSet","filter","limiter","Limiter","resolvedHrefPath","statLinkToMarkdownFile","isMarkdownPath","fragmentLinks","pathText","fragmentRange","modifyRange","translatePosition","characterDelta","link_noSuchHeaderInFile","link_noSuchFile","fsPath","hasMarkdownDocument","looksLikeMarkdownPath","ignoreLinks","some","FileLinkState","_workspace","_onDidChangeLinkedToFile","_register","onDidChangeLinkedToFile","_linkedToFile","entry","watcher","updateLinksForDocument","linkedToResource","exists","documents","startWatching","deleteDocument","tryStatFileLink","watchFile","ignoreChange","deleteReg","onDidDelete","onLinkedResourceChanged","createReg","onDidCreate","changedResource","linkingFiles","_onLinkedToFileChanged","onLinkedToFileChanged","linkWatcher","_linkWatcher","linkingResources","stateCachedWorkspace","Proxy","stat","isDirectory","_computer","LinkDefinitionSet","MdLinkComputer","textDocument_1","arrays_1","string_1","workspaceCache_1","resolveLink","cleanLink","stripAngleBrackets","inputDocument","tempUri","docUri","getContainingDocument","resourceUri","root","getWorkspaceFolder","Utils","joinPath","dirname","with","extractDocumentLink","rawLink","matchIndex","fullMatch","isAngleBracketLink","linkTarget","linkStart","linkEnd","hrefStart","hrefEnd","getLinkSourceFragmentInfo","getFragmentRange","angleBracketLinkRe","linkPattern","referenceLinkPattern","autoLinkPattern","definitionPattern","inlineCodePattern","NoLinkRanges","multiline","inline","tokenizer","tokenize","inlineRanges","matchAll","interval","inlineRange","rangeContains","concatInline","newInline","noLinkRanges","inlineLinks","getInlineLinks","getReferenceLinks","getLinkDefinitions","getAutoLinks","matchLinkData","innerMatch","innerData","linkOffset","linkStartOffset","reference","checkboxMatch","getLine","rawLinkText","linkText","refStart","refRange","_tocProvider","_linkComputer","_linkCache","MdDocumentInfoCache","Debug","getAllLinks","noopToken","coalesce","toValidDocumentLink","mdLink","createCommandUri","found","extname","dotMdResource","lineNumberFragment","pos","createOpenAtPosCommand","openMarkdownDocument","headerLocation","definitionSet","def","encodeURIComponent","selection","startLineNumber","startColumn","endLineNumber","endColumn","lsp","toSymbolInformation","buildTree","symbol","toDocumentSymbol","getSymbolName","sectionLocation","getRegions","getHeaderFoldingRanges","getBlockFoldingRanges","regionMarkers","isRegionMarker","isStartRegion","nestingStack","marker","region","isEmptyOrWhitespace","isFoldableToken","listItem","getFoldingRangeKind","path_1","schemes_1","CompletionContextKind","tryDecodeUriComponent","linkStartPattern","referenceLinkStartPattern","_context","getPathCompletionContext","ReferenceLink","provideReferenceSuggestions","LinkDefinition","Link","isAnchorInCurrentDoc","anchorInfo","beforeAnchor","linkPrefix","insertRange","makeRange","linkTextStartPosition","provideHeaderSuggestions","rawUri","resolveReference","otherDoc","openLinkToMarkdownFile","anchorStartPosition","anchorPrefix","providePathSuggestions","linePrefixText","lineSuffixText","linkPrefixMatch","refLooksLikeUrl","linkSuffix","getAnchorContext","skipEncoding","definitionLinkPrefixMatch","referenceLinkPrefixMatch","anchorMatch","insertionRange","replacementRange","TableOfContents","createForContainingDoc","slug","valueBeforeLastSlash","parentDir","pathSegmentStart","pathSegmentEnd","dirInfo","readDirectory","isDir","getFileUriOfTextDocument","workspaceFolder","resolvePath","Schemes","linkComputer","MdWorkspaceInfoCache","includeDeclaration","getReferencesToHeader","getReferencesToLinkAtPosition","allLinksInWorkspace","findLinksToFile","otherDocs","getForDocs","references","isTriggerLocation","headerText","headerTextLocation","looksLikeLinkToDoc","fromHeading","docLinks","getReferencesToLinkReference","getReferencesToLink","sourceLink","triggerPosition","areRangesEqual","resolvedResource","targetDoc","pathRange","getPathRange","allLinks","refToFind","tryDecodeUri","decodeURI","renameNotSupportedText","allRefsInfo","getAllReferences","triggerRef","placeholder","declaration","findHeaderDeclaration","getFilePathRange","newName","provideRenameEditsImpl","renameReferenceLinks","renameExternalLink","renameFragment","renameFilePath","triggerDocument","triggerHref","builder","WorkspaceEditBuilder","fileRenames","rawNewFilePath","getEdit","resolvedNewFilePath","to","newPath","relative","rootDir","encodeURI","cachedRefs","arePositionsEqual","resourceKey","createHeaderRange","isClosestHeaderToPosition","onHeaderLine","startOfChildRange","contentRange","lineDelta","makeSelectionRange","createBlockRange","block","cursorLine","onFenceLine","fenceRange","createFencedRange","createBoldRange","lineText","cursorChar","matches","bold","cursorOnStars","contentAndStars","createOtherInlineRange","isItalic","italicRegexes","cursorOnType","contentAndType","getFirstChildHeader","childRange","t1","t2","positions","provideSelectionRange","headerRange","getHeaderSelectionRange","blockRange","getBlockSelectionRange","getInlineSelectionRange","cursorPosition","boldSelection","italicSelection","comboSelection","linkSelection","linkRange","nearestType","indexOfType","contentAndNearestType","createLinkRange","createInlineRange","blockTokens","enclosingTokens","isBlockElement","token1","token2","getBlockTokensForPosition","currentRange","headerInfo","header1","header2","headerOnThisLine","getHeadersForPosition","symbolProvider","_cache","provideDocumentSymbolInformation","query","symbolInformation","Slug","heading","slugifiedHeading","buildToc","existingSlugEntries","lineNumber","existingSlugEntry","getHeaderText","getHeaderLevel","markup","isBeforeOrEqual","comparePosition","isAfter","isBefore","isPosition","isRange","thing","startOrStartLine","endOrStartCharacter","_onCancellationRequestedEmitter","DisposableStore","disposeAll","MultiDisposeError","errors","_isDisposed","_disposables","lazy","LazyValue","_getValue","_hasValue","f","getValue","maxDegreeOfParalellism","outstandingPromises","runningPromises","factory","iLimitedTask","defaultResourceToKey","toKey","untitled","raw","tryAppendMarkdownFileExtension","linkUri","ext","possibleWorkspaces","authority","out_statCache","lazy_1","LazyResourceMap","_loadingDocuments","onDidChangeMarkdownDocument","invalidate","onDidDeleteMarkdownDocument","onDidDeleteDocument","existing","loadDocument","resetEntry","finally","ensureInit","docs","_init","populateCache","onDidChangeDocument","onDidCreateMarkdownDocument","markdownDocumentUris","getAllMarkdownDocuments","setPseudo","isPseudo","isDefined","BundleFormat","MessageFormat","LocalizeInfo","replacement","comment","pseudo","_key","common_1","common_2","resolvedBundles","isNumber","isString","readJsonFileSync","filename","readFileSync","createScopedLocalizeFunction","messages","cacheBundle","bundle","loadDefaultNlsBundle","bundlePath","metaData","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","cacheRoot","languagePackId","translationsConfigFile","translationsConfig","d","hash","useMemoryOnly","writeBundle","flag","utimes","unlink","metaDataPath","languagePackLocation","languagePack","module_2","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","writeFileSync","loadNlsBundleOrCreateFromI18n","findInTheBoxBundle","messageFormat","both","headerFile","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","bundleFormat","standalone","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","writeFile","initializeSettings","LIB","h","u","l","_makeLong","dir","P","navigator","userAgent","__proto__","g","isUri","A","y","O","w","revive","_formatted","external","_fsPath","_sep","$mid","C","fromCharCode","j","U","I","ConfigurationManager","_onDidChangeConfiguration","_settings","settings","getSettings","defaultDiagnosticOptions","md","convertDiagnosticLevel","enabled","ls","diagnosticOptions","updateDiagnosticsSetting","markdown","experimental","validate","fileLinks","referenceLinks","markdownFragmentLinks","getDiagnosticsOptions","subs","manager","LogFunctionLogger","_logFn","getUTCHours","padStart","getMinutes","getUTCSeconds","getMilliseconds","appendLine","data2String","consoleLogger","fs_readFile","fs_readDirectory","fs_stat","fs_watcher_create","fs_watcher_delete","findMarkdownFilesInWorkspace","fs_watcher_onChange","configurationManager","provider","initializationOptions","VsCodeClientWorkspace","suggest","paths","registerCompletionsSupport","registerValidateSupport","diagnosticProvider","identifier","interFileDependencies","workspaceDiagnostics","completionProvider","triggerCharacters","definitionProvider","documentLinkProvider","resolveProvider","documentSymbolProvider","foldingRangeProvider","prepareProvider","selectionRangeProvider","supported","notebookCell","_onDidCreateMarkdownDocument","_onDidChangeMarkdownDocument","_onDidDeleteMarkdownDocument","_documentCache","_utf8Decoder","_watcherPool","_watchers","_workspaceFolders","onDidOpen","isRelevantMarkdownDocument","onDidChangeContent","onDidClose","onDidChange","onDidChangeWorkspaceFolders","foundFiles","resources","onDiskResults","strResource","openTextDocumentResults","matchingDocument","bytes","Uint8Array","nb","isMarkdownFile","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","startServer"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceFormat = exports.TraceValues = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType('textDocument/colorPresentation');\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType('workspace/configuration');\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.type = new messages_1.ProtocolRequestType('client/registerCapability');\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType('client/unregisterCapability');\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.type = new messages_1.ProtocolRequestType('initialize');\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.type = new messages_1.ProtocolNotificationType('initialized');\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0('shutdown');\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.type = new messages_1.ProtocolNotificationType0('exit');\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeConfiguration');\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType('window/showMessage');\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType('window/showMessageRequest');\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType('window/logMessage');\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType('telemetry/event');\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWatchedFiles');\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType('textDocument/publishDiagnostics');\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType('workspace/executeCommand');\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0('workspace/workspaceFolders');\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType('workspace/didChangeWorkspaceFolders');\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nclass FullTextDocument {\n    constructor(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get languageId() {\n        return this._languageId;\n    }\n    get version() {\n        return this._version;\n    }\n    getText(range) {\n        if (range) {\n            const start = this.offsetAt(range.start);\n            const end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    }\n    update(changes, version) {\n        for (let change of changes) {\n            if (FullTextDocument.isIncremental(change)) {\n                // makes sure start is before end\n                const range = getWellformedRange(change.range);\n                // update content\n                const startOffset = this.offsetAt(range.start);\n                const endOffset = this.offsetAt(range.end);\n                this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);\n                // update the offsets\n                const startLine = Math.max(range.start.line, 0);\n                const endLine = Math.max(range.end.line, 0);\n                let lineOffsets = this._lineOffsets;\n                const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);\n                if (endLine - startLine === addedLineOffsets.length) {\n                    for (let i = 0, len = addedLineOffsets.length; i < len; i++) {\n                        lineOffsets[i + startLine + 1] = addedLineOffsets[i];\n                    }\n                }\n                else {\n                    if (addedLineOffsets.length < 10000) {\n                        lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);\n                    }\n                    else { // avoid too many arguments for splice\n                        this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));\n                    }\n                }\n                const diff = change.text.length - (endOffset - startOffset);\n                if (diff !== 0) {\n                    for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {\n                        lineOffsets[i] = lineOffsets[i] + diff;\n                    }\n                }\n            }\n            else if (FullTextDocument.isFull(change)) {\n                this._content = change.text;\n                this._lineOffsets = undefined;\n            }\n            else {\n                throw new Error('Unknown change event received');\n            }\n        }\n        this._version = version;\n    }\n    getLineOffsets() {\n        if (this._lineOffsets === undefined) {\n            this._lineOffsets = computeLineOffsets(this._content, true);\n        }\n        return this._lineOffsets;\n    }\n    positionAt(offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        let lineOffsets = this.getLineOffsets();\n        let low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return { line: 0, character: offset };\n        }\n        while (low < high) {\n            let mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        let line = low - 1;\n        return { line, character: offset - lineOffsets[line] };\n    }\n    offsetAt(position) {\n        let lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        let lineOffset = lineOffsets[position.line];\n        let nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    }\n    get lineCount() {\n        return this.getLineOffsets().length;\n    }\n    static isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    static isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n}\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new text document.\n     *\n     * @param uri The document's uri.\n     * @param languageId  The document's language Id.\n     * @param version The document's initial version number.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Updates a TextDocument by modifying its content.\n     *\n     * @param document the document to update. Only documents created by TextDocument.create are valid inputs.\n     * @param changes the changes to apply to the document.\n     * @param version the changes version for the document.\n     * @returns The updated TextDocument. Note: That's the same document instance passed in as first parameter.\n     *\n     */\n    function update(document, changes, version) {\n        if (document instanceof FullTextDocument) {\n            document.update(changes, version);\n            return document;\n        }\n        else {\n            throw new Error('TextDocument.update: document must be created by TextDocument.create');\n        }\n    }\n    TextDocument.update = update;\n    function applyEdits(document, edits) {\n        let text = document.getText();\n        let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a, b) => {\n            let diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        let lastModifiedOffset = 0;\n        const spans = [];\n        for (const e of sortedEdits) {\n            let startOffset = document.offsetAt(e.range.start);\n            if (startOffset < lastModifiedOffset) {\n                throw new Error('Overlapping edit');\n            }\n            else if (startOffset > lastModifiedOffset) {\n                spans.push(text.substring(lastModifiedOffset, startOffset));\n            }\n            if (e.newText.length) {\n                spans.push(e.newText);\n            }\n            lastModifiedOffset = document.offsetAt(e.range.end);\n        }\n        spans.push(text.substr(lastModifiedOffset));\n        return spans.join('');\n    }\n    TextDocument.applyEdits = applyEdits;\n})(TextDocument || (TextDocument = {}));\nfunction mergeSort(data, compare) {\n    if (data.length <= 1) {\n        // sorted\n        return data;\n    }\n    const p = (data.length / 2) | 0;\n    const left = data.slice(0, p);\n    const right = data.slice(p);\n    mergeSort(left, compare);\n    mergeSort(right, compare);\n    let leftIdx = 0;\n    let rightIdx = 0;\n    let i = 0;\n    while (leftIdx < left.length && rightIdx < right.length) {\n        let ret = compare(left[leftIdx], right[rightIdx]);\n        if (ret <= 0) {\n            // smaller_equal -> take left to preserve order\n            data[i++] = left[leftIdx++];\n        }\n        else {\n            // greater -> take right\n            data[i++] = right[rightIdx++];\n        }\n    }\n    while (leftIdx < left.length) {\n        data[i++] = left[leftIdx++];\n    }\n    while (rightIdx < right.length) {\n        data[i++] = right[rightIdx++];\n    }\n    return data;\n}\nfunction computeLineOffsets(text, isAtLineStart, textOffset = 0) {\n    const result = isAtLineStart ? [textOffset] : [];\n    for (let i = 0; i < text.length; i++) {\n        let ch = text.charCodeAt(i);\n        if (ch === 13 /* CarriageReturn */ || ch === 10 /* LineFeed */) {\n            if (ch === 13 /* CarriageReturn */ && i + 1 < text.length && text.charCodeAt(i + 1) === 10 /* LineFeed */) {\n                i++;\n            }\n            result.push(textOffset + i + 1);\n        }\n    }\n    return result;\n}\nfunction getWellformedRange(range) {\n    const start = range.start;\n    const end = range.end;\n    if (start.line > end.line || (start.line === end.line && start.character > end.character)) {\n        return { start: end, end: start };\n    }\n    return range;\n}\nfunction getWellformedEdit(textEdit) {\n    const range = getWellformedRange(textEdit.range);\n    if (range !== textEdit.range) {\n        return { newText: textEdit.newText, range };\n    }\n    return textEdit;\n}\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for a imports or includes\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates a insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.NotebookDocuments = exports.TextDocuments = exports.SemanticTokensBuilder = void 0;\nconst semanticTokens_1 = require(\"./semanticTokens\");\nObject.defineProperty(exports, \"SemanticTokensBuilder\", { enumerable: true, get: function () { return semanticTokens_1.SemanticTokensBuilder; } });\n__exportStar(require(\"vscode-languageserver-protocol/\"), exports);\nconst textDocuments_1 = require(\"./textDocuments\");\nObject.defineProperty(exports, \"TextDocuments\", { enumerable: true, get: function () { return textDocuments_1.TextDocuments; } });\nconst notebook_1 = require(\"./notebook\");\nObject.defineProperty(exports, \"NotebookDocuments\", { enumerable: true, get: function () { return notebook_1.NotebookDocuments; } });\n__exportStar(require(\"./server\"), exports);\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    ProposedFeatures.all = {\n        __brand: 'features',\n    };\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=api.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst CallHierarchyFeature = (Base) => {\n    return class extends Base {\n        get callHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onIncomingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onOutgoingCalls: (handler) => {\n                    const type = vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst ConfigurationFeature = (Base) => {\n    return class extends Base {\n        getConfiguration(arg) {\n            if (!arg) {\n                return this._getConfiguration({});\n            }\n            else if (Is.string(arg)) {\n                return this._getConfiguration({ section: arg });\n            }\n            else {\n                return this._getConfiguration(arg);\n            }\n        }\n        _getConfiguration(arg) {\n            let params = {\n                items: Array.isArray(arg) ? arg : [arg]\n            };\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, params).then((result) => {\n                if (Array.isArray(result)) {\n                    return Array.isArray(arg) ? result : result[0];\n                }\n                else {\n                    return Array.isArray(arg) ? [] : null;\n                }\n            });\n        }\n    };\n};\nexports.ConfigurationFeature = ConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst DiagnosticFeature = (Base) => {\n    return class extends Base {\n        get diagnostics() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult, params));\n                    });\n                },\n                onWorkspace: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileOperationsFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst FileOperationsFeature = (Base) => {\n    return class extends Base {\n        onDidCreateFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidRenameFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onDidDeleteFiles(handler) {\n            return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type, (params) => {\n                handler(params);\n            });\n        }\n        onWillCreateFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillRenameFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n        onWillDeleteFiles(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type, (params, cancel) => {\n                return handler(params, cancel);\n            });\n        }\n    };\n};\nexports.FileOperationsFeature = FileOperationsFeature;\n//# sourceMappingURL=fileOperations.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlayHintFeature = (Base) => {\n    return class extends Base {\n        get inlayHint() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                },\n                resolve: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, (params, cancel) => {\n                        return handler(params, cancel);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlayHintFeature = InlayHintFeature;\n//# sourceMappingURL=inlayHint.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst InlineValueFeature = (Base) => {\n    return class extends Base {\n        get inlineValue() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type);\n                },\n                on: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst LinkedEditingRangeFeature = (Base) => {\n    return class extends Base {\n        onLinkedEditingRange(handler) {\n            return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type, (params, cancel) => {\n                return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n            });\n        }\n    };\n};\nexports.LinkedEditingRangeFeature = LinkedEditingRangeFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst MonikerFeature = (Base) => {\n    return class extends Base {\n        get moniker() {\n            return {\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.MonikerRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n            };\n        }\n    };\n};\nexports.MonikerFeature = MonikerFeature;\n//# sourceMappingURL=moniker.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocuments = exports.NotebookSyncFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst textDocuments_1 = require(\"./textDocuments\");\nconst NotebookSyncFeature = (Base) => {\n    return class extends Base {\n        get synchronization() {\n            return {\n                onDidOpenNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidChangeNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidSaveNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                },\n                onDidCloseNotebookDocument: (handler) => {\n                    return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type, (params) => {\n                        handler(params);\n                    });\n                }\n            };\n        }\n    };\n};\nexports.NotebookSyncFeature = NotebookSyncFeature;\nclass CellTextDocumentConnection {\n    onDidOpenTextDocument(handler) {\n        this.openHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.openHandler = undefined; });\n    }\n    openTextDocument(params) {\n        this.openHandler && this.openHandler(params);\n    }\n    onDidChangeTextDocument(handler) {\n        this.changeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.changeHandler = handler; });\n    }\n    changeTextDocument(params) {\n        this.changeHandler && this.changeHandler(params);\n    }\n    onDidCloseTextDocument(handler) {\n        this.closeHandler = handler;\n        return vscode_languageserver_protocol_1.Disposable.create(() => { this.closeHandler = undefined; });\n    }\n    closeTextDocument(params) {\n        this.closeHandler && this.closeHandler(params);\n    }\n    onWillSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onWillSaveTextDocumentWaitUntil() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n    onDidSaveTextDocument() {\n        return CellTextDocumentConnection.NULL_DISPOSE;\n    }\n}\nCellTextDocumentConnection.NULL_DISPOSE = Object.freeze({ dispose: () => { } });\nclass NotebookDocuments {\n    constructor(configurationOrTextDocuments) {\n        if (configurationOrTextDocuments instanceof textDocuments_1.TextDocuments) {\n            this._cellTextDocuments = configurationOrTextDocuments;\n        }\n        else {\n            this._cellTextDocuments = new textDocuments_1.TextDocuments(configurationOrTextDocuments);\n        }\n        this.notebookDocuments = new Map();\n        this.notebookCellMap = new Map();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidChange = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n    }\n    get cellTextDocuments() {\n        return this._cellTextDocuments;\n    }\n    getCellTextDocument(cell) {\n        return this._cellTextDocuments.get(cell.document);\n    }\n    getNotebookDocument(uri) {\n        return this.notebookDocuments.get(uri);\n    }\n    getNotebookCell(uri) {\n        const value = this.notebookCellMap.get(uri);\n        return value && value[0];\n    }\n    findNotebookDocumentForCell(cell) {\n        const key = typeof cell === 'string' ? cell : cell.document;\n        const value = this.notebookCellMap.get(key);\n        return value && value[1];\n    }\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    get onDidChange() {\n        return this._onDidChange.event;\n    }\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the notebook documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenNotebookDocument`, `onDidChangeNotebookDocument`, `onDidSaveNotebookDocument`,\n     *  and `onDidCloseNotebookDocument`.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        const cellTextDocumentConnection = new CellTextDocumentConnection();\n        const disposables = [];\n        disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));\n        disposables.push(connection.notebooks.synchronization.onDidOpenNotebookDocument((params) => {\n            this.notebookDocuments.set(params.notebookDocument.uri, params.notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.openTextDocument({ textDocument: cellTextDocument });\n            }\n            this.updateCellMap(params.notebookDocument);\n            this._onDidOpen.fire(params.notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidChangeNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            notebookDocument.version = params.notebookDocument.version;\n            const oldMetadata = notebookDocument.metadata;\n            let metadataChanged = false;\n            const change = params.change;\n            if (change.metadata !== undefined) {\n                metadataChanged = true;\n                notebookDocument.metadata = change.metadata;\n            }\n            const opened = [];\n            const closed = [];\n            const data = [];\n            const text = [];\n            if (change.cells !== undefined) {\n                const changedCells = change.cells;\n                if (changedCells.structure !== undefined) {\n                    const array = changedCells.structure.array;\n                    notebookDocument.cells.splice(array.start, array.deleteCount, ...(array.cells !== undefined ? array.cells : []));\n                    // Additional open cell text documents.\n                    if (changedCells.structure.didOpen !== undefined) {\n                        for (const open of changedCells.structure.didOpen) {\n                            cellTextDocumentConnection.openTextDocument({ textDocument: open });\n                            opened.push(open.uri);\n                        }\n                    }\n                    // Additional closed cell test documents.\n                    if (changedCells.structure.didClose) {\n                        for (const close of changedCells.structure.didClose) {\n                            cellTextDocumentConnection.closeTextDocument({ textDocument: close });\n                            closed.push(close.uri);\n                        }\n                    }\n                }\n                if (changedCells.data !== undefined) {\n                    const cellUpdates = new Map(changedCells.data.map(cell => [cell.document, cell]));\n                    for (let i = 0; i <= notebookDocument.cells.length; i++) {\n                        const change = cellUpdates.get(notebookDocument.cells[i].document);\n                        if (change !== undefined) {\n                            const old = notebookDocument.cells.splice(i, 1, change);\n                            data.push({ old: old[0], new: change });\n                            cellUpdates.delete(change.document);\n                            if (cellUpdates.size === 0) {\n                                break;\n                            }\n                        }\n                    }\n                }\n                if (changedCells.textContent !== undefined) {\n                    for (const cellTextDocument of changedCells.textContent) {\n                        cellTextDocumentConnection.changeTextDocument({ textDocument: cellTextDocument.document, contentChanges: cellTextDocument.changes });\n                        text.push(cellTextDocument.document.uri);\n                    }\n                }\n            }\n            // Update internal data structure.\n            this.updateCellMap(notebookDocument);\n            const changeEvent = { notebookDocument };\n            if (metadataChanged) {\n                changeEvent.metadata = { old: oldMetadata, new: notebookDocument.metadata };\n            }\n            const added = [];\n            for (const open of opened) {\n                added.push(this.getNotebookCell(open));\n            }\n            const removed = [];\n            for (const close of closed) {\n                removed.push(this.getNotebookCell(close));\n            }\n            const textContent = [];\n            for (const change of text) {\n                textContent.push(this.getNotebookCell(change));\n            }\n            if (added.length > 0 || removed.length > 0 || data.length > 0 || textContent.length > 0) {\n                changeEvent.cells = { added, removed, changed: { data, textContent } };\n            }\n            if (changeEvent.metadata !== undefined || changeEvent.cells !== undefined) {\n                this._onDidChange.fire(changeEvent);\n            }\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidSaveNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidSave.fire(notebookDocument);\n        }));\n        disposables.push(connection.notebooks.synchronization.onDidCloseNotebookDocument((params) => {\n            const notebookDocument = this.notebookDocuments.get(params.notebookDocument.uri);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            this._onDidClose.fire(notebookDocument);\n            for (const cellTextDocument of params.cellTextDocuments) {\n                cellTextDocumentConnection.closeTextDocument({ textDocument: cellTextDocument });\n            }\n            this.notebookDocuments.delete(params.notebookDocument.uri);\n            for (const cell of notebookDocument.cells) {\n                this.notebookCellMap.delete(cell.document);\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n    updateCellMap(notebookDocument) {\n        for (const cell of notebookDocument.cells) {\n            this.notebookCellMap.set(cell.document, [cell, notebookDocument]);\n        }\n    }\n}\nexports.NotebookDocuments = NotebookDocuments;\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attachPartialResult = exports.ProgressFeature = exports.attachWorkDone = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nclass WorkDoneProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n        WorkDoneProgressReporterImpl.Instances.set(this._token, this);\n    }\n    begin(title, percentage, message, cancellable) {\n        let param = {\n            kind: 'begin',\n            title,\n            percentage,\n            message,\n            cancellable\n        };\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    report(arg0, arg1) {\n        let param = {\n            kind: 'report'\n        };\n        if (typeof arg0 === 'number') {\n            param.percentage = arg0;\n            if (arg1 !== undefined) {\n                param.message = arg1;\n            }\n        }\n        else {\n            param.message = arg0;\n        }\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, param);\n    }\n    done() {\n        WorkDoneProgressReporterImpl.Instances.delete(this._token);\n        this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, { kind: 'end' });\n    }\n}\nWorkDoneProgressReporterImpl.Instances = new Map();\nclass WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl {\n    constructor(connection, token) {\n        super(connection, token);\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n        super.done();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nclass NullProgressReporter {\n    constructor() {\n    }\n    begin() {\n    }\n    report() {\n    }\n    done() {\n    }\n}\nclass NullProgressServerReporter extends NullProgressReporter {\n    constructor() {\n        super();\n        this._source = new vscode_languageserver_protocol_1.CancellationTokenSource();\n    }\n    get token() {\n        return this._source.token;\n    }\n    done() {\n        this._source.dispose();\n    }\n    cancel() {\n        this._source.cancel();\n    }\n}\nfunction attachWorkDone(connection, params) {\n    if (params === undefined || params.workDoneToken === undefined) {\n        return new NullProgressReporter();\n    }\n    const token = params.workDoneToken;\n    delete params.workDoneToken;\n    return new WorkDoneProgressReporterImpl(connection, token);\n}\nexports.attachWorkDone = attachWorkDone;\nconst ProgressFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._progressSupported = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            if (capabilities?.window?.workDoneProgress === true) {\n                this._progressSupported = true;\n                this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, (params) => {\n                    let progress = WorkDoneProgressReporterImpl.Instances.get(params.token);\n                    if (progress instanceof WorkDoneProgressServerReporterImpl || progress instanceof NullProgressServerReporter) {\n                        progress.cancel();\n                    }\n                });\n            }\n        }\n        attachWorkDoneProgress(token) {\n            if (token === undefined) {\n                return new NullProgressReporter();\n            }\n            else {\n                return new WorkDoneProgressReporterImpl(this.connection, token);\n            }\n        }\n        createWorkDoneProgress() {\n            if (this._progressSupported) {\n                const token = (0, uuid_1.generateUuid)();\n                return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, { token }).then(() => {\n                    const result = new WorkDoneProgressServerReporterImpl(this.connection, token);\n                    return result;\n                });\n            }\n            else {\n                return Promise.resolve(new NullProgressServerReporter());\n            }\n        }\n    };\n};\nexports.ProgressFeature = ProgressFeature;\nvar ResultProgress;\n(function (ResultProgress) {\n    ResultProgress.type = new vscode_languageserver_protocol_1.ProgressType();\n})(ResultProgress || (ResultProgress = {}));\nclass ResultProgressReporterImpl {\n    constructor(_connection, _token) {\n        this._connection = _connection;\n        this._token = _token;\n    }\n    report(data) {\n        this._connection.sendProgress(ResultProgress.type, this._token, data);\n    }\n}\nfunction attachPartialResult(connection, params) {\n    if (params === undefined || params.partialResultToken === undefined) {\n        return undefined;\n    }\n    const token = params.partialResultToken;\n    delete params.partialResultToken;\n    return new ResultProgressReporterImpl(connection, token);\n}\nexports.attachPartialResult = attachPartialResult;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensBuilder = exports.SemanticTokensDiff = exports.SemanticTokensFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst SemanticTokensFeature = (Base) => {\n    return class extends Base {\n        get semanticTokens() {\n            return {\n                refresh: () => {\n                    return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type);\n                },\n                on: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onDelta: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onRange: (handler) => {\n                    const type = vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.SemanticTokensFeature = SemanticTokensFeature;\nclass SemanticTokensDiff {\n    constructor(originalSequence, modifiedSequence) {\n        this.originalSequence = originalSequence;\n        this.modifiedSequence = modifiedSequence;\n    }\n    computeDiff() {\n        const originalLength = this.originalSequence.length;\n        const modifiedLength = this.modifiedSequence.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && this.originalSequence[startIndex] === this.modifiedSequence[startIndex]) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= startIndex && modifiedEndIndex >= startIndex && this.originalSequence[originalEndIndex] === this.modifiedSequence[modifiedEndIndex]) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            // if one moved behind the start index move them forward again\n            if (originalEndIndex < startIndex || modifiedEndIndex < startIndex) {\n                originalEndIndex++;\n                modifiedEndIndex++;\n            }\n            const deleteCount = originalEndIndex - startIndex + 1;\n            const newData = this.modifiedSequence.slice(startIndex, modifiedEndIndex + 1);\n            // If we moved behind the start index we could have missed a simple delete.\n            if (newData.length === 1 && newData[0] === this.originalSequence[originalEndIndex]) {\n                return [\n                    { start: startIndex, deleteCount: deleteCount - 1 }\n                ];\n            }\n            else {\n                return [\n                    { start: startIndex, deleteCount, data: newData }\n                ];\n            }\n        }\n        else if (startIndex < modifiedLength) {\n            return [\n                { start: startIndex, deleteCount: 0, data: this.modifiedSequence.slice(startIndex) }\n            ];\n        }\n        else if (startIndex < originalLength) {\n            return [\n                { start: startIndex, deleteCount: originalLength - startIndex }\n            ];\n        }\n        else {\n            // The two arrays are the same.\n            return [];\n        }\n    }\n}\nexports.SemanticTokensDiff = SemanticTokensDiff;\nclass SemanticTokensBuilder {\n    constructor() {\n        this._prevData = undefined;\n        this.initialize();\n    }\n    initialize() {\n        this._id = Date.now();\n        this._prevLine = 0;\n        this._prevChar = 0;\n        this._data = [];\n        this._dataLen = 0;\n    }\n    push(line, char, length, tokenType, tokenModifiers) {\n        let pushLine = line;\n        let pushChar = char;\n        if (this._dataLen > 0) {\n            pushLine -= this._prevLine;\n            if (pushLine === 0) {\n                pushChar -= this._prevChar;\n            }\n        }\n        this._data[this._dataLen++] = pushLine;\n        this._data[this._dataLen++] = pushChar;\n        this._data[this._dataLen++] = length;\n        this._data[this._dataLen++] = tokenType;\n        this._data[this._dataLen++] = tokenModifiers;\n        this._prevLine = line;\n        this._prevChar = char;\n    }\n    get id() {\n        return this._id.toString();\n    }\n    previousResult(id) {\n        if (this.id === id) {\n            this._prevData = this._data;\n        }\n        this.initialize();\n    }\n    build() {\n        this._prevData = undefined;\n        return {\n            resultId: this.id,\n            data: this._data\n        };\n    }\n    canBuildEdits() {\n        return this._prevData !== undefined;\n    }\n    buildEdits() {\n        if (this._prevData !== undefined) {\n            return {\n                resultId: this.id,\n                edits: (new SemanticTokensDiff(this._prevData, this._data)).computeDiff()\n            };\n        }\n        else {\n            return this.build();\n        }\n    }\n}\nexports.SemanticTokensBuilder = SemanticTokensBuilder;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.combineFeatures = exports.combineNotebooksFeatures = exports.combineLanguagesFeatures = exports.combineWorkspaceFeatures = exports.combineWindowFeatures = exports.combineClientFeatures = exports.combineTracerFeatures = exports.combineTelemetryFeatures = exports.combineConsoleFeatures = exports._NotebooksImpl = exports._LanguagesImpl = exports.BulkUnregistration = exports.BulkRegistration = exports.ErrorMessageTracker = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst progress_1 = require(\"./progress\");\nconst configuration_1 = require(\"./configuration\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst showDocument_1 = require(\"./showDocument\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst moniker_1 = require(\"./moniker\");\nfunction null2Undefined(value) {\n    if (value === null) {\n        return undefined;\n    }\n    return value;\n}\n/**\n * Helps tracking error message. Equal occurrences of the same\n * message are only stored once. This class is for example\n * useful if text documents are validated in a loop and equal\n * error message should be folded into one.\n */\nclass ErrorMessageTracker {\n    constructor() {\n        this._messages = Object.create(null);\n    }\n    /**\n     * Add a message to the tracker.\n     *\n     * @param message The message to add.\n     */\n    add(message) {\n        let count = this._messages[message];\n        if (!count) {\n            count = 0;\n        }\n        count++;\n        this._messages[message] = count;\n    }\n    /**\n     * Send all tracked messages to the connection's window.\n     *\n     * @param connection The connection established between client and server.\n     */\n    sendErrors(connection) {\n        Object.keys(this._messages).forEach(message => {\n            connection.window.showErrorMessage(message);\n        });\n    }\n}\nexports.ErrorMessageTracker = ErrorMessageTracker;\nclass RemoteConsoleImpl {\n    constructor() {\n    }\n    rawAttach(connection) {\n        this._rawConnection = connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    initialize(_capabilities) {\n    }\n    error(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Error, message);\n    }\n    warn(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Warning, message);\n    }\n    info(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Info, message);\n    }\n    log(message) {\n        this.send(vscode_languageserver_protocol_1.MessageType.Log, message);\n    }\n    send(type, message) {\n        if (this._rawConnection) {\n            this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, { type, message }).catch(() => {\n                (0, vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`);\n            });\n        }\n    }\n}\nclass _RemoteWindowImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    showErrorMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Error, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showWarningMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Warning, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n    showInformationMessage(message, ...actions) {\n        let params = { type: vscode_languageserver_protocol_1.MessageType.Info, message, actions };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, params).then(null2Undefined);\n    }\n}\nconst RemoteWindowImpl = (0, showDocument_1.ShowDocumentFeature)((0, progress_1.ProgressFeature)(_RemoteWindowImpl));\nvar BulkRegistration;\n(function (BulkRegistration) {\n    /**\n     * Creates a new bulk registration.\n     * @return an empty bulk registration.\n     */\n    function create() {\n        return new BulkRegistrationImpl();\n    }\n    BulkRegistration.create = create;\n})(BulkRegistration = exports.BulkRegistration || (exports.BulkRegistration = {}));\nclass BulkRegistrationImpl {\n    constructor() {\n        this._registrations = [];\n        this._registered = new Set();\n    }\n    add(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        if (this._registered.has(method)) {\n            throw new Error(`${method} is already added to this registration`);\n        }\n        const id = UUID.generateUuid();\n        this._registrations.push({\n            id: id,\n            method: method,\n            registerOptions: registerOptions || {}\n        });\n        this._registered.add(method);\n    }\n    asRegistrationParams() {\n        return {\n            registrations: this._registrations\n        };\n    }\n}\nvar BulkUnregistration;\n(function (BulkUnregistration) {\n    function create() {\n        return new BulkUnregistrationImpl(undefined, []);\n    }\n    BulkUnregistration.create = create;\n})(BulkUnregistration = exports.BulkUnregistration || (exports.BulkUnregistration = {}));\nclass BulkUnregistrationImpl {\n    constructor(_connection, unregistrations) {\n        this._connection = _connection;\n        this._unregistrations = new Map();\n        unregistrations.forEach(unregistration => {\n            this._unregistrations.set(unregistration.method, unregistration);\n        });\n    }\n    get isAttached() {\n        return !!this._connection;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    add(unregistration) {\n        this._unregistrations.set(unregistration.method, unregistration);\n    }\n    dispose() {\n        let unregistrations = [];\n        for (let unregistration of this._unregistrations.values()) {\n            unregistrations.push(unregistration);\n        }\n        let params = {\n            unregisterations: unregistrations\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this._connection.console.info(`Bulk unregistration failed.`);\n        });\n    }\n    disposeSingle(arg) {\n        const method = Is.string(arg) ? arg : arg.method;\n        const unregistration = this._unregistrations.get(method);\n        if (!unregistration) {\n            return false;\n        }\n        let params = {\n            unregisterations: [unregistration]\n        };\n        this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).then(() => {\n            this._unregistrations.delete(method);\n        }, (_error) => {\n            this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`);\n        });\n        return true;\n    }\n}\nclass RemoteClientImpl {\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    register(typeOrRegistrations, registerOptionsOrType, registerOptions) {\n        if (typeOrRegistrations instanceof BulkRegistrationImpl) {\n            return this.registerMany(typeOrRegistrations);\n        }\n        else if (typeOrRegistrations instanceof BulkUnregistrationImpl) {\n            return this.registerSingle1(typeOrRegistrations, registerOptionsOrType, registerOptions);\n        }\n        else {\n            return this.registerSingle2(typeOrRegistrations, registerOptionsOrType);\n        }\n    }\n    registerSingle1(unregistration, type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        if (!unregistration.isAttached) {\n            unregistration.attach(this.connection);\n        }\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            unregistration.add({ id: id, method: method });\n            return unregistration;\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    registerSingle2(type, registerOptions) {\n        const method = Is.string(type) ? type : type.method;\n        const id = UUID.generateUuid();\n        let params = {\n            registrations: [{ id, method, registerOptions: registerOptions || {} }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then((_result) => {\n            return vscode_languageserver_protocol_1.Disposable.create(() => {\n                this.unregisterSingle(id, method).catch(() => { this.connection.console.info(`Un-registering capability with id ${id} failed.`); });\n            });\n        }, (_error) => {\n            this.connection.console.info(`Registering request handler for ${method} failed.`);\n            return Promise.reject(_error);\n        });\n    }\n    unregisterSingle(id, method) {\n        let params = {\n            unregisterations: [{ id, method }]\n        };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params).catch(() => {\n            this.connection.console.info(`Un-registering request handler for ${id} failed.`);\n        });\n    }\n    registerMany(registrations) {\n        let params = registrations.asRegistrationParams();\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params).then(() => {\n            return new BulkUnregistrationImpl(this._connection, params.registrations.map(registration => { return { id: registration.id, method: registration.method }; }));\n        }, (_error) => {\n            this.connection.console.info(`Bulk registration failed.`);\n            return Promise.reject(_error);\n        });\n    }\n}\nclass _RemoteWorkspaceImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    applyEdit(paramOrEdit) {\n        function isApplyWorkspaceEditParams(value) {\n            return value && !!value.edit;\n        }\n        let params = isApplyWorkspaceEditParams(paramOrEdit) ? paramOrEdit : { edit: paramOrEdit };\n        return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params);\n    }\n}\nconst RemoteWorkspaceImpl = (0, fileOperations_1.FileOperationsFeature)((0, workspaceFolder_1.WorkspaceFoldersFeature)((0, configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));\nclass TracerImpl {\n    constructor() {\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    set trace(value) {\n        this._trace = value;\n    }\n    log(message, verbose) {\n        if (this._trace === vscode_languageserver_protocol_1.Trace.Off) {\n            return;\n        }\n        this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type, {\n            message: message,\n            verbose: this._trace === vscode_languageserver_protocol_1.Trace.Verbose ? verbose : undefined\n        }).catch(() => {\n            // Very hard to decide what to do. We tried to send a log\n            // message which failed so we can't simply send another :-(.\n        });\n    }\n}\nclass TelemetryImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    logEvent(data) {\n        this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, data).catch(() => {\n            this.connection.console.log(`Sending TelemetryEventNotification failed`);\n        });\n    }\n}\nclass _LanguagesImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._LanguagesImpl = _LanguagesImpl;\nconst LanguagesImpl = (0, moniker_1.MonikerFeature)((0, diagnostic_1.DiagnosticFeature)((0, inlayHint_1.InlayHintFeature)((0, inlineValue_1.InlineValueFeature)((0, typeHierarchy_1.TypeHierarchyFeature)((0, linkedEditingRange_1.LinkedEditingRangeFeature)((0, semanticTokens_1.SemanticTokensFeature)((0, callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl))))))));\nclass _NotebooksImpl {\n    constructor() {\n    }\n    attach(connection) {\n        this._connection = connection;\n    }\n    get connection() {\n        if (!this._connection) {\n            throw new Error('Remote is not attached to a connection yet.');\n        }\n        return this._connection;\n    }\n    initialize(_capabilities) {\n    }\n    fillServerCapabilities(_capabilities) {\n    }\n    attachWorkDoneProgress(params) {\n        return (0, progress_1.attachWorkDone)(this.connection, params);\n    }\n    attachPartialResultProgress(_type, params) {\n        return (0, progress_1.attachPartialResult)(this.connection, params);\n    }\n}\nexports._NotebooksImpl = _NotebooksImpl;\nconst NotebooksImpl = (0, notebook_1.NotebookSyncFeature)(_NotebooksImpl);\nfunction combineConsoleFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineConsoleFeatures = combineConsoleFeatures;\nfunction combineTelemetryFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTelemetryFeatures = combineTelemetryFeatures;\nfunction combineTracerFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineTracerFeatures = combineTracerFeatures;\nfunction combineClientFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineClientFeatures = combineClientFeatures;\nfunction combineWindowFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWindowFeatures = combineWindowFeatures;\nfunction combineWorkspaceFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineWorkspaceFeatures = combineWorkspaceFeatures;\nfunction combineLanguagesFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineLanguagesFeatures = combineLanguagesFeatures;\nfunction combineNotebooksFeatures(one, two) {\n    return function (Base) {\n        return two(one(Base));\n    };\n}\nexports.combineNotebooksFeatures = combineNotebooksFeatures;\nfunction combineFeatures(one, two) {\n    function combine(one, two, func) {\n        if (one && two) {\n            return func(one, two);\n        }\n        else if (one) {\n            return one;\n        }\n        else {\n            return two;\n        }\n    }\n    let result = {\n        __brand: 'features',\n        console: combine(one.console, two.console, combineConsoleFeatures),\n        tracer: combine(one.tracer, two.tracer, combineTracerFeatures),\n        telemetry: combine(one.telemetry, two.telemetry, combineTelemetryFeatures),\n        client: combine(one.client, two.client, combineClientFeatures),\n        window: combine(one.window, two.window, combineWindowFeatures),\n        workspace: combine(one.workspace, two.workspace, combineWorkspaceFeatures),\n        languages: combine(one.languages, two.languages, combineLanguagesFeatures),\n        notebooks: combine(one.notebooks, two.notebooks, combineNotebooksFeatures)\n    };\n    return result;\n}\nexports.combineFeatures = combineFeatures;\nfunction createConnection(connectionFactory, watchDog, factories) {\n    const logger = (factories && factories.console ? new (factories.console(RemoteConsoleImpl))() : new RemoteConsoleImpl());\n    const connection = connectionFactory(logger);\n    logger.rawAttach(connection);\n    const tracer = (factories && factories.tracer ? new (factories.tracer(TracerImpl))() : new TracerImpl());\n    const telemetry = (factories && factories.telemetry ? new (factories.telemetry(TelemetryImpl))() : new TelemetryImpl());\n    const client = (factories && factories.client ? new (factories.client(RemoteClientImpl))() : new RemoteClientImpl());\n    const remoteWindow = (factories && factories.window ? new (factories.window(RemoteWindowImpl))() : new RemoteWindowImpl());\n    const workspace = (factories && factories.workspace ? new (factories.workspace(RemoteWorkspaceImpl))() : new RemoteWorkspaceImpl());\n    const languages = (factories && factories.languages ? new (factories.languages(LanguagesImpl))() : new LanguagesImpl());\n    const notebooks = (factories && factories.notebooks ? new (factories.notebooks(NotebooksImpl))() : new NotebooksImpl());\n    const allRemotes = [logger, tracer, telemetry, client, remoteWindow, workspace, languages, notebooks];\n    function asPromise(value) {\n        if (value instanceof Promise) {\n            return value;\n        }\n        else if (Is.thenable(value)) {\n            return new Promise((resolve, reject) => {\n                value.then((resolved) => resolve(resolved), (error) => reject(error));\n            });\n        }\n        else {\n            return Promise.resolve(value);\n        }\n    }\n    let shutdownHandler = undefined;\n    let initializeHandler = undefined;\n    let exitHandler = undefined;\n    let protocolConnection = {\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => connection.sendRequest(Is.string(type) ? type : type.method, ...params),\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        sendNotification: (type, param) => {\n            const method = Is.string(type) ? type : type.method;\n            if (arguments.length === 1) {\n                return connection.sendNotification(method);\n            }\n            else {\n                return connection.sendNotification(method, param);\n            }\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        onInitialize: (handler) => {\n            initializeHandler = handler;\n            return {\n                dispose: () => {\n                    initializeHandler = undefined;\n                }\n            };\n        },\n        onInitialized: (handler) => connection.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type, handler),\n        onShutdown: (handler) => {\n            shutdownHandler = handler;\n            return {\n                dispose: () => {\n                    shutdownHandler = undefined;\n                }\n            };\n        },\n        onExit: (handler) => {\n            exitHandler = handler;\n            return {\n                dispose: () => {\n                    exitHandler = undefined;\n                }\n            };\n        },\n        get console() { return logger; },\n        get telemetry() { return telemetry; },\n        get tracer() { return tracer; },\n        get client() { return client; },\n        get window() { return remoteWindow; },\n        get workspace() { return workspace; },\n        get languages() { return languages; },\n        get notebooks() { return notebooks; },\n        onDidChangeConfiguration: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, handler),\n        onDidChangeWatchedFiles: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, handler),\n        __textDocumentSync: undefined,\n        onDidOpenTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, handler),\n        onDidChangeTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, handler),\n        onDidCloseTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, handler),\n        onWillSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, handler),\n        onWillSaveTextDocumentWaitUntil: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, handler),\n        onDidSaveTextDocument: (handler) => connection.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, handler),\n        sendDiagnostics: (params) => connection.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params),\n        onHover: (handler) => connection.onRequest(vscode_languageserver_protocol_1.HoverRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onCompletion: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCompletionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, handler),\n        onSignatureHelp: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDeclaration: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onTypeDefinition: (handler) => connection.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onImplementation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onReferences: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentHighlight: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbol: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onWorkspaceSymbolResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, handler),\n        onCodeAction: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeActionResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onCodeLens: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onCodeLensResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentRangeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onDocumentOnTypeFormatting: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onRenameRequest: (handler) => connection.onRequest(vscode_languageserver_protocol_1.RenameRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        onPrepareRename: (handler) => connection.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentLinks: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onDocumentLinkResolve: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, (params, cancel) => {\n            return handler(params, cancel);\n        }),\n        onDocumentColor: (handler) => connection.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onColorPresentation: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onFoldingRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onSelectionRanges: (handler) => connection.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), (0, progress_1.attachPartialResult)(connection, params));\n        }),\n        onExecuteCommand: (handler) => connection.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, (params, cancel) => {\n            return handler(params, cancel, (0, progress_1.attachWorkDone)(connection, params), undefined);\n        }),\n        dispose: () => connection.dispose()\n    };\n    for (let remote of allRemotes) {\n        remote.attach(protocolConnection);\n    }\n    connection.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type, (params) => {\n        watchDog.initialize(params);\n        if (Is.string(params.trace)) {\n            tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.trace);\n        }\n        for (let remote of allRemotes) {\n            remote.initialize(params.capabilities);\n        }\n        if (initializeHandler) {\n            let result = initializeHandler(params, new vscode_languageserver_protocol_1.CancellationTokenSource().token, (0, progress_1.attachWorkDone)(connection, params), undefined);\n            return asPromise(result).then((value) => {\n                if (value instanceof vscode_languageserver_protocol_1.ResponseError) {\n                    return value;\n                }\n                let result = value;\n                if (!result) {\n                    result = { capabilities: {} };\n                }\n                let capabilities = result.capabilities;\n                if (!capabilities) {\n                    capabilities = {};\n                    result.capabilities = capabilities;\n                }\n                if (capabilities.textDocumentSync === undefined || capabilities.textDocumentSync === null) {\n                    capabilities.textDocumentSync = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                else if (!Is.number(capabilities.textDocumentSync) && !Is.number(capabilities.textDocumentSync.change)) {\n                    capabilities.textDocumentSync.change = Is.number(protocolConnection.__textDocumentSync) ? protocolConnection.__textDocumentSync : vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n                }\n                for (let remote of allRemotes) {\n                    remote.fillServerCapabilities(capabilities);\n                }\n                return result;\n            });\n        }\n        else {\n            let result = { capabilities: { textDocumentSync: vscode_languageserver_protocol_1.TextDocumentSyncKind.None } };\n            for (let remote of allRemotes) {\n                remote.fillServerCapabilities(result.capabilities);\n            }\n            return result;\n        }\n    });\n    connection.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, () => {\n        watchDog.shutdownReceived = true;\n        if (shutdownHandler) {\n            return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token);\n        }\n        else {\n            return undefined;\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.ExitNotification.type, () => {\n        try {\n            if (exitHandler) {\n                exitHandler();\n            }\n        }\n        finally {\n            if (watchDog.shutdownReceived) {\n                watchDog.exit(0);\n            }\n            else {\n                watchDog.exit(1);\n            }\n        }\n    });\n    connection.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type, (params) => {\n        tracer.trace = vscode_languageserver_protocol_1.Trace.fromString(params.value);\n    });\n    return protocolConnection;\n}\nexports.createConnection = createConnection;\n//# sourceMappingURL=server.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst ShowDocumentFeature = (Base) => {\n    return class extends Base {\n        showDocument(params) {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, params);\n        }\n    };\n};\nexports.ShowDocumentFeature = ShowDocumentFeature;\n//# sourceMappingURL=showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextDocuments = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\n/**\n * A manager for simple text documents. The manager requires at a minimum that\n * the server registered for the following text document sync events in the\n * initialize handler or via dynamic registration:\n *\n * - open and close events.\n * - change events.\n *\n * Registering for save and will save events is optional.\n */\nclass TextDocuments {\n    /**\n     * Create a new text document manager.\n     */\n    constructor(configuration) {\n        this._configuration = configuration;\n        this._syncedDocuments = new Map();\n        this._onDidChangeContent = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidOpen = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidClose = new vscode_languageserver_protocol_1.Emitter();\n        this._onDidSave = new vscode_languageserver_protocol_1.Emitter();\n        this._onWillSave = new vscode_languageserver_protocol_1.Emitter();\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened.\n     */\n    get onDidOpen() {\n        return this._onDidOpen.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been opened or the content changes.\n     */\n    get onDidChangeContent() {\n        return this._onDidChangeContent.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * will be saved.\n     */\n    get onWillSave() {\n        return this._onWillSave.event;\n    }\n    /**\n     * Sets a handler that will be called if a participant wants to provide\n     * edits during a text document save.\n     */\n    onWillSaveWaitUntil(handler) {\n        this._willSaveWaitUntil = handler;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been saved.\n     */\n    get onDidSave() {\n        return this._onDidSave.event;\n    }\n    /**\n     * An event that fires when a text document managed by this manager\n     * has been closed.\n     */\n    get onDidClose() {\n        return this._onDidClose.event;\n    }\n    /**\n     * Returns the document for the given URI. Returns undefined if\n     * the document is not managed by this instance.\n     *\n     * @param uri The text document's URI to retrieve.\n     * @return the text document or `undefined`.\n     */\n    get(uri) {\n        return this._syncedDocuments.get(uri);\n    }\n    /**\n     * Returns all text documents managed by this instance.\n     *\n     * @return all text documents.\n     */\n    all() {\n        return Array.from(this._syncedDocuments.values());\n    }\n    /**\n     * Returns the URIs of all text documents managed by this instance.\n     *\n     * @return the URI's of all text documents.\n     */\n    keys() {\n        return Array.from(this._syncedDocuments.keys());\n    }\n    /**\n     * Listens for `low level` notification on the given connection to\n     * update the text documents managed by this instance.\n     *\n     * Please note that the connection only provides handlers not an event model. Therefore\n     * listening on a connection will overwrite the following handlers on a connection:\n     * `onDidOpenTextDocument`, `onDidChangeTextDocument`, `onDidCloseTextDocument`,\n     * `onWillSaveTextDocument`, `onWillSaveTextDocumentWaitUntil` and `onDidSaveTextDocument`.\n     *\n     * Use the corresponding events on the TextDocuments instance instead.\n     *\n     * @param connection The connection to listen on.\n     */\n    listen(connection) {\n        connection.__textDocumentSync = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n        const disposables = [];\n        disposables.push(connection.onDidOpenTextDocument((event) => {\n            const td = event.textDocument;\n            const document = this._configuration.create(td.uri, td.languageId, td.version, td.text);\n            this._syncedDocuments.set(td.uri, document);\n            const toFire = Object.freeze({ document });\n            this._onDidOpen.fire(toFire);\n            this._onDidChangeContent.fire(toFire);\n        }));\n        disposables.push(connection.onDidChangeTextDocument((event) => {\n            const td = event.textDocument;\n            const changes = event.contentChanges;\n            if (changes.length === 0) {\n                return;\n            }\n            const { version } = td;\n            if (version === null || version === undefined) {\n                throw new Error(`Received document change event for ${td.uri} without valid version identifier`);\n            }\n            let syncedDocument = this._syncedDocuments.get(td.uri);\n            if (syncedDocument !== undefined) {\n                syncedDocument = this._configuration.update(syncedDocument, changes, version);\n                this._syncedDocuments.set(td.uri, syncedDocument);\n                this._onDidChangeContent.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onDidCloseTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._syncedDocuments.delete(event.textDocument.uri);\n                this._onDidClose.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onWillSave.fire(Object.freeze({ document: syncedDocument, reason: event.reason }));\n            }\n        }));\n        disposables.push(connection.onWillSaveTextDocumentWaitUntil((event, token) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined && this._willSaveWaitUntil) {\n                return this._willSaveWaitUntil(Object.freeze({ document: syncedDocument, reason: event.reason }), token);\n            }\n            else {\n                return [];\n            }\n        }));\n        disposables.push(connection.onDidSaveTextDocument((event) => {\n            let syncedDocument = this._syncedDocuments.get(event.textDocument.uri);\n            if (syncedDocument !== undefined) {\n                this._onDidSave.fire(Object.freeze({ document: syncedDocument }));\n            }\n        }));\n        return vscode_languageserver_protocol_1.Disposable.create(() => { disposables.forEach(disposable => disposable.dispose()); });\n    }\n}\nexports.TextDocuments = TextDocuments;\n//# sourceMappingURL=textDocuments.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst TypeHierarchyFeature = (Base) => {\n    return class extends Base {\n        get typeHierarchy() {\n            return {\n                onPrepare: (handler) => {\n                    return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), undefined);\n                    });\n                },\n                onSupertypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                },\n                onSubtypes: (handler) => {\n                    const type = vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;\n                    return this.connection.onRequest(type, (params, cancel) => {\n                        return handler(params, cancel, this.attachWorkDoneProgress(params), this.attachPartialResultProgress(type, params));\n                    });\n                }\n            };\n        }\n    };\n};\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst WorkspaceFoldersFeature = (Base) => {\n    return class extends Base {\n        constructor() {\n            super();\n            this._notificationIsAutoRegistered = false;\n        }\n        initialize(capabilities) {\n            super.initialize(capabilities);\n            let workspaceCapabilities = capabilities.workspace;\n            if (workspaceCapabilities && workspaceCapabilities.workspaceFolders) {\n                this._onDidChangeWorkspaceFolders = new vscode_languageserver_protocol_1.Emitter();\n                this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, (params) => {\n                    this._onDidChangeWorkspaceFolders.fire(params.event);\n                });\n            }\n        }\n        fillServerCapabilities(capabilities) {\n            super.fillServerCapabilities(capabilities);\n            const changeNotifications = capabilities.workspace?.workspaceFolders?.changeNotifications;\n            this._notificationIsAutoRegistered = changeNotifications === true || typeof changeNotifications === 'string';\n        }\n        getWorkspaceFolders() {\n            return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type);\n        }\n        get onDidChangeWorkspaceFolders() {\n            if (!this._onDidChangeWorkspaceFolders) {\n                throw new Error('Client doesn\\'t support sending workspace folder change events.');\n            }\n            if (!this._notificationIsAutoRegistered && !this._unregistration) {\n                this._unregistration = this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type);\n            }\n            return this._onDidChangeWorkspaceFolders.event;\n        }\n    };\n};\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveModulePath = exports.FileSystem = exports.resolveGlobalYarnPath = exports.resolveGlobalNodePath = exports.resolve = exports.uriToFilePath = void 0;\nconst url = require(\"url\");\nconst path = require(\"path\");\nconst fs = require(\"fs\");\nconst child_process_1 = require(\"child_process\");\n/**\n * @deprecated Use the `vscode-uri` npm module which provides a more\n * complete implementation of handling VS Code URIs.\n */\nfunction uriToFilePath(uri) {\n    let parsed = url.parse(uri);\n    if (parsed.protocol !== 'file:' || !parsed.path) {\n        return undefined;\n    }\n    let segments = parsed.path.split('/');\n    for (var i = 0, len = segments.length; i < len; i++) {\n        segments[i] = decodeURIComponent(segments[i]);\n    }\n    if (process.platform === 'win32' && segments.length > 1) {\n        let first = segments[0];\n        let second = segments[1];\n        // Do we have a drive letter and we started with a / which is the\n        // case if the first segement is empty (see split above)\n        if (first.length === 0 && second.length > 1 && second[1] === ':') {\n            // Remove first slash\n            segments.shift();\n        }\n    }\n    return path.normalize(segments.join('/'));\n}\nexports.uriToFilePath = uriToFilePath;\nfunction isWindows() {\n    return process.platform === 'win32';\n}\nfunction resolve(moduleName, nodePath, cwd, tracer) {\n    const nodePathKey = 'NODE_PATH';\n    const app = [\n        'var p = process;',\n        'p.on(\\'message\\',function(m){',\n        'if(m.c===\\'e\\'){',\n        'p.exit(0);',\n        '}',\n        'else if(m.c===\\'rs\\'){',\n        'try{',\n        'var r=require.resolve(m.a);',\n        'p.send({c:\\'r\\',s:true,r:r});',\n        '}',\n        'catch(err){',\n        'p.send({c:\\'r\\',s:false});',\n        '}',\n        '}',\n        '});'\n    ].join('');\n    return new Promise((resolve, reject) => {\n        let env = process.env;\n        let newEnv = Object.create(null);\n        Object.keys(env).forEach(key => newEnv[key] = env[key]);\n        if (nodePath && fs.existsSync(nodePath) /* see issue 545 */) {\n            if (newEnv[nodePathKey]) {\n                newEnv[nodePathKey] = nodePath + path.delimiter + newEnv[nodePathKey];\n            }\n            else {\n                newEnv[nodePathKey] = nodePath;\n            }\n            if (tracer) {\n                tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`);\n            }\n        }\n        newEnv['ELECTRON_RUN_AS_NODE'] = '1';\n        try {\n            let cp = (0, child_process_1.fork)('', [], {\n                cwd: cwd,\n                env: newEnv,\n                execArgv: ['-e', app]\n            });\n            if (cp.pid === void 0) {\n                reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));\n                return;\n            }\n            cp.on('error', (error) => {\n                reject(error);\n            });\n            cp.on('message', (message) => {\n                if (message.c === 'r') {\n                    cp.send({ c: 'e' });\n                    if (message.s) {\n                        resolve(message.r);\n                    }\n                    else {\n                        reject(new Error(`Failed to resolve module: ${moduleName}`));\n                    }\n                }\n            });\n            let message = {\n                c: 'rs',\n                a: moduleName\n            };\n            cp.send(message);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\nexports.resolve = resolve;\n/**\n * Resolve the global npm package path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalNodePath(tracer) {\n    let npmCommand = 'npm';\n    const env = Object.create(null);\n    Object.keys(process.env).forEach(key => env[key] = process.env[key]);\n    env['NO_UPDATE_NOTIFIER'] = 'true';\n    const options = {\n        encoding: 'utf8',\n        env\n    };\n    if (isWindows()) {\n        npmCommand = 'npm.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let stdout = (0, child_process_1.spawnSync)(npmCommand, ['config', 'get', 'prefix'], options).stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'npm config get prefix' didn't return a value.`);\n            }\n            return undefined;\n        }\n        let prefix = stdout.trim();\n        if (tracer) {\n            tracer(`'npm config get prefix' value is: ${prefix}`);\n        }\n        if (prefix.length > 0) {\n            if (isWindows()) {\n                return path.join(prefix, 'node_modules');\n            }\n            else {\n                return path.join(prefix, 'lib', 'node_modules');\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalNodePath = resolveGlobalNodePath;\n/*\n * Resolve the global yarn pakage path.\n * @deprecated Since this depends on the used package manager and their version the best is that servers\n * implement this themselves since they know best what kind of package managers to support.\n * @param tracer the tracer to use\n */\nfunction resolveGlobalYarnPath(tracer) {\n    let yarnCommand = 'yarn';\n    let options = {\n        encoding: 'utf8'\n    };\n    if (isWindows()) {\n        yarnCommand = 'yarn.cmd';\n        options.shell = true;\n    }\n    let handler = () => { };\n    try {\n        process.on('SIGPIPE', handler);\n        let results = (0, child_process_1.spawnSync)(yarnCommand, ['global', 'dir', '--json'], options);\n        let stdout = results.stdout;\n        if (!stdout) {\n            if (tracer) {\n                tracer(`'yarn global dir' didn't return a value.`);\n                if (results.stderr) {\n                    tracer(results.stderr);\n                }\n            }\n            return undefined;\n        }\n        let lines = stdout.trim().split(/\\r?\\n/);\n        for (let line of lines) {\n            try {\n                let yarn = JSON.parse(line);\n                if (yarn.type === 'log') {\n                    return path.join(yarn.data, 'node_modules');\n                }\n            }\n            catch (e) {\n                // Do nothing. Ignore the line\n            }\n        }\n        return undefined;\n    }\n    catch (err) {\n        return undefined;\n    }\n    finally {\n        process.removeListener('SIGPIPE', handler);\n    }\n}\nexports.resolveGlobalYarnPath = resolveGlobalYarnPath;\nvar FileSystem;\n(function (FileSystem) {\n    let _isCaseSensitive = undefined;\n    function isCaseSensitive() {\n        if (_isCaseSensitive !== void 0) {\n            return _isCaseSensitive;\n        }\n        if (process.platform === 'win32') {\n            _isCaseSensitive = false;\n        }\n        else {\n            // convert current file name to upper case / lower case and check if file exists\n            // (guards against cases when name is already all uppercase or lowercase)\n            _isCaseSensitive = !fs.existsSync(__filename.toUpperCase()) || !fs.existsSync(__filename.toLowerCase());\n        }\n        return _isCaseSensitive;\n    }\n    FileSystem.isCaseSensitive = isCaseSensitive;\n    function isParent(parent, child) {\n        if (isCaseSensitive()) {\n            return path.normalize(child).indexOf(path.normalize(parent)) === 0;\n        }\n        else {\n            return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase()) === 0;\n        }\n    }\n    FileSystem.isParent = isParent;\n})(FileSystem = exports.FileSystem || (exports.FileSystem = {}));\nfunction resolveModulePath(workspaceRoot, moduleName, nodePath, tracer) {\n    if (nodePath) {\n        if (!path.isAbsolute(nodePath)) {\n            nodePath = path.join(workspaceRoot, nodePath);\n        }\n        return resolve(moduleName, nodePath, nodePath, tracer).then((value) => {\n            if (FileSystem.isParent(nodePath, value)) {\n                return value;\n            }\n            else {\n                return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`));\n            }\n        }).then(undefined, (_error) => {\n            return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n        });\n    }\n    else {\n        return resolve(moduleName, resolveGlobalNodePath(tracer), workspaceRoot, tracer);\n    }\n}\nexports.resolveModulePath = resolveModulePath;\n//# sourceMappingURL=files.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConnection = exports.Files = void 0;\nconst Is = require(\"../common/utils/is\");\nconst server_1 = require(\"../common/server\");\nconst fm = require(\"./files\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nvar Files;\n(function (Files) {\n    Files.uriToFilePath = fm.uriToFilePath;\n    Files.resolveGlobalNodePath = fm.resolveGlobalNodePath;\n    Files.resolveGlobalYarnPath = fm.resolveGlobalYarnPath;\n    Files.resolve = fm.resolve;\n    Files.resolveModulePath = fm.resolveModulePath;\n})(Files = exports.Files || (exports.Files = {}));\nlet _protocolConnection;\nfunction endProtocolConnection() {\n    if (_protocolConnection === undefined) {\n        return;\n    }\n    try {\n        _protocolConnection.end();\n    }\n    catch (_err) {\n        // Ignore. The client process could have already\n        // did and we can't send an end into the connection.\n    }\n}\nlet _shutdownReceived = false;\nlet exitTimer = undefined;\nfunction setupExitTimer() {\n    const argName = '--clientProcessId';\n    function runTimer(value) {\n        try {\n            let processId = parseInt(value);\n            if (!isNaN(processId)) {\n                exitTimer = setInterval(() => {\n                    try {\n                        process.kill(processId, 0);\n                    }\n                    catch (ex) {\n                        // Parent process doesn't exist anymore. Exit the server.\n                        endProtocolConnection();\n                        process.exit(_shutdownReceived ? 0 : 1);\n                    }\n                }, 3000);\n            }\n        }\n        catch (e) {\n            // Ignore errors;\n        }\n    }\n    for (let i = 2; i < process.argv.length; i++) {\n        let arg = process.argv[i];\n        if (arg === argName && i + 1 < process.argv.length) {\n            runTimer(process.argv[i + 1]);\n            return;\n        }\n        else {\n            let args = arg.split('=');\n            if (args[0] === argName) {\n                runTimer(args[1]);\n            }\n        }\n    }\n}\nsetupExitTimer();\nconst watchDog = {\n    initialize: (params) => {\n        const processId = params.processId;\n        if (Is.number(processId) && exitTimer === undefined) {\n            // We received a parent process id. Set up a timer to periodically check\n            // if the parent is still alive.\n            setInterval(() => {\n                try {\n                    process.kill(processId, 0);\n                }\n                catch (ex) {\n                    // Parent process doesn't exist anymore. Exit the server.\n                    process.exit(_shutdownReceived ? 0 : 1);\n                }\n            }, 3000);\n        }\n    },\n    get shutdownReceived() {\n        return _shutdownReceived;\n    },\n    set shutdownReceived(value) {\n        _shutdownReceived = value;\n    },\n    exit: (code) => {\n        endProtocolConnection();\n        process.exit(code);\n    }\n};\nfunction createConnection(arg1, arg2, arg3, arg4) {\n    let factories;\n    let input;\n    let output;\n    let options;\n    if (arg1 !== void 0 && arg1.__brand === 'features') {\n        factories = arg1;\n        arg1 = arg2;\n        arg2 = arg3;\n        arg3 = arg4;\n    }\n    if (node_1.ConnectionStrategy.is(arg1) || node_1.ConnectionOptions.is(arg1)) {\n        options = arg1;\n    }\n    else {\n        input = arg1;\n        output = arg2;\n        options = arg3;\n    }\n    return _createConnection(input, output, options, factories);\n}\nexports.createConnection = createConnection;\nfunction _createConnection(input, output, options, factories) {\n    if (!input && !output && process.argv.length > 2) {\n        let port = void 0;\n        let pipeName = void 0;\n        let argv = process.argv.slice(2);\n        for (let i = 0; i < argv.length; i++) {\n            let arg = argv[i];\n            if (arg === '--node-ipc') {\n                input = new node_1.IPCMessageReader(process);\n                output = new node_1.IPCMessageWriter(process);\n                break;\n            }\n            else if (arg === '--stdio') {\n                input = process.stdin;\n                output = process.stdout;\n                break;\n            }\n            else if (arg === '--socket') {\n                port = parseInt(argv[i + 1]);\n                break;\n            }\n            else if (arg === '--pipe') {\n                pipeName = argv[i + 1];\n                break;\n            }\n            else {\n                var args = arg.split('=');\n                if (args[0] === '--socket') {\n                    port = parseInt(args[1]);\n                    break;\n                }\n                else if (args[0] === '--pipe') {\n                    pipeName = args[1];\n                    break;\n                }\n            }\n        }\n        if (port) {\n            let transport = (0, node_1.createServerSocketTransport)(port);\n            input = transport[0];\n            output = transport[1];\n        }\n        else if (pipeName) {\n            let transport = (0, node_1.createServerPipeTransport)(pipeName);\n            input = transport[0];\n            output = transport[1];\n        }\n    }\n    var commandLineMessage = 'Use arguments of createConnection or set command line parameters: \\'--node-ipc\\', \\'--stdio\\' or \\'--socket={number}\\'';\n    if (!input) {\n        throw new Error('Connection input stream is not set. ' + commandLineMessage);\n    }\n    if (!output) {\n        throw new Error('Connection output stream is not set. ' + commandLineMessage);\n    }\n    // Backwards compatibility\n    if (Is.func(input.read) && Is.func(input.on)) {\n        let inputStream = input;\n        inputStream.on('end', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n        inputStream.on('close', () => {\n            endProtocolConnection();\n            process.exit(_shutdownReceived ? 0 : 1);\n        });\n    }\n    const connectionFactory = (logger) => {\n        const result = (0, node_1.createProtocolConnection)(input, output, logger, options);\n        return result;\n    };\n    return (0, server_1.createConnection)(connectionFactory, watchDog, factories);\n}\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLsConfiguration = void 0;\nconst defaultConfig = {\n    markdownFileExtensions: ['md'],\n    knownLinkedToFileExtensions: [\n        'jpg',\n        'jpeg',\n        'png',\n        'gif',\n        'webp',\n        'bmp',\n        'tiff',\n    ]\n};\nfunction getLsConfiguration(overrides) {\n    return {\n        ...defaultConfig,\n        ...overrides,\n    };\n}\nexports.getLsConfiguration = getLsConfiguration;\n//# sourceMappingURL=config.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLanguageService = exports.githubSlugifier = exports.LogLevel = exports.DiagnosticLevel = exports.DiagnosticCode = void 0;\nconst config_1 = require(\"./config\");\nconst definitions_1 = require(\"./languageFeatures/definitions\");\nconst diagnostics_1 = require(\"./languageFeatures/diagnostics\");\nconst documentLinks_1 = require(\"./languageFeatures/documentLinks\");\nconst documentSymbols_1 = require(\"./languageFeatures/documentSymbols\");\nconst folding_1 = require(\"./languageFeatures/folding\");\nconst pathCompletions_1 = require(\"./languageFeatures/pathCompletions\");\nconst references_1 = require(\"./languageFeatures/references\");\nconst rename_1 = require(\"./languageFeatures/rename\");\nconst smartSelect_1 = require(\"./languageFeatures/smartSelect\");\nconst workspaceSymbols_1 = require(\"./languageFeatures/workspaceSymbols\");\nconst tableOfContents_1 = require(\"./tableOfContents\");\nconst workspace_1 = require(\"./workspace\");\nvar diagnostics_2 = require(\"./languageFeatures/diagnostics\");\nObject.defineProperty(exports, \"DiagnosticCode\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticCode; } });\nObject.defineProperty(exports, \"DiagnosticLevel\", { enumerable: true, get: function () { return diagnostics_2.DiagnosticLevel; } });\nvar logging_1 = require(\"./logging\");\nObject.defineProperty(exports, \"LogLevel\", { enumerable: true, get: function () { return logging_1.LogLevel; } });\nvar slugify_1 = require(\"./slugify\");\nObject.defineProperty(exports, \"githubSlugifier\", { enumerable: true, get: function () { return slugify_1.githubSlugifier; } });\n/**\n * Create a new instance of the language service.\n */\nfunction createLanguageService(init) {\n    const config = (0, config_1.getLsConfiguration)(init);\n    const logger = init.logger;\n    const tocProvider = new tableOfContents_1.MdTableOfContentsProvider(init.parser, init.workspace, logger);\n    const docSymbolProvider = new documentSymbols_1.MdDocumentSymbolProvider(tocProvider, logger);\n    const smartSelectProvider = new smartSelect_1.MdSelectionRangeProvider(init.parser, tocProvider, logger);\n    const foldingProvider = new folding_1.MdFoldingProvider(init.parser, tocProvider, logger);\n    const workspaceSymbolProvider = new workspaceSymbols_1.MdWorkspaceSymbolProvider(init.workspace, docSymbolProvider);\n    const linkProvider = new documentLinks_1.MdLinkProvider(init.parser, init.workspace, tocProvider, logger);\n    const pathCompletionProvider = new pathCompletions_1.MdPathCompletionProvider(config, init.workspace, init.parser, linkProvider);\n    const referencesProvider = new references_1.MdReferencesProvider(config, init.parser, init.workspace, tocProvider, logger);\n    const definitionsProvider = new definitions_1.MdDefinitionProvider(referencesProvider);\n    const renameProvider = new rename_1.MdRenameProvider(config, init.workspace, referencesProvider, init.parser.slugifier);\n    const diagnosticsComputer = new diagnostics_1.DiagnosticComputer(config, init.workspace, linkProvider, tocProvider);\n    return Object.freeze({\n        dispose: () => {\n            tocProvider.dispose();\n            workspaceSymbolProvider.dispose();\n            linkProvider.dispose();\n            referencesProvider.dispose();\n        },\n        getDocumentLinks: linkProvider.provideDocumentLinks.bind(linkProvider),\n        resolveDocumentLink: linkProvider.resolveDocumentLink.bind(linkProvider),\n        getDocumentSymbols: docSymbolProvider.provideDocumentSymbols.bind(docSymbolProvider),\n        getFoldingRanges: foldingProvider.provideFoldingRanges.bind(foldingProvider),\n        getSelectionRanges: smartSelectProvider.provideSelectionRanges.bind(smartSelectProvider),\n        getWorkspaceSymbols: workspaceSymbolProvider.provideWorkspaceSymbols.bind(workspaceSymbolProvider),\n        getCompletionItems: pathCompletionProvider.provideCompletionItems.bind(pathCompletionProvider),\n        getReferences: referencesProvider.provideReferences.bind(referencesProvider),\n        getFileReferences: async (resource, token) => {\n            return (await referencesProvider.getReferencesToFileInWorkspace(resource, token)).map(x => x.location);\n        },\n        getDefinition: definitionsProvider.provideDefinition.bind(definitionsProvider),\n        prepareRename: renameProvider.prepareRename.bind(renameProvider),\n        getRenameEdit: renameProvider.provideRenameEdits.bind(renameProvider),\n        computeDiagnostics: async (doc, options, token) => {\n            return (await diagnosticsComputer.compute(doc, options, token))?.diagnostics;\n        },\n        createPullDiagnosticsManager: () => {\n            if (!(0, workspace_1.isWorkspaceWithFileWatching)(init.workspace)) {\n                throw new Error(`Workspace does not support file watching. Diagnostics manager not supported`);\n            }\n            return new diagnostics_1.DiagnosticsManager(config, init.workspace, linkProvider, tocProvider);\n        }\n    });\n}\nexports.createLanguageService = createLanguageService;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDefinitionProvider = void 0;\nclass MdDefinitionProvider {\n    constructor(referencesProvider) {\n        this.referencesProvider = referencesProvider;\n    }\n    async provideDefinition(document, position, token) {\n        const allRefs = await this.referencesProvider.getReferencesAtPosition(document, position, token);\n        return allRefs.find(ref => ref.isDefinition)?.location;\n    }\n}\nexports.MdDefinitionProvider = MdDefinitionProvider;\n//# sourceMappingURL=definitions.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticsManager = exports.DiagnosticComputer = exports.DiagnosticCode = exports.DiagnosticLevel = void 0;\nconst picomatch = require(\"picomatch\");\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nconst nls = require(\"vscode-nls\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst limiter_1 = require(\"../util/limiter\");\nconst resourceMap_1 = require(\"../util/resourceMap\");\nconst workspace_1 = require(\"../workspace\");\nconst localize = nls.loadMessageBundle();\nvar DiagnosticLevel;\n(function (DiagnosticLevel) {\n    DiagnosticLevel[\"ignore\"] = \"ignore\";\n    DiagnosticLevel[\"warning\"] = \"warning\";\n    DiagnosticLevel[\"error\"] = \"error\";\n})(DiagnosticLevel = exports.DiagnosticLevel || (exports.DiagnosticLevel = {}));\nfunction toSeverity(level) {\n    switch (level) {\n        case DiagnosticLevel.error: return vscode_languageserver_1.DiagnosticSeverity.Error;\n        case DiagnosticLevel.warning: return vscode_languageserver_1.DiagnosticSeverity.Warning;\n        case DiagnosticLevel.ignore: return undefined;\n        case undefined: return undefined;\n    }\n}\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    DiagnosticCode[\"link_noSuchReferences\"] = \"link.no-such-reference\";\n    DiagnosticCode[\"link_noSuchHeaderInOwnFile\"] = \"link.no-such-header-in-own-file\";\n    DiagnosticCode[\"link_noSuchFile\"] = \"link.no-such-file\";\n    DiagnosticCode[\"link_noSuchHeaderInFile\"] = \"link.no-such-header-in-file\";\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\n/**\n * Map of file paths to markdown links to that file.\n */\nclass FileLinkMap {\n    constructor(links) {\n        this._filesToLinksMap = new resourceMap_1.ResourceMap();\n        for (const link of links) {\n            if (link.href.kind !== 'internal') {\n                continue;\n            }\n            const existingFileEntry = this._filesToLinksMap.get(link.href.path);\n            const linkData = { source: link.source, fragment: link.href.fragment };\n            if (existingFileEntry) {\n                existingFileEntry.outgoingLinks.push(linkData);\n            }\n            else {\n                this._filesToLinksMap.set(link.href.path, { outgoingLinks: [linkData] });\n            }\n        }\n    }\n    get size() {\n        return this._filesToLinksMap.size;\n    }\n    entries() {\n        return this._filesToLinksMap.entries();\n    }\n}\nclass DiagnosticComputer {\n    constructor(configuration, workspace, linkProvider, tocProvider) {\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.linkProvider = linkProvider;\n        this.tocProvider = tocProvider;\n    }\n    async compute(doc, options, token) {\n        const { links, definitions } = await this.linkProvider.getLinks(doc);\n        const statCache = new resourceMap_1.ResourceMap();\n        if (token.isCancellationRequested) {\n            return { links, diagnostics: [], statCache };\n        }\n        return {\n            links: links,\n            statCache,\n            diagnostics: (await Promise.all([\n                this.validateFileLinks(options, links, statCache, token),\n                Array.from(this.validateReferenceLinks(options, links, definitions)),\n                this.validateFragmentLinks(doc, options, links, token),\n            ])).flat()\n        };\n    }\n    async validateFragmentLinks(doc, options, links, token) {\n        const severity = toSeverity(options.validateFragmentLinks);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        const toc = await this.tocProvider.getForDocument(doc);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const diagnostics = [];\n        for (const link of links) {\n            if (link.href.kind === 'internal'\n                && link.source.hrefText.startsWith('#')\n                && link.href.path.toString() === doc.uri.toString()\n                && link.href.fragment\n                && !toc.lookup(link.href.fragment)) {\n                if (!this.isIgnoredLink(options, link.source.hrefText)) {\n                    diagnostics.push({\n                        code: DiagnosticCode.link_noSuchHeaderInOwnFile,\n                        message: localize('invalidHeaderLink', 'No header found: \\'{0}\\'', link.href.fragment),\n                        range: link.source.hrefRange,\n                        severity,\n                        data: {\n                            hrefText: link.source.hrefText\n                        }\n                    });\n                }\n            }\n        }\n        return diagnostics;\n    }\n    *validateReferenceLinks(options, links, definitions) {\n        const severity = toSeverity(options.validateReferences);\n        if (typeof severity === 'undefined') {\n            return [];\n        }\n        for (const link of links) {\n            if (link.href.kind === 'reference' && !definitions.lookup(link.href.ref)) {\n                yield {\n                    code: DiagnosticCode.link_noSuchReferences,\n                    message: localize('invalidReferenceLink', 'No link definition found: \\'{0}\\'', link.href.ref),\n                    range: link.source.hrefRange,\n                    severity,\n                    data: {\n                        ref: link.href.ref,\n                    },\n                };\n            }\n        }\n    }\n    async validateFileLinks(options, links, statCache, token) {\n        const pathErrorSeverity = toSeverity(options.validateFileLinks);\n        if (typeof pathErrorSeverity === 'undefined') {\n            return [];\n        }\n        const fragmentErrorSeverity = toSeverity(typeof options.validateMarkdownFileLinkFragments === 'undefined' ? options.validateFragmentLinks : options.validateMarkdownFileLinkFragments);\n        // We've already validated our own fragment links in `validateOwnHeaderLinks`\n        const linkSet = new FileLinkMap(links.filter(link => !link.source.hrefText.startsWith('#')));\n        if (linkSet.size === 0) {\n            return [];\n        }\n        const limiter = new limiter_1.Limiter(10);\n        const diagnostics = [];\n        await Promise.all(Array.from(linkSet.entries()).map(([path, { outgoingLinks: links }]) => {\n            return limiter.queue(async () => {\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                const resolvedHrefPath = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, path, statCache);\n                if (!resolvedHrefPath) {\n                    for (const link of links) {\n                        if (!this.isIgnoredLink(options, link.source.pathText)) {\n                            diagnostics.push({\n                                code: DiagnosticCode.link_noSuchFile,\n                                message: localize('invalidPathLink', 'File does not exist at path: {0}', path.fsPath),\n                                range: link.source.hrefRange,\n                                severity: pathErrorSeverity,\n                                data: {\n                                    fsPath: path.fsPath,\n                                    hrefText: link.source.pathText,\n                                }\n                            });\n                        }\n                    }\n                }\n                else if (typeof fragmentErrorSeverity !== 'undefined' && this.isMarkdownPath(resolvedHrefPath)) {\n                    // Validate each of the links to headers in the file\n                    const fragmentLinks = links.filter(x => x.fragment);\n                    if (fragmentLinks.length) {\n                        const toc = await this.tocProvider.get(resolvedHrefPath);\n                        for (const link of fragmentLinks) {\n                            if (!toc.lookup(link.fragment) && !this.isIgnoredLink(options, link.source.pathText) && !this.isIgnoredLink(options, link.source.hrefText)) {\n                                const range = (link.source.fragmentRange && (0, range_1.modifyRange)(link.source.fragmentRange, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }), undefined)) ?? link.source.hrefRange;\n                                diagnostics.push({\n                                    code: DiagnosticCode.link_noSuchHeaderInFile,\n                                    message: localize('invalidLinkToHeaderInOtherFile', 'Header does not exist in file: {0}', link.fragment),\n                                    range: range,\n                                    severity: fragmentErrorSeverity,\n                                    data: {\n                                        fragment: link.fragment,\n                                        hrefText: link.source.hrefText\n                                    },\n                                });\n                            }\n                        }\n                    }\n                }\n            });\n        }));\n        return diagnostics;\n    }\n    isMarkdownPath(resolvedHrefPath) {\n        return this.workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownPath)(this.configuration, resolvedHrefPath);\n    }\n    isIgnoredLink(options, link) {\n        return options.ignoreLinks.some(glob => picomatch.isMatch(link, glob));\n    }\n}\nexports.DiagnosticComputer = DiagnosticComputer;\nclass FileLinkState extends dispose_1.Disposable {\n    constructor(_workspace) {\n        super();\n        this._workspace = _workspace;\n        this._onDidChangeLinkedToFile = this._register(new vscode_languageserver_1.Emitter);\n        /**\n         * Event fired with a list of document uri when one of the links in the document changes\n         */\n        this.onDidChangeLinkedToFile = this._onDidChangeLinkedToFile.event;\n        this._linkedToFile = new resourceMap_1.ResourceMap();\n    }\n    dispose() {\n        super.dispose();\n        for (const entry of this._linkedToFile.values()) {\n            entry.watcher.dispose();\n        }\n        this._linkedToFile.clear();\n    }\n    /**\n     * Set the known links in a markdown document, adding and removing file watchers as needed\n     */\n    updateLinksForDocument(document, links, statCache) {\n        const linkedToResource = new Set(links\n            .filter(link => link.href.kind === 'internal')\n            .map(link => ({ path: link.href.path, exists: !!(statCache.get(link.href.path)?.exists) })));\n        // First decrement watcher counter for previous document state\n        for (const entry of this._linkedToFile.values()) {\n            entry.documents.delete(document);\n        }\n        // Then create/update watchers for new document state\n        for (const { path, exists } of linkedToResource) {\n            let entry = this._linkedToFile.get(path);\n            if (!entry) {\n                entry = {\n                    watcher: this.startWatching(path),\n                    documents: new resourceMap_1.ResourceMap(),\n                    exists\n                };\n                this._linkedToFile.set(path, entry);\n            }\n            entry.documents.set(document, document);\n        }\n        // Finally clean up watchers for links that are no longer are referenced anywhere\n        for (const [key, value] of this._linkedToFile) {\n            if (value.documents.size === 0) {\n                value.watcher.dispose();\n                this._linkedToFile.delete(key);\n            }\n        }\n    }\n    deleteDocument(resource) {\n        this.updateLinksForDocument(resource, [], new resourceMap_1.ResourceMap());\n    }\n    tryStatFileLink(link) {\n        const entry = this._linkedToFile.get(link);\n        if (!entry) {\n            return undefined;\n        }\n        return { exists: entry.exists };\n    }\n    startWatching(path) {\n        const watcher = this._workspace.watchFile(path, { ignoreChange: true });\n        const deleteReg = watcher.onDidDelete((resource) => this.onLinkedResourceChanged(resource, false));\n        const createReg = watcher.onDidCreate((resource) => this.onLinkedResourceChanged(resource, true));\n        return {\n            dispose: () => {\n                watcher.dispose();\n                deleteReg.dispose();\n                createReg.dispose();\n            }\n        };\n    }\n    onLinkedResourceChanged(resource, exists) {\n        const entry = this._linkedToFile.get(resource);\n        if (entry) {\n            entry.exists = exists;\n            this._onDidChangeLinkedToFile.fire({\n                changedResource: resource,\n                linkingFiles: entry.documents.values(),\n                exists,\n            });\n        }\n    }\n}\nclass DiagnosticsManager extends dispose_1.Disposable {\n    constructor(configuration, workspace, linkProvider, tocProvider) {\n        super();\n        this._onLinkedToFileChanged = this._register(new vscode_languageserver_1.Emitter());\n        this.onLinkedToFileChanged = this._onLinkedToFileChanged.event;\n        const linkWatcher = new FileLinkState(workspace);\n        this._linkWatcher = this._register(linkWatcher);\n        this._linkWatcher.onDidChangeLinkedToFile(e => {\n            this._onLinkedToFileChanged.fire({\n                changedResource: e.changedResource,\n                linkingResources: Array.from(e.linkingFiles),\n            });\n        });\n        const stateCachedWorkspace = new Proxy(workspace, {\n            get(target, p, receiver) {\n                if (p !== 'stat') {\n                    return workspace[p];\n                }\n                return async function (resource) {\n                    const stat = linkWatcher.tryStatFileLink(resource);\n                    if (stat) {\n                        if (stat.exists) {\n                            return { isDirectory: false };\n                        }\n                        else {\n                            return undefined;\n                        }\n                    }\n                    return workspace.stat.call(this === receiver ? target : this, resource);\n                };\n            },\n        });\n        this._computer = new DiagnosticComputer(configuration, stateCachedWorkspace, linkProvider, tocProvider);\n    }\n    async computeDiagnostics(doc, options, token) {\n        const uri = vscode_uri_1.URI.parse(doc.uri);\n        const results = await this._computer.compute(doc, options, token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        this._linkWatcher.updateLinksForDocument(uri, results.links, results.statCache);\n        return results.diagnostics;\n    }\n}\nexports.DiagnosticsManager = DiagnosticsManager;\n//# sourceMappingURL=diagnostics.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdLinkProvider = exports.LinkDefinitionSet = exports.MdLinkComputer = exports.resolveDocumentLink = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst arrays_1 = require(\"../util/arrays\");\nconst cancellation_1 = require(\"../util/cancellation\");\nconst dispose_1 = require(\"../util/dispose\");\nconst string_1 = require(\"../util/string\");\nconst workspace_1 = require(\"../workspace\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nfunction resolveLink(document, link, workspace) {\n    const cleanLink = stripAngleBrackets(link);\n    if (/^[a-z\\-][a-z\\-]+:/i.test(cleanLink)) {\n        // Looks like a uri\n        return { kind: 'external', uri: vscode_uri_1.URI.parse(cleanLink) };\n    }\n    const resolved = resolveDocumentLink(vscode_uri_1.URI.parse(document.uri), link, workspace);\n    if (!resolved) {\n        return undefined;\n    }\n    return {\n        kind: 'internal',\n        path: resolved.path,\n        fragment: resolved.fragment,\n    };\n}\nfunction resolveDocumentLink(inputDocument, link, workspace) {\n    // Assume it must be an relative or absolute file path\n    // Use a fake scheme to avoid parse warnings\n    const tempUri = vscode_uri_1.URI.parse(`vscode-resource:${link}`);\n    const docUri = workspace.getContainingDocument?.(inputDocument)?.uri ?? inputDocument;\n    let resourceUri;\n    if (!tempUri.path) {\n        resourceUri = docUri;\n    }\n    else if (tempUri.path[0] === '/') {\n        const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n        if (root) {\n            resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n        }\n    }\n    else {\n        if (docUri.scheme === 'untitled') {\n            const root = (0, workspace_1.getWorkspaceFolder)(workspace, docUri);\n            if (root) {\n                resourceUri = vscode_uri_1.Utils.joinPath(root, tempUri.path);\n            }\n        }\n        else {\n            const base = vscode_uri_1.Utils.dirname(docUri);\n            resourceUri = vscode_uri_1.Utils.joinPath(base, tempUri.path);\n        }\n    }\n    if (!resourceUri) {\n        return undefined;\n    }\n    return {\n        path: resourceUri.with({ fragment: '' }),\n        fragment: tempUri.fragment,\n    };\n}\nexports.resolveDocumentLink = resolveDocumentLink;\nfunction extractDocumentLink(document, pre, rawLink, matchIndex, fullMatch, workspace) {\n    const isAngleBracketLink = rawLink.startsWith('<');\n    const link = stripAngleBrackets(rawLink);\n    let linkTarget;\n    try {\n        linkTarget = resolveLink(document, link, workspace);\n    }\n    catch {\n        return undefined;\n    }\n    if (!linkTarget) {\n        return undefined;\n    }\n    const linkStart = document.positionAt(matchIndex);\n    const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: fullMatch.length });\n    const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n    const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n    return {\n        kind: 'link',\n        href: linkTarget,\n        source: {\n            hrefText: link,\n            resource: vscode_uri_1.URI.parse(document.uri),\n            range: { start: linkStart, end: linkEnd },\n            hrefRange: { start: hrefStart, end: hrefEnd },\n            ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n        }\n    };\n}\nfunction getFragmentRange(text, start, end) {\n    const index = text.indexOf('#');\n    if (index < 0) {\n        return undefined;\n    }\n    return { start: (0, position_1.translatePosition)(start, { characterDelta: index + 1 }), end };\n}\nfunction getLinkSourceFragmentInfo(document, link, linkStart, linkEnd) {\n    const fragmentRange = getFragmentRange(link, linkStart, linkEnd);\n    return {\n        pathText: document.getText({ start: linkStart, end: fragmentRange ? (0, position_1.translatePosition)(fragmentRange.start, { characterDelta: -1 }) : linkEnd }),\n        fragmentRange,\n    };\n}\nconst angleBracketLinkRe = /^<(.*)>$/;\n/**\n * Used to strip brackets from the markdown link\n *\n * <http://example.com> will be transformed to http://example.com\n*/\nfunction stripAngleBrackets(link) {\n    return link.replace(angleBracketLinkRe, '$1');\n}\n/**\n * Matches `[text](link)` or `[text](<link>)`\n */\nconst linkPattern = new RegExp(\n// text\n(0, string_1.r) `(\\[` + // open prefix match -->\n    /**/ (0, string_1.r) `(?:` +\n    /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n    /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n    /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n    /**/ (0, string_1.r) `)*` +\n    (0, string_1.r) `\\]` +\n    // Destination\n    (0, string_1.r) `\\(\\s*)` + // <-- close prefix match\n    /**/ (0, string_1.r) `(` +\n    /*****/ (0, string_1.r) `[^\\s\\(\\)\\<](?:[^\\s\\(\\)]|\\([^\\s\\(\\)]*?\\))*|` + // Link without whitespace, or...\n    /*****/ (0, string_1.r) `<[^<>]+>` + // In angle brackets\n    /**/ (0, string_1.r) `)` +\n    // Title\n    /**/ (0, string_1.r) `\\s*(?:\"[^\"]*\"|'[^']*'|\\([^\\(\\)]*\\))?\\s*` +\n    (0, string_1.r) `\\)`, 'g');\n/**\n* Matches `[text][ref]` or `[shorthand]`\n*/\nconst referenceLinkPattern = /(^|[^\\]\\\\])(?:(?:(\\[((?:\\\\\\]|[^\\]])+)\\]\\[\\s*?)([^\\s\\]]*?)\\]|\\[\\s*?([^\\s\\\\\\]]*?)\\])(?![\\:\\(]))/gm;\n/**\n * Matches `<http://example.com>`\n */\nconst autoLinkPattern = /\\<(\\w+:[^\\>\\s]+)\\>/g;\n/**\n * Matches `[text]: link`\n */\nconst definitionPattern = /^([\\t ]*\\[(?!\\^)((?:\\\\\\]|[^\\]])+)\\]:\\s*)([^<]\\S*|<[^>]+>)/gm;\nconst inlineCodePattern = /(?:^|[^`])(`+)(?:.+?|.*?(?:(?:\\r?\\n).+?)*?)(?:\\r?\\n)?\\1(?:$|[^`])/gm;\nclass NoLinkRanges {\n    constructor(\n    /**\n     * code blocks and fences each represented by [line_start,line_end).\n     */\n    multiline, \n    /**\n     * Inline code spans where links should not be detected\n     */\n    inline) {\n        this.multiline = multiline;\n        this.inline = inline;\n    }\n    static async compute(tokenizer, document) {\n        const tokens = await tokenizer.tokenize(document);\n        const multiline = tokens.filter(t => (t.type === 'code_block' || t.type === 'fence' || t.type === 'html_block') && !!t.map).map(t => t.map);\n        const inlineRanges = new Map();\n        const text = document.getText();\n        for (const match of text.matchAll(inlineCodePattern)) {\n            const startOffset = match.index ?? 0;\n            const startPosition = document.positionAt(startOffset);\n            const range = { start: startPosition, end: document.positionAt(startOffset + match[0].length) };\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = inlineRanges.get(line);\n                if (!entry) {\n                    entry = [];\n                    inlineRanges.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(multiline, inlineRanges);\n    }\n    contains(position) {\n        return this.multiline.some(interval => position.line >= interval[0] && position.line < interval[1]) ||\n            !!this.inline.get(position.line)?.some(inlineRange => (0, range_1.rangeContains)(inlineRange, position));\n    }\n    concatInline(inlineRanges) {\n        const newInline = new Map(this.inline);\n        for (const range of inlineRanges) {\n            for (let line = range.start.line; line <= range.end.line; ++line) {\n                let entry = newInline.get(line);\n                if (!entry) {\n                    entry = [];\n                    newInline.set(line, entry);\n                }\n                entry.push(range);\n            }\n        }\n        return new NoLinkRanges(this.multiline, newInline);\n    }\n}\n/**\n * Stateless object that extracts link information from markdown files.\n */\nclass MdLinkComputer {\n    constructor(tokenizer, workspace) {\n        this.tokenizer = tokenizer;\n        this.workspace = workspace;\n    }\n    async getAllLinks(document, token) {\n        const noLinkRanges = await NoLinkRanges.compute(this.tokenizer, document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const inlineLinks = Array.from(this.getInlineLinks(document, noLinkRanges));\n        return Array.from([\n            ...inlineLinks,\n            ...this.getReferenceLinks(document, noLinkRanges.concatInline(inlineLinks.map(x => x.source.range))),\n            ...this.getLinkDefinitions(document, noLinkRanges),\n            ...this.getAutoLinks(document, noLinkRanges),\n        ]);\n    }\n    *getInlineLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(linkPattern)) {\n            const matchLinkData = extractDocumentLink(document, match[1], match[2], match.index ?? 0, match[0], this.workspace);\n            if (matchLinkData && !noLinkRanges.contains(matchLinkData.source.hrefRange.start)) {\n                yield matchLinkData;\n                // Also check link destination for links\n                for (const innerMatch of match[1].matchAll(linkPattern)) {\n                    const innerData = extractDocumentLink(document, innerMatch[1], innerMatch[2], (match.index ?? 0) + (innerMatch.index ?? 0), innerMatch[0], this.workspace);\n                    if (innerData) {\n                        yield innerData;\n                    }\n                }\n            }\n        }\n    }\n    *getAutoLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(autoLinkPattern)) {\n            const linkOffset = (match.index ?? 0);\n            const linkStart = document.positionAt(linkOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const link = match[1];\n            const linkTarget = resolveLink(document, link, this.workspace);\n            if (!linkTarget) {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length });\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: link.length });\n            yield {\n                kind: 'link',\n                href: linkTarget,\n                source: {\n                    hrefText: link,\n                    resource: vscode_uri_1.URI.parse(document.uri),\n                    hrefRange: { start: hrefStart, end: hrefEnd },\n                    range: { start: linkStart, end: linkEnd },\n                    ...getLinkSourceFragmentInfo(document, link, hrefStart, hrefEnd),\n                }\n            };\n        }\n    }\n    *getReferenceLinks(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(referenceLinkPattern)) {\n            const linkStartOffset = (match.index ?? 0) + match[1].length;\n            const linkStart = document.positionAt(linkStartOffset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            let hrefStart;\n            let hrefEnd;\n            let reference = match[4];\n            if (reference === '') { // [ref][],\n                reference = match[3];\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (reference) { // [text][ref]\n                const pre = match[2];\n                const offset = linkStartOffset + pre.length;\n                hrefStart = document.positionAt(offset);\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else if (match[5]) { // [ref]\n                reference = match[5];\n                const offset = linkStartOffset + 1;\n                hrefStart = document.positionAt(offset);\n                const line = (0, textDocument_1.getLine)(document, hrefStart.line);\n                // See if link looks like a checkbox\n                const checkboxMatch = line.match(/^\\s*[\\-\\*]\\s*\\[x\\]/i);\n                if (checkboxMatch && hrefStart.character <= checkboxMatch[0].length) {\n                    continue;\n                }\n                hrefEnd = document.positionAt(offset + reference.length);\n            }\n            else {\n                continue;\n            }\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length - match[1].length });\n            yield {\n                kind: 'link',\n                source: {\n                    hrefText: reference,\n                    pathText: reference,\n                    resource: vscode_uri_1.URI.parse(document.uri),\n                    range: { start: linkStart, end: linkEnd },\n                    hrefRange: { start: hrefStart, end: hrefEnd },\n                    fragmentRange: undefined,\n                },\n                href: {\n                    kind: 'reference',\n                    ref: reference,\n                }\n            };\n        }\n    }\n    *getLinkDefinitions(document, noLinkRanges) {\n        const text = document.getText();\n        for (const match of text.matchAll(definitionPattern)) {\n            const offset = (match.index ?? 0);\n            const linkStart = document.positionAt(offset);\n            if (noLinkRanges.contains(linkStart)) {\n                continue;\n            }\n            const pre = match[1];\n            const reference = match[2];\n            const rawLinkText = match[3].trim();\n            const target = resolveLink(document, rawLinkText, this.workspace);\n            if (!target) {\n                continue;\n            }\n            const isAngleBracketLink = angleBracketLinkRe.test(rawLinkText);\n            const linkText = stripAngleBrackets(rawLinkText);\n            const hrefStart = (0, position_1.translatePosition)(linkStart, { characterDelta: pre.length + (isAngleBracketLink ? 1 : 0) });\n            const hrefEnd = (0, position_1.translatePosition)(hrefStart, { characterDelta: linkText.length });\n            const hrefRange = { start: hrefStart, end: hrefEnd };\n            const refStart = (0, position_1.translatePosition)(linkStart, { characterDelta: 1 });\n            const refRange = { start: refStart, end: (0, position_1.translatePosition)(refStart, { characterDelta: reference.length }) };\n            const linkEnd = (0, position_1.translatePosition)(linkStart, { characterDelta: match[0].length });\n            yield {\n                kind: 'definition',\n                source: {\n                    hrefText: linkText,\n                    resource: vscode_uri_1.URI.parse(document.uri),\n                    range: { start: linkStart, end: linkEnd },\n                    hrefRange,\n                    ...getLinkSourceFragmentInfo(document, rawLinkText, hrefStart, hrefEnd),\n                },\n                ref: { text: reference, range: refRange },\n                href: target,\n            };\n        }\n    }\n}\nexports.MdLinkComputer = MdLinkComputer;\nclass LinkDefinitionSet {\n    constructor(links) {\n        this._map = new Map();\n        for (const link of links) {\n            if (link.kind === 'definition') {\n                this._map.set(link.ref.text, link);\n            }\n        }\n    }\n    [Symbol.iterator]() {\n        return this._map.entries();\n    }\n    lookup(ref) {\n        return this._map.get(ref);\n    }\n}\nexports.LinkDefinitionSet = LinkDefinitionSet;\n/**\n * Stateful object which provides links for markdown files the workspace.\n */\nclass MdLinkProvider extends dispose_1.Disposable {\n    constructor(tokenizer, _workspace, _tocProvider, logger) {\n        super();\n        this._workspace = _workspace;\n        this._tocProvider = _tocProvider;\n        this._linkComputer = new MdLinkComputer(tokenizer, _workspace);\n        this._linkCache = this._register(new workspaceCache_1.MdDocumentInfoCache(this._workspace, async (doc) => {\n            logger.log(logging_1.LogLevel.Debug, 'LinkProvider', `compute - ${doc.uri}`);\n            const links = await this._linkComputer.getAllLinks(doc, cancellation_1.noopToken);\n            return {\n                links,\n                definitions: new LinkDefinitionSet(links),\n            };\n        }));\n    }\n    getLinks(document) {\n        return this._linkCache.getForDocument(document);\n    }\n    async provideDocumentLinks(document, token) {\n        const { links, definitions } = await this.getLinks(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return (0, arrays_1.coalesce)(links.map(data => this.toValidDocumentLink(data, definitions)));\n    }\n    async resolveDocumentLink(link, _token) {\n        if (!link.data) {\n            return undefined;\n        }\n        const mdLink = link.data;\n        if (mdLink.href.kind !== 'internal') {\n            return undefined;\n        }\n        // Default to allowing to click link to goto / create file\n        link.target = this.createCommandUri('vscode.open', mdLink.href.path);\n        let target = vscode_uri_1.URI.from(mdLink.href.path);\n        const stat = await this._workspace.stat(target);\n        if (stat?.isDirectory) {\n            link.target = this.createCommandUri('revealInExplorer', mdLink.href.path);\n            return link;\n        }\n        if (!stat) {\n            // We don't think the file exists. If it doesn't already have an extension, try tacking on a `.md` and using that instead\n            let found = false;\n            if (vscode_uri_1.Utils.extname(target) === '') {\n                const dotMdResource = target.with({ path: target.path + '.md' });\n                if (await this._workspace.stat(dotMdResource)) {\n                    target = dotMdResource;\n                    found = true;\n                }\n            }\n            if (!found) {\n                return link;\n            }\n        }\n        if (!mdLink.href.fragment) {\n            link.target = this.createCommandUri('vscode.open', target);\n            return link;\n        }\n        // Try navigating with fragment that sets line number\n        const lineNumberFragment = mdLink.href.fragment.match(/^L(\\d+)(?:,(\\d+))?$/i);\n        if (lineNumberFragment) {\n            const line = +lineNumberFragment[1] - 1;\n            if (!isNaN(line)) {\n                const char = +lineNumberFragment[2] - 1;\n                const pos = { line, character: isNaN(char) ? 0 : char };\n                link.target = this.createOpenAtPosCommand(target, pos);\n                return link;\n            }\n        }\n        // Try navigating to header in file\n        const doc = await this._workspace.openMarkdownDocument(target);\n        if (doc) {\n            const toc = await this._tocProvider.getForDocument(doc);\n            const entry = toc.lookup(mdLink.href.fragment);\n            if (entry) {\n                link.target = this.createOpenAtPosCommand(target, entry.headerLocation.range.start);\n                return link;\n            }\n        }\n        link.target = this.createCommandUri('vscode.open', target);\n        return link;\n    }\n    toValidDocumentLink(link, definitionSet) {\n        switch (link.href.kind) {\n            case 'external': {\n                return {\n                    range: link.source.hrefRange,\n                    target: link.href.uri.toString(),\n                };\n            }\n            case 'internal': {\n                return {\n                    range: link.source.hrefRange,\n                    target: undefined,\n                    tooltip: \"Follow link\",\n                    data: link,\n                };\n            }\n            case 'reference': {\n                // We only render reference links in the editor if they are actually defined.\n                // This matches how reference links are rendered by markdown-it.\n                const def = definitionSet.lookup(link.href.ref);\n                if (!def) {\n                    return undefined;\n                }\n                const target = this.createOpenAtPosCommand(link.source.resource, def.source.hrefRange.start);\n                return {\n                    range: link.source.hrefRange,\n                    tooltip: \"Go to link definition\",\n                    target: target,\n                    data: link\n                };\n            }\n        }\n    }\n    createCommandUri(command, ...args) {\n        return `command:${command}?${encodeURIComponent(JSON.stringify(args))}`;\n    }\n    createOpenAtPosCommand(resource, pos) {\n        // Workaround https://github.com/microsoft/vscode/issues/154993\n        return this.createCommandUri('_workbench.open', resource, [undefined, {\n                selection: {\n                    startLineNumber: pos.line + 1,\n                    startColumn: pos.character + 1,\n                    endLineNumber: pos.line + 1,\n                    endColumn: pos.character + 1,\n                }\n            }]);\n    }\n}\nexports.MdLinkProvider = MdLinkProvider;\n//# sourceMappingURL=documentLinks.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdDocumentSymbolProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nclass MdDocumentSymbolProvider {\n    constructor(tocProvider, logger) {\n        this.tocProvider = tocProvider;\n        this.logger = logger;\n    }\n    async provideDocumentSymbolInformation(document) {\n        this.logger.log(logging_1.LogLevel.Debug, 'DocumentSymbolProvider', `provideDocumentSymbolInformation - ${document.uri}`);\n        const toc = await this.tocProvider.getForDocument(document);\n        return toc.entries.map(entry => this.toSymbolInformation(entry));\n    }\n    async provideDocumentSymbols(document) {\n        const toc = await this.tocProvider.getForDocument(document);\n        const root = {\n            level: -Infinity,\n            children: [],\n            parent: undefined\n        };\n        this.buildTree(root, toc.entries);\n        return root.children;\n    }\n    buildTree(parent, entries) {\n        if (!entries.length) {\n            return;\n        }\n        const entry = entries[0];\n        const symbol = this.toDocumentSymbol(entry);\n        symbol.children = [];\n        while (entry.level <= parent.level) {\n            parent = parent.parent;\n        }\n        parent.children.push(symbol);\n        this.buildTree({ level: entry.level, children: symbol.children, parent }, entries.slice(1));\n    }\n    toSymbolInformation(entry) {\n        return {\n            name: this.getSymbolName(entry),\n            kind: lsp.SymbolKind.String,\n            location: entry.sectionLocation\n        };\n    }\n    toDocumentSymbol(entry) {\n        return {\n            name: this.getSymbolName(entry),\n            kind: lsp.SymbolKind.String,\n            range: entry.sectionLocation.range,\n            selectionRange: entry.sectionLocation.range\n        };\n    }\n    getSymbolName(entry) {\n        return '#'.repeat(entry.level) + ' ' + entry.text;\n    }\n}\nexports.MdDocumentSymbolProvider = MdDocumentSymbolProvider;\n//# sourceMappingURL=documentSymbols.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdFoldingProvider = void 0;\nconst lsp = require(\"vscode-languageserver-types\");\nconst logging_1 = require(\"../logging\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nconst rangeLimit = 5000;\nclass MdFoldingProvider {\n    constructor(parser, tocProvider, logger) {\n        this.parser = parser;\n        this.tocProvider = tocProvider;\n        this.logger = logger;\n    }\n    async provideFoldingRanges(document, _token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'MdFoldingProvider', `provideFoldingRanges - ${document.uri}`);\n        const foldables = await Promise.all([\n            this.getRegions(document),\n            this.getHeaderFoldingRanges(document),\n            this.getBlockFoldingRanges(document)\n        ]);\n        return foldables.flat().slice(0, rangeLimit);\n    }\n    async getRegions(document) {\n        const tokens = await this.parser.tokenize(document);\n        const regionMarkers = tokens.filter(isRegionMarker)\n            .map(token => ({ line: token.map[0], isStart: isStartRegion(token.content) }));\n        const nestingStack = [];\n        return regionMarkers\n            .map((marker) => {\n            if (marker.isStart) {\n                nestingStack.push(marker);\n            }\n            else if (nestingStack.length && nestingStack[nestingStack.length - 1].isStart) {\n                return { startLine: nestingStack.pop().line, endLine: marker.line, kind: lsp.FoldingRangeKind.Region };\n            }\n            else {\n                // noop: invalid nesting (i.e. [end, start] or [start, end, end])\n            }\n            return null;\n        })\n            .filter((region) => !!region);\n    }\n    async getHeaderFoldingRanges(document) {\n        const toc = await this.tocProvider.getForDocument(document);\n        return toc.entries.map((entry) => {\n            let endLine = entry.sectionLocation.range.end.line;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine)) && endLine >= entry.line + 1) {\n                endLine = endLine - 1;\n            }\n            return { startLine: entry.line, endLine };\n        });\n    }\n    async getBlockFoldingRanges(document) {\n        const tokens = await this.parser.tokenize(document);\n        const multiLineListItems = tokens.filter(isFoldableToken);\n        return multiLineListItems.map(listItem => {\n            const start = listItem.map[0];\n            let end = listItem.map[1] - 1;\n            if ((0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, end)) && end >= start + 1) {\n                end = end - 1;\n            }\n            return { startLine: start, endLine: end, kind: this.getFoldingRangeKind(listItem) };\n        });\n    }\n    getFoldingRangeKind(listItem) {\n        return listItem.type === 'html_block' && listItem.content.startsWith('<!--')\n            ? lsp.FoldingRangeKind.Comment\n            : undefined;\n    }\n}\nexports.MdFoldingProvider = MdFoldingProvider;\nconst isStartRegion = (t) => /^\\s*<!--\\s*#?region\\b.*-->/.test(t);\nconst isEndRegion = (t) => /^\\s*<!--\\s*#?endregion\\b.*-->/.test(t);\nconst isRegionMarker = (token) => !!token.map && token.type === 'html_block' && (isStartRegion(token.content) || isEndRegion(token.content));\nconst isFoldableToken = (token) => {\n    if (!token.map) {\n        return false;\n    }\n    switch (token.type) {\n        case 'fence':\n        case 'list_item_open':\n            return token.map[1] > token.map[0];\n        case 'html_block':\n            if (isRegionMarker(token)) {\n                return false;\n            }\n            return token.map[1] > token.map[0] + 1;\n        default:\n            return false;\n    }\n};\n//# sourceMappingURL=folding.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdPathCompletionProvider = void 0;\nconst path_1 = require(\"path\");\nconst tableOfContents_1 = require(\"../tableOfContents\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst schemes_1 = require(\"../util/schemes\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst workspace_1 = require(\"../workspace\");\nconst range_1 = require(\"../types/range\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst position_1 = require(\"../types/position\");\nconst string_1 = require(\"../util/string\");\nvar CompletionContextKind;\n(function (CompletionContextKind) {\n    /** `[...](|)` */\n    CompletionContextKind[CompletionContextKind[\"Link\"] = 0] = \"Link\";\n    /** `[...][|]` */\n    CompletionContextKind[CompletionContextKind[\"ReferenceLink\"] = 1] = \"ReferenceLink\";\n    /** `[]: |` */\n    CompletionContextKind[CompletionContextKind[\"LinkDefinition\"] = 2] = \"LinkDefinition\";\n})(CompletionContextKind || (CompletionContextKind = {}));\nfunction tryDecodeUriComponent(str) {\n    try {\n        return decodeURIComponent(str);\n    }\n    catch {\n        return str;\n    }\n}\n/**\n * Adds path completions in markdown files.\n */\nclass MdPathCompletionProvider {\n    constructor(configuration, workspace, parser, linkProvider) {\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.parser = parser;\n        this.linkProvider = linkProvider;\n        /// [...](...|\n        this.linkStartPattern = new RegExp(\n        // text\n        (0, string_1.r) `\\[` +\n            /**/ (0, string_1.r) `(?:` +\n            /*****/ (0, string_1.r) `[^\\[\\]\\\\]|` + // Non-bracket chars, or...\n            /*****/ (0, string_1.r) `\\\\.|` + // Escaped char, or...\n            /*****/ (0, string_1.r) `\\[[^\\[\\]]*\\]` + // Matched bracket pair\n            /**/ (0, string_1.r) `)*` +\n            (0, string_1.r) `\\]` +\n            // Destination start\n            (0, string_1.r) `\\(\\s*(<[^\\>\\)]*|[^\\s\\(\\)]*)` +\n            (0, string_1.r) `$` // Must match cursor position\n        );\n        /// [...][...|\n        this.referenceLinkStartPattern = /\\[([^\\]]*?)\\]\\[\\s*([^\\s\\(\\)]*)$/;\n        /// [id]: |\n        this.definitionPattern = /^\\s*\\[[\\w\\-]+\\]:\\s*([^\\s]*)$/m;\n    }\n    async provideCompletionItems(document, position, _context, _token) {\n        const context = this.getPathCompletionContext(document, position);\n        if (!context) {\n            return [];\n        }\n        switch (context.kind) {\n            case CompletionContextKind.ReferenceLink: {\n                const items = [];\n                for await (const item of this.provideReferenceSuggestions(document, position, context)) {\n                    items.push(item);\n                }\n                return items;\n            }\n            case CompletionContextKind.LinkDefinition:\n            case CompletionContextKind.Link: {\n                const items = [];\n                const isAnchorInCurrentDoc = context.anchorInfo && context.anchorInfo.beforeAnchor.length === 0;\n                // Add anchor #links in current doc\n                if (context.linkPrefix.length === 0 || isAnchorInCurrentDoc) {\n                    const insertRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n                    for await (const item of this.provideHeaderSuggestions(document, position, context, insertRange)) {\n                        items.push(item);\n                    }\n                }\n                if (!isAnchorInCurrentDoc) {\n                    if (context.anchorInfo) { // Anchor to a different document\n                        const rawUri = this.resolveReference(document, context.anchorInfo.beforeAnchor);\n                        if (rawUri) {\n                            const otherDoc = await (0, workspace_1.openLinkToMarkdownFile)(this.configuration, this.workspace, rawUri);\n                            if (otherDoc) {\n                                const anchorStartPosition = (0, position_1.translatePosition)(position, { characterDelta: -(context.anchorInfo.anchorPrefix.length + 1) });\n                                const range = (0, range_1.makeRange)(anchorStartPosition, position);\n                                for await (const item of this.provideHeaderSuggestions(otherDoc, position, context, range)) {\n                                    items.push(item);\n                                }\n                            }\n                        }\n                    }\n                    else { // Normal path suggestions\n                        for await (const item of this.providePathSuggestions(document, position, context)) {\n                            items.push(item);\n                        }\n                    }\n                }\n                return items;\n            }\n        }\n    }\n    getPathCompletionContext(document, position) {\n        const line = (0, textDocument_1.getLine)(document, position.line);\n        const linePrefixText = line.slice(0, position.character);\n        const lineSuffixText = line.slice(position.character);\n        const linkPrefixMatch = linePrefixText.match(this.linkStartPattern);\n        if (linkPrefixMatch) {\n            const isAngleBracketLink = linkPrefixMatch[1].startsWith('<');\n            const prefix = linkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\)\\s][^\\)\\s\\>]*/);\n            return {\n                kind: CompletionContextKind.Link,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const definitionLinkPrefixMatch = linePrefixText.match(this.definitionPattern);\n        if (definitionLinkPrefixMatch) {\n            const isAngleBracketLink = definitionLinkPrefixMatch[1].startsWith('<');\n            const prefix = definitionLinkPrefixMatch[1].slice(isAngleBracketLink ? 1 : 0);\n            if (this.refLooksLikeUrl(prefix)) {\n                return undefined;\n            }\n            const suffix = lineSuffixText.match(/^[^\\s]*/);\n            return {\n                kind: CompletionContextKind.LinkDefinition,\n                linkPrefix: tryDecodeUriComponent(prefix),\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n                anchorInfo: this.getAnchorContext(prefix),\n                skipEncoding: isAngleBracketLink,\n            };\n        }\n        const referenceLinkPrefixMatch = linePrefixText.match(this.referenceLinkStartPattern);\n        if (referenceLinkPrefixMatch) {\n            const prefix = referenceLinkPrefixMatch[2];\n            const suffix = lineSuffixText.match(/^[^\\]\\s]*/);\n            return {\n                kind: CompletionContextKind.ReferenceLink,\n                linkPrefix: prefix,\n                linkTextStartPosition: (0, position_1.translatePosition)(position, { characterDelta: -prefix.length }),\n                linkSuffix: suffix ? suffix[0] : '',\n            };\n        }\n        return undefined;\n    }\n    /**\n     * Check if {@param ref} looks like a 'http:' style url.\n     */\n    refLooksLikeUrl(prefix) {\n        return /^\\s*[\\w\\d\\-]+:/.test(prefix);\n    }\n    getAnchorContext(prefix) {\n        const anchorMatch = prefix.match(/^(.*)#([\\w\\d\\-]*)$/);\n        if (!anchorMatch) {\n            return undefined;\n        }\n        return {\n            beforeAnchor: anchorMatch[1],\n            anchorPrefix: anchorMatch[2],\n        };\n    }\n    async *provideReferenceSuggestions(document, position, context) {\n        const insertionRange = (0, range_1.makeRange)(context.linkTextStartPosition, position);\n        const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n        const { definitions } = await this.linkProvider.getLinks(document);\n        for (const [_, def] of definitions) {\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label: def.ref.text,\n                textEdit: {\n                    newText: def.ref.text,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                }\n            };\n        }\n    }\n    async *provideHeaderSuggestions(document, position, context, insertionRange) {\n        const toc = await tableOfContents_1.TableOfContents.createForContainingDoc(this.parser, this.workspace, document);\n        for (const entry of toc.entries) {\n            const replacementRange = (0, range_1.makeRange)(insertionRange.start, (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length }));\n            const label = '#' + decodeURIComponent(entry.slug.value);\n            yield {\n                kind: lsp.CompletionItemKind.Reference,\n                label,\n                textEdit: {\n                    newText: label,\n                    insert: insertionRange,\n                    replace: replacementRange,\n                },\n            };\n        }\n    }\n    async *providePathSuggestions(document, position, context) {\n        const valueBeforeLastSlash = context.linkPrefix.substring(0, context.linkPrefix.lastIndexOf('/') + 1); // keep the last slash\n        const parentDir = this.resolveReference(document, valueBeforeLastSlash || '.');\n        if (!parentDir) {\n            return;\n        }\n        const pathSegmentStart = (0, position_1.translatePosition)(position, { characterDelta: valueBeforeLastSlash.length - context.linkPrefix.length });\n        const insertRange = (0, range_1.makeRange)(pathSegmentStart, position);\n        const pathSegmentEnd = (0, position_1.translatePosition)(position, { characterDelta: context.linkSuffix.length });\n        const replacementRange = (0, range_1.makeRange)(pathSegmentStart, pathSegmentEnd);\n        let dirInfo;\n        try {\n            dirInfo = await this.workspace.readDirectory(parentDir);\n        }\n        catch {\n            return;\n        }\n        for (const [name, type] of dirInfo) {\n            // Exclude paths that start with `.`\n            if (name.startsWith('.')) {\n                continue;\n            }\n            const isDir = !!type.isDirectory;\n            const newText = (context.skipEncoding ? name : encodeURIComponent(name)) + (isDir ? '/' : '');\n            yield {\n                label: isDir ? name + '/' : name,\n                kind: isDir ? lsp.CompletionItemKind.Folder : lsp.CompletionItemKind.File,\n                textEdit: {\n                    newText,\n                    insert: insertRange,\n                    replace: replacementRange,\n                },\n                command: isDir ? { command: 'editor.action.triggerSuggest', title: '' } : undefined,\n            };\n        }\n    }\n    resolveReference(document, ref) {\n        const docUri = this.getFileUriOfTextDocument(document);\n        if (ref.startsWith('/')) {\n            const workspaceFolder = (0, workspace_1.getWorkspaceFolder)(this.workspace, docUri);\n            if (workspaceFolder) {\n                return vscode_uri_1.Utils.joinPath(workspaceFolder, ref);\n            }\n            else {\n                return this.resolvePath(docUri, ref.slice(1));\n            }\n        }\n        return this.resolvePath(docUri, ref);\n    }\n    resolvePath(root, ref) {\n        try {\n            if (root.scheme === schemes_1.Schemes.file) {\n                return vscode_uri_1.URI.file((0, path_1.resolve)((0, path_1.dirname)(root.fsPath), ref));\n            }\n            else {\n                return root.with({\n                    path: (0, path_1.resolve)((0, path_1.dirname)(root.path), ref),\n                });\n            }\n        }\n        catch {\n            return undefined;\n        }\n    }\n    getFileUriOfTextDocument(document) {\n        return this.workspace.getContainingDocument?.(vscode_uri_1.URI.parse(document.uri))?.uri ?? vscode_uri_1.URI.parse(document.uri);\n    }\n}\nexports.MdPathCompletionProvider = MdPathCompletionProvider;\n//# sourceMappingURL=pathCompletions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdReferencesProvider = void 0;\nconst uri = require(\"vscode-uri\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst cancellation_1 = require(\"../util/cancellation\");\nconst dispose_1 = require(\"../util/dispose\");\nconst file_1 = require(\"../util/file\");\nconst workspace_1 = require(\"../workspace\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nconst documentLinks_1 = require(\"./documentLinks\");\n/**\n * Stateful object that computes references for markdown files.\n */\nclass MdReferencesProvider extends dispose_1.Disposable {\n    constructor(configuration, parser, workspace, tocProvider, logger) {\n        super();\n        this.configuration = configuration;\n        this.parser = parser;\n        this.workspace = workspace;\n        this.tocProvider = tocProvider;\n        this.logger = logger;\n        const linkComputer = new documentLinks_1.MdLinkComputer(parser, workspace);\n        this._linkCache = this._register(new workspaceCache_1.MdWorkspaceInfoCache(workspace, doc => linkComputer.getAllLinks(doc, cancellation_1.noopToken)));\n    }\n    async provideReferences(document, position, context, token) {\n        const allRefs = await this.getReferencesAtPosition(document, position, token);\n        return allRefs\n            .filter(ref => context.includeDeclaration || !ref.isDefinition)\n            .map(ref => ref.location);\n    }\n    async getReferencesAtPosition(document, position, token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'ReferencesProvider', `getReferencesAtPosition: ${document.uri}`);\n        const toc = await this.tocProvider.getForDocument(document);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const header = toc.entries.find(entry => entry.line === position.line);\n        if (header) {\n            return this.getReferencesToHeader(document, header);\n        }\n        else {\n            return this.getReferencesToLinkAtPosition(document, position, token);\n        }\n    }\n    async getReferencesToFileInWorkspace(resource, token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'ReferencesProvider', `getAllReferencesToFileInWorkspace: ${resource}`);\n        const allLinksInWorkspace = (await this._linkCache.values()).flat();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.findLinksToFile(resource, allLinksInWorkspace, undefined));\n    }\n    async getReferencesToFileInDocs(resource, otherDocs, token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'ReferencesProvider', `getAllReferencesToFileInFiles: ${resource}`);\n        const links = (await this._linkCache.getForDocs(otherDocs)).flat();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        return Array.from(this.findLinksToFile(resource, links, undefined));\n    }\n    async getReferencesToHeader(document, header) {\n        const links = (await this._linkCache.values()).flat();\n        const references = [];\n        references.push({\n            kind: 'header',\n            isTriggerLocation: true,\n            isDefinition: true,\n            location: header.headerLocation,\n            headerText: header.text,\n            headerTextLocation: header.headerTextLocation\n        });\n        for (const link of links) {\n            if (link.href.kind === 'internal'\n                && this.looksLikeLinkToDoc(link.href, vscode_uri_1.URI.parse(document.uri))\n                && this.parser.slugifier.fromHeading(link.href.fragment).value === header.slug.value) {\n                references.push({\n                    kind: 'link',\n                    isTriggerLocation: false,\n                    isDefinition: false,\n                    link,\n                    location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                });\n            }\n        }\n        return references;\n    }\n    async getReferencesToLinkAtPosition(document, position, token) {\n        const docLinks = (await this._linkCache.getForDocs([document]))[0];\n        for (const link of docLinks) {\n            if (link.kind === 'definition') {\n                // We could be in either the ref name or the definition\n                if ((0, range_1.rangeContains)(link.ref.range, position)) {\n                    return Array.from(this.getReferencesToLinkReference(docLinks, link.ref.text, { resource: vscode_uri_1.URI.parse(document.uri), range: link.ref.range }));\n                }\n                else if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.getReferencesToLink(link, position, token);\n                }\n            }\n            else {\n                if ((0, range_1.rangeContains)(link.source.hrefRange, position)) {\n                    return this.getReferencesToLink(link, position, token);\n                }\n            }\n        }\n        return [];\n    }\n    async getReferencesToLink(sourceLink, triggerPosition, token) {\n        const allLinksInWorkspace = (await this._linkCache.values()).flat();\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        if (sourceLink.href.kind === 'reference') {\n            return Array.from(this.getReferencesToLinkReference(allLinksInWorkspace, sourceLink.href.ref, { resource: sourceLink.source.resource, range: sourceLink.source.hrefRange }));\n        }\n        if (sourceLink.href.kind === 'external') {\n            const references = [];\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind === 'external' && link.href.uri.toString() === sourceLink.href.uri.toString()) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: 'link',\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n            return references;\n        }\n        const resolvedResource = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, sourceLink.href.path);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const references = [];\n        if (resolvedResource && this.isMarkdownPath(resolvedResource) && sourceLink.href.fragment && sourceLink.source.fragmentRange && (0, range_1.rangeContains)(sourceLink.source.fragmentRange, triggerPosition)) {\n            const toc = await this.tocProvider.get(resolvedResource);\n            const entry = toc.lookup(sourceLink.href.fragment);\n            if (entry) {\n                references.push({\n                    kind: 'header',\n                    isTriggerLocation: false,\n                    isDefinition: true,\n                    location: entry.headerLocation,\n                    headerText: entry.text,\n                    headerTextLocation: entry.headerTextLocation\n                });\n            }\n            for (const link of allLinksInWorkspace) {\n                if (link.href.kind !== 'internal' || !this.looksLikeLinkToDoc(link.href, resolvedResource)) {\n                    continue;\n                }\n                if (this.parser.slugifier.fromHeading(link.href.fragment).equals(this.parser.slugifier.fromHeading(sourceLink.href.fragment))) {\n                    const isTriggerLocation = sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n                    references.push({\n                        kind: 'link',\n                        isTriggerLocation,\n                        isDefinition: false,\n                        link,\n                        location: { uri: link.source.resource.toString(), range: link.source.hrefRange },\n                    });\n                }\n            }\n        }\n        else { // Triggered on a link without a fragment so we only require matching the file and ignore fragments\n            references.push(...this.findLinksToFile(resolvedResource ?? sourceLink.href.path, allLinksInWorkspace, sourceLink));\n        }\n        return references;\n    }\n    isMarkdownPath(resolvedHrefPath) {\n        return this.workspace.hasMarkdownDocument(resolvedHrefPath) || (0, file_1.looksLikeMarkdownPath)(this.configuration, resolvedHrefPath);\n    }\n    looksLikeLinkToDoc(href, targetDoc) {\n        return href.path.fsPath === targetDoc.fsPath\n            || uri.Utils.extname(href.path) === '' && href.path.with({ path: href.path.path + '.md' }).fsPath === targetDoc.fsPath;\n    }\n    *findLinksToFile(resource, links, sourceLink) {\n        for (const link of links) {\n            if (link.href.kind !== 'internal' || !this.looksLikeLinkToDoc(link.href, resource)) {\n                continue;\n            }\n            // Exclude cases where the file is implicitly referencing itself\n            if (link.source.hrefText.startsWith('#') && link.source.resource.fsPath === resource.fsPath) {\n                continue;\n            }\n            const isTriggerLocation = !!sourceLink && sourceLink.source.resource.fsPath === link.source.resource.fsPath && (0, range_1.areRangesEqual)(sourceLink.source.hrefRange, link.source.hrefRange);\n            const pathRange = this.getPathRange(link);\n            yield {\n                kind: 'link',\n                isTriggerLocation,\n                isDefinition: false,\n                link,\n                location: { uri: link.source.resource.toString(), range: pathRange },\n            };\n        }\n    }\n    *getReferencesToLinkReference(allLinks, refToFind, from) {\n        for (const link of allLinks) {\n            let ref;\n            if (link.kind === 'definition') {\n                ref = link.ref.text;\n            }\n            else if (link.href.kind === 'reference') {\n                ref = link.href.ref;\n            }\n            else {\n                continue;\n            }\n            if (ref === refToFind && link.source.resource.fsPath === from.resource.fsPath) {\n                const isTriggerLocation = from.resource.fsPath === link.source.resource.fsPath && ((link.href.kind === 'reference' && (0, range_1.areRangesEqual)(from.range, link.source.hrefRange)) || (link.kind === 'definition' && (0, range_1.areRangesEqual)(from.range, link.ref.range)));\n                const pathRange = this.getPathRange(link);\n                yield {\n                    kind: 'link',\n                    isTriggerLocation,\n                    isDefinition: link.kind === 'definition',\n                    link,\n                    location: { uri: from.resource.toString(), range: pathRange },\n                };\n            }\n        }\n    }\n    /**\n     * Get just the range of the file path, dropping the fragment\n     */\n    getPathRange(link) {\n        return link.source.fragmentRange\n            ? (0, range_1.modifyRange)(link.source.hrefRange, undefined, (0, position_1.translatePosition)(link.source.fragmentRange.start, { characterDelta: -1 }))\n            : link.source.hrefRange;\n    }\n}\nexports.MdReferencesProvider = MdReferencesProvider;\n//# sourceMappingURL=references.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdRenameProvider = void 0;\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nconst path = require(\"path\");\nconst lsp = require(\"vscode-languageserver-types\");\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst dispose_1 = require(\"../util/dispose\");\nconst workspace_1 = require(\"../workspace\");\nconst documentLinks_1 = require(\"./documentLinks\");\nfunction tryDecodeUri(str) {\n    try {\n        return decodeURI(str);\n    }\n    catch {\n        return str;\n    }\n}\nclass MdRenameProvider extends dispose_1.Disposable {\n    constructor(configuration, workspace, referencesProvider, slugifier) {\n        super();\n        this.configuration = configuration;\n        this.workspace = workspace;\n        this.referencesProvider = referencesProvider;\n        this.slugifier = slugifier;\n        this.renameNotSupportedText = \"Rename not supported at location\";\n    }\n    async prepareRename(document, position, token) {\n        const allRefsInfo = await this.getAllReferences(document, position, token);\n        if (token.isCancellationRequested) {\n            return undefined;\n        }\n        if (!allRefsInfo || !allRefsInfo.references.length) {\n            throw new Error(this.renameNotSupportedText);\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        switch (triggerRef.kind) {\n            case 'header': {\n                return { range: triggerRef.headerTextLocation.range, placeholder: triggerRef.headerText };\n            }\n            case 'link': {\n                if (triggerRef.link.kind === 'definition') {\n                    // We may have been triggered on the ref or the definition itself\n                    if ((0, range_1.rangeContains)(triggerRef.link.ref.range, position)) {\n                        return { range: triggerRef.link.ref.range, placeholder: triggerRef.link.ref.text };\n                    }\n                }\n                if (triggerRef.link.href.kind === 'external') {\n                    return { range: triggerRef.link.source.hrefRange, placeholder: document.getText(triggerRef.link.source.hrefRange) };\n                }\n                // See if we are renaming the fragment or the path\n                const { fragmentRange } = triggerRef.link.source;\n                if (fragmentRange && (0, range_1.rangeContains)(fragmentRange, position)) {\n                    const declaration = this.findHeaderDeclaration(allRefsInfo.references);\n                    if (declaration) {\n                        return { range: fragmentRange, placeholder: declaration.headerText };\n                    }\n                    return { range: fragmentRange, placeholder: document.getText(fragmentRange) };\n                }\n                const range = this.getFilePathRange(triggerRef);\n                if (!range) {\n                    throw new Error(this.renameNotSupportedText);\n                }\n                return { range, placeholder: tryDecodeUri(document.getText(range)) };\n            }\n        }\n    }\n    getFilePathRange(ref) {\n        if (ref.link.source.fragmentRange) {\n            return (0, range_1.modifyRange)(ref.link.source.hrefRange, undefined, (0, position_1.translatePosition)(ref.link.source.fragmentRange.start, { characterDelta: -1 }));\n        }\n        return ref.link.source.hrefRange;\n    }\n    findHeaderDeclaration(references) {\n        return references.find(ref => ref.isDefinition && ref.kind === 'header');\n    }\n    async provideRenameEdits(document, position, newName, token) {\n        return (await this.provideRenameEditsImpl(document, position, newName, token))?.edit;\n    }\n    async provideRenameEditsImpl(document, position, newName, token) {\n        const allRefsInfo = await this.getAllReferences(document, position, token);\n        if (token.isCancellationRequested || !allRefsInfo || !allRefsInfo.references.length) {\n            return undefined;\n        }\n        const triggerRef = allRefsInfo.triggerRef;\n        if (triggerRef.kind === 'link' && ((triggerRef.link.kind === 'definition' && (0, range_1.rangeContains)(triggerRef.link.ref.range, position)) || triggerRef.link.href.kind === 'reference')) {\n            return this.renameReferenceLinks(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === 'link' && triggerRef.link.href.kind === 'external') {\n            return this.renameExternalLink(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === 'header' || (triggerRef.kind === 'link' && triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position) && (triggerRef.link.kind === 'definition' || triggerRef.link.kind === 'link' && triggerRef.link.href.kind === 'internal'))) {\n            return this.renameFragment(allRefsInfo, newName);\n        }\n        else if (triggerRef.kind === 'link' && !(triggerRef.link.source.fragmentRange && (0, range_1.rangeContains)(triggerRef.link.source.fragmentRange, position)) && (triggerRef.link.kind === 'link' || triggerRef.link.kind === 'definition') && triggerRef.link.href.kind === 'internal') {\n            return this.renameFilePath(triggerRef.link.source.resource, triggerRef.link.href, allRefsInfo, newName);\n        }\n        return undefined;\n    }\n    async renameFilePath(triggerDocument, triggerHref, allRefsInfo, newName) {\n        const builder = new WorkspaceEditBuilder();\n        const fileRenames = [];\n        const targetUri = await (0, workspace_1.statLinkToMarkdownFile)(this.configuration, this.workspace, triggerHref.path) ?? triggerHref.path;\n        const rawNewFilePath = (0, documentLinks_1.resolveDocumentLink)(triggerDocument, newName, this.workspace);\n        if (!rawNewFilePath) {\n            return { edit: builder.getEdit() };\n        }\n        let resolvedNewFilePath = rawNewFilePath.path;\n        if (!vscode_uri_1.Utils.extname(resolvedNewFilePath)) {\n            // If the newly entered path doesn't have a file extension but the original file did\n            // tack on a .md file extension\n            if (vscode_uri_1.Utils.extname(targetUri)) {\n                resolvedNewFilePath = resolvedNewFilePath.with({\n                    path: resolvedNewFilePath.path + '.md'\n                });\n            }\n        }\n        // First rename the file\n        if (await this.workspace.stat(targetUri)) {\n            fileRenames.push({ from: targetUri, to: resolvedNewFilePath });\n            builder.renameFile(targetUri, resolvedNewFilePath);\n        }\n        // Then update all refs to it\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === 'link') {\n                // Try to preserve style of existing links\n                let newPath;\n                if (ref.link.source.hrefText.startsWith('/')) {\n                    const root = (0, documentLinks_1.resolveDocumentLink)(ref.link.source.resource, '/', this.workspace);\n                    if (!root) {\n                        continue;\n                    }\n                    newPath = '/' + path.relative(root.path.toString(true), rawNewFilePath.path.toString(true));\n                }\n                else {\n                    const rootDir = vscode_uri_1.Utils.dirname(ref.link.source.resource);\n                    if (rootDir.scheme === rawNewFilePath.path.scheme && rootDir.scheme !== 'untitled') {\n                        newPath = path.relative(rootDir.toString(true), rawNewFilePath.path.toString(true));\n                        if (newName.startsWith('./') && !newPath.startsWith('../') || newName.startsWith('.\\\\') && !newPath.startsWith('..\\\\')) {\n                            newPath = './' + newPath;\n                        }\n                    }\n                    else {\n                        newPath = newName;\n                    }\n                }\n                builder.replace(ref.link.source.resource, this.getFilePathRange(ref), encodeURI(newPath.replace(/\\\\/g, '/')));\n            }\n        }\n        return { edit: builder.getEdit(), fileRenames };\n    }\n    renameFragment(allRefsInfo, newName) {\n        const slug = this.slugifier.fromHeading(newName).value;\n        const builder = new WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            switch (ref.kind) {\n                case 'header':\n                    builder.replace(vscode_uri_1.URI.parse(ref.location.uri), ref.headerTextLocation.range, newName);\n                    break;\n                case 'link':\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, !ref.link.source.fragmentRange || ref.link.href.kind === 'external' ? newName : slug);\n                    break;\n            }\n        }\n        return { edit: builder.getEdit() };\n    }\n    renameExternalLink(allRefsInfo, newName) {\n        const builder = new WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === 'link') {\n                builder.replace(ref.link.source.resource, ref.location.range, newName);\n            }\n        }\n        return { edit: builder.getEdit() };\n    }\n    renameReferenceLinks(allRefsInfo, newName) {\n        const builder = new WorkspaceEditBuilder();\n        for (const ref of allRefsInfo.references) {\n            if (ref.kind === 'link') {\n                if (ref.link.kind === 'definition') {\n                    builder.replace(ref.link.source.resource, ref.link.ref.range, newName);\n                }\n                else {\n                    builder.replace(ref.link.source.resource, ref.link.source.fragmentRange ?? ref.location.range, newName);\n                }\n            }\n        }\n        return { edit: builder.getEdit() };\n    }\n    async getAllReferences(document, position, token) {\n        const version = document.version;\n        if (this.cachedRefs\n            && this.cachedRefs.resource.fsPath === vscode_uri_1.URI.parse(document.uri).fsPath\n            && this.cachedRefs.version === document.version\n            && (0, position_1.arePositionsEqual)(this.cachedRefs.position, position)) {\n            return this.cachedRefs;\n        }\n        const references = await this.referencesProvider.getReferencesAtPosition(document, position, token);\n        const triggerRef = references.find(ref => ref.isTriggerLocation);\n        if (!triggerRef) {\n            return undefined;\n        }\n        this.cachedRefs = {\n            resource: vscode_uri_1.URI.parse(document.uri),\n            version,\n            position,\n            references,\n            triggerRef\n        };\n        return this.cachedRefs;\n    }\n}\nexports.MdRenameProvider = MdRenameProvider;\nclass WorkspaceEditBuilder {\n    constructor() {\n        this.edit = {\n            changes: {},\n        };\n    }\n    replace(resource, range, newText) {\n        const resourceKey = resource.toString();\n        let edits = this.edit.changes[resourceKey];\n        if (!edits) {\n            edits = [];\n            this.edit.changes[resourceKey] = edits;\n        }\n        edits.push(lsp.TextEdit.replace(range, newText));\n    }\n    getEdit() {\n        return this.edit;\n    }\n    renameFile(targetUri, resolvedNewFilePath) {\n        if (!this.edit.documentChanges) {\n            this.edit.documentChanges = [];\n        }\n        this.edit.documentChanges.push(lsp.RenameFile.create(targetUri.toString(), resolvedNewFilePath.toString()));\n    }\n}\n//# sourceMappingURL=rename.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdSelectionRangeProvider = void 0;\nconst logging_1 = require(\"../logging\");\nconst position_1 = require(\"../types/position\");\nconst range_1 = require(\"../types/range\");\nconst textDocument_1 = require(\"../types/textDocument\");\nconst string_1 = require(\"../util/string\");\nclass MdSelectionRangeProvider {\n    constructor(parser, tocProvider, logger) {\n        this.parser = parser;\n        this.tocProvider = tocProvider;\n        this.logger = logger;\n    }\n    async provideSelectionRanges(document, positions, _token) {\n        this.logger.log(logging_1.LogLevel.Debug, 'MdSelectionRangeProvider', `provideSelectionRanges - ${document.uri}`);\n        const promises = await Promise.all(positions.map((position) => {\n            return this.provideSelectionRange(document, position);\n        }));\n        return promises.filter(item => item !== undefined);\n    }\n    async provideSelectionRange(document, position) {\n        const headerRange = await this.getHeaderSelectionRange(document, position);\n        const blockRange = await this.getBlockSelectionRange(document, position, headerRange);\n        const inlineRange = await this.getInlineSelectionRange(document, position, blockRange);\n        return inlineRange || blockRange || headerRange;\n    }\n    async getInlineSelectionRange(document, position, blockRange) {\n        return createInlineRange(document, position, blockRange);\n    }\n    async getBlockSelectionRange(document, position, headerRange) {\n        const tokens = await this.parser.tokenize(document);\n        const blockTokens = getBlockTokensForPosition(tokens, position, headerRange);\n        if (blockTokens.length === 0) {\n            return undefined;\n        }\n        let currentRange = headerRange ? headerRange : createBlockRange(blockTokens.shift(), document, position.line);\n        for (let i = 0; i < blockTokens.length; i++) {\n            currentRange = createBlockRange(blockTokens[i], document, position.line, currentRange);\n        }\n        return currentRange;\n    }\n    async getHeaderSelectionRange(document, position) {\n        const toc = await this.tocProvider.getForDocument(document);\n        const headerInfo = getHeadersForPosition(toc.entries, position);\n        const headers = headerInfo.headers;\n        let currentRange;\n        for (let i = 0; i < headers.length; i++) {\n            currentRange = createHeaderRange(headers[i], i === headers.length - 1, headerInfo.headerOnThisLine, currentRange, getFirstChildHeader(document, headers[i], toc.entries));\n        }\n        return currentRange;\n    }\n}\nexports.MdSelectionRangeProvider = MdSelectionRangeProvider;\nfunction getHeadersForPosition(toc, position) {\n    const enclosingHeaders = toc.filter(header => header.sectionLocation.range.start.line <= position.line && header.sectionLocation.range.end.line >= position.line);\n    const sortedHeaders = enclosingHeaders.sort((header1, header2) => (header1.line - position.line) - (header2.line - position.line));\n    const onThisLine = toc.find(header => header.line === position.line) !== undefined;\n    return {\n        headers: sortedHeaders,\n        headerOnThisLine: onThisLine\n    };\n}\nfunction createHeaderRange(header, isClosestHeaderToPosition, onHeaderLine, parent, startOfChildRange) {\n    const range = header.sectionLocation.range;\n    const contentRange = (0, range_1.makeRange)((0, position_1.translatePosition)(range.start, { lineDelta: 1 }), range.end);\n    if (onHeaderLine && isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made on this header line, so select header and its content until the start of its first child\n        // then all of its content\n        return makeSelectionRange((0, range_1.modifyRange)(range, undefined, startOfChildRange), makeSelectionRange(range, parent));\n    }\n    else if (onHeaderLine && isClosestHeaderToPosition) {\n        // selection was made on this header line and no children so expand to all of its content\n        return makeSelectionRange(range, parent);\n    }\n    else if (isClosestHeaderToPosition && startOfChildRange) {\n        // selection was made within content and has child so select content\n        // of this header then all content then header\n        return makeSelectionRange((0, range_1.modifyRange)(contentRange, undefined, startOfChildRange), makeSelectionRange(contentRange, (makeSelectionRange(range, parent))));\n    }\n    else {\n        // not on this header line so select content then header\n        return makeSelectionRange(contentRange, makeSelectionRange(range, parent));\n    }\n}\nfunction getBlockTokensForPosition(tokens, position, parent) {\n    const enclosingTokens = tokens.filter((token) => !!token.map && (token.map[0] <= position.line && token.map[1] > position.line) && (!parent || (token.map[0] >= parent.range.start.line && token.map[1] <= parent.range.end.line + 1)) && isBlockElement(token));\n    if (enclosingTokens.length === 0) {\n        return [];\n    }\n    const sortedTokens = enclosingTokens.sort((token1, token2) => (token2.map[1] - token2.map[0]) - (token1.map[1] - token1.map[0]));\n    return sortedTokens;\n}\nfunction createBlockRange(block, document, cursorLine, parent) {\n    if (block.type === 'fence') {\n        return createFencedRange(block, cursorLine, document, parent);\n    }\n    else {\n        let startLine = (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, block.map[0])) ? block.map[0] + 1 : block.map[0];\n        let endLine = startLine === block.map[1] ? block.map[1] : block.map[1] - 1;\n        if (block.type === 'paragraph_open' && block.map[1] - block.map[0] === 2) {\n            startLine = endLine = cursorLine;\n        }\n        else if (isList(block) && (0, string_1.isEmptyOrWhitespace)((0, textDocument_1.getLine)(document, endLine))) {\n            endLine = endLine - 1;\n        }\n        const range = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n        if (parent && (0, range_1.rangeContains)(parent.range, range) && !(0, range_1.areRangesEqual)(parent.range, range)) {\n            return makeSelectionRange(range, parent);\n        }\n        else if (parent && (0, range_1.areRangesEqual)(parent.range, range)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(range, undefined);\n        }\n    }\n}\nfunction createInlineRange(document, cursorPosition, parent) {\n    const lineText = (0, textDocument_1.getLine)(document, cursorPosition.line);\n    const boldSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, parent);\n    const italicSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, parent);\n    let comboSelection;\n    if (boldSelection && italicSelection && !(0, range_1.areRangesEqual)(boldSelection.range, italicSelection.range)) {\n        if ((0, range_1.rangeContains)(boldSelection.range, italicSelection.range)) {\n            comboSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, true, boldSelection);\n        }\n        else if ((0, range_1.rangeContains)(italicSelection.range, boldSelection.range)) {\n            comboSelection = createBoldRange(lineText, cursorPosition.character, cursorPosition.line, italicSelection);\n        }\n    }\n    const linkSelection = createLinkRange(lineText, cursorPosition.character, cursorPosition.line, comboSelection || boldSelection || italicSelection || parent);\n    const inlineCodeBlockSelection = createOtherInlineRange(lineText, cursorPosition.character, cursorPosition.line, false, linkSelection || parent);\n    return inlineCodeBlockSelection || linkSelection || comboSelection || boldSelection || italicSelection;\n}\nfunction createFencedRange(token, cursorLine, document, parent) {\n    const startLine = token.map[0];\n    const endLine = token.map[1] - 1;\n    const onFenceLine = cursorLine === startLine || cursorLine === endLine;\n    const fenceRange = (0, range_1.makeRange)(startLine, 0, endLine, (0, textDocument_1.getLine)(document, endLine).length);\n    const contentRange = endLine - startLine > 2 && !onFenceLine ? (0, range_1.makeRange)(startLine + 1, 0, endLine - 1, (0, textDocument_1.getLine)(document, endLine - 1).length) : undefined;\n    if (contentRange) {\n        return makeSelectionRange(contentRange, makeSelectionRange(fenceRange, parent));\n    }\n    else {\n        if (parent && (0, range_1.areRangesEqual)(parent.range, fenceRange)) {\n            return parent;\n        }\n        else {\n            return makeSelectionRange(fenceRange, parent);\n        }\n    }\n}\nfunction createBoldRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /\\*\\*([^*]+\\*?[^*]+\\*?[^*]+)\\*\\*/gim;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match\n        const bold = matches[0][0];\n        const startIndex = lineText.indexOf(bold);\n        const cursorOnStars = cursorChar === startIndex || cursorChar === startIndex + 1 || cursorChar === startIndex + bold.length || cursorChar === startIndex + bold.length - 1;\n        const contentAndStars = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + bold.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 2, cursorLine, startIndex + bold.length - 2), contentAndStars);\n        return cursorOnStars ? contentAndStars : content;\n    }\n    return undefined;\n}\nfunction createOtherInlineRange(lineText, cursorChar, cursorLine, isItalic, parent) {\n    const italicRegexes = [/(?:[^*]+)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]+)/g, /^(?:[^*]*)(\\*([^*]+)(?:\\*\\*[^*]*\\*\\*)*([^*]+)\\*)(?:[^*]*)$/g];\n    let matches = [];\n    if (isItalic) {\n        matches = [...lineText.matchAll(italicRegexes[0])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        if (!matches.length) {\n            matches = [...lineText.matchAll(italicRegexes[1])].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n        }\n    }\n    else {\n        matches = [...lineText.matchAll(/\\`[^\\`]*\\`/g)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length >= cursorChar);\n    }\n    if (matches.length) {\n        // should only be one match, so select first and select group 1 for italics because that contains just the italic section\n        // doesn't include the leading and trailing characters which are guaranteed to not be * so as not to be confused with bold\n        const match = isItalic ? matches[0][1] : matches[0][0];\n        const startIndex = lineText.indexOf(match);\n        const cursorOnType = cursorChar === startIndex || cursorChar === startIndex + match.length;\n        const contentAndType = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex, cursorLine, startIndex + match.length), parent);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, startIndex + 1, cursorLine, startIndex + match.length - 1), contentAndType);\n        return cursorOnType ? contentAndType : content;\n    }\n    return undefined;\n}\nfunction createLinkRange(lineText, cursorChar, cursorLine, parent) {\n    const regex = /(\\[[^\\(\\)]*\\])(\\([^\\[\\]]*\\))/g;\n    const matches = [...lineText.matchAll(regex)].filter(match => lineText.indexOf(match[0]) <= cursorChar && lineText.indexOf(match[0]) + match[0].length > cursorChar);\n    if (matches.length) {\n        // should only be one match, so select first and index 0 contains the entire match, so match = [text](url)\n        const link = matches[0][0];\n        const linkRange = makeSelectionRange((0, range_1.makeRange)(cursorLine, lineText.indexOf(link), cursorLine, lineText.indexOf(link) + link.length), parent);\n        const linkText = matches[0][1];\n        const url = matches[0][2];\n        // determine if cursor is within [text] or (url) in order to know which should be selected\n        const nearestType = cursorChar >= lineText.indexOf(linkText) && cursorChar < lineText.indexOf(linkText) + linkText.length ? linkText : url;\n        const indexOfType = lineText.indexOf(nearestType);\n        // determine if cursor is on a bracket or paren and if so, return the [content] or (content), skipping over the content range\n        const cursorOnType = cursorChar === indexOfType || cursorChar === indexOfType + nearestType.length;\n        const contentAndNearestType = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType, cursorLine, indexOfType + nearestType.length), linkRange);\n        const content = makeSelectionRange((0, range_1.makeRange)(cursorLine, indexOfType + 1, cursorLine, indexOfType + nearestType.length - 1), contentAndNearestType);\n        return cursorOnType ? contentAndNearestType : content;\n    }\n    return undefined;\n}\nfunction isList(token) {\n    return token.type ? ['ordered_list_open', 'list_item_open', 'bullet_list_open'].includes(token.type) : false;\n}\nfunction isBlockElement(token) {\n    return !['list_item_close', 'paragraph_close', 'bullet_list_close', 'inline', 'heading_close', 'heading_open'].includes(token.type);\n}\nfunction getFirstChildHeader(document, header, toc) {\n    let childRange;\n    if (header && toc) {\n        const children = toc.filter(t => (0, range_1.rangeContains)(header.sectionLocation.range, t.sectionLocation.range) && t.sectionLocation.range.start.line > header.sectionLocation.range.start.line).sort((t1, t2) => t1.line - t2.line);\n        if (children.length > 0) {\n            childRange = children[0].sectionLocation.range.start;\n            const lineText = (0, textDocument_1.getLine)(document, childRange.line - 1);\n            return childRange ? (0, position_1.translatePosition)(childRange, { lineDelta: -1, characterDelta: lineText.length }) : undefined;\n        }\n    }\n    return undefined;\n}\nfunction makeSelectionRange(range, parent) {\n    return { range, parent };\n}\n//# sourceMappingURL=smartSelect.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceSymbolProvider = void 0;\nconst dispose_1 = require(\"../util/dispose\");\nconst workspaceCache_1 = require(\"../workspaceCache\");\nclass MdWorkspaceSymbolProvider extends dispose_1.Disposable {\n    constructor(workspace, symbolProvider) {\n        super();\n        this._cache = this._register(new workspaceCache_1.MdWorkspaceInfoCache(workspace, doc => symbolProvider.provideDocumentSymbolInformation(doc)));\n    }\n    async provideWorkspaceSymbols(query, _token) {\n        const allSymbols = (await this._cache.values()).flat();\n        return allSymbols.filter(symbolInformation => symbolInformation.name.toLowerCase().indexOf(query.toLowerCase()) !== -1);\n    }\n}\nexports.MdWorkspaceSymbolProvider = MdWorkspaceSymbolProvider;\n//# sourceMappingURL=workspaceSymbols.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = void 0;\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[\"Debug\"] = \"Debug\";\n    LogLevel[\"Trace\"] = \"Trace\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.githubSlugifier = exports.Slug = void 0;\nclass Slug {\n    constructor(value) {\n        this.value = value;\n    }\n    equals(other) {\n        return this.value === other.value;\n    }\n}\nexports.Slug = Slug;\nexports.githubSlugifier = new class {\n    fromHeading(heading) {\n        const slugifiedHeading = encodeURI(heading.trim()\n            .toLowerCase()\n            .replace(/\\s+/g, '-') // Replace whitespace with -\n            // allow-any-unicode-next-line\n            .replace(/[\\]\\[\\!\\/\\'\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\\\\\^\\_\\{\\|\\}\\~\\`]/g, '') // Remove known punctuators\n            .replace(/^-+/, '') // Remove leading -\n            .replace(/-+$/, '') // Remove trailing -\n        );\n        return new Slug(slugifiedHeading);\n    }\n};\n//# sourceMappingURL=slugify.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdTableOfContentsProvider = exports.TableOfContents = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst logging_1 = require(\"./logging\");\nconst slugify_1 = require(\"./slugify\");\nconst range_1 = require(\"./types/range\");\nconst textDocument_1 = require(\"./types/textDocument\");\nconst dispose_1 = require(\"./util/dispose\");\nconst workspaceCache_1 = require(\"./workspaceCache\");\nclass TableOfContents {\n    constructor(entries, slugifier) {\n        this.entries = entries;\n        this.slugifier = slugifier;\n    }\n    static async create(parser, document) {\n        const entries = await this.buildToc(parser, document);\n        return new TableOfContents(entries, parser.slugifier);\n    }\n    static async createForContainingDoc(parser, workspace, document) {\n        const context = workspace.getContainingDocument?.(vscode_uri_1.URI.parse(document.uri));\n        if (context) {\n            const entries = [];\n            await Promise.all(Array.from(context.children, async (cell) => {\n                const doc = await workspace.openMarkdownDocument(cell.uri);\n                if (doc) {\n                    entries.push(...(await this.buildToc(parser, doc)));\n                }\n            }));\n            return new TableOfContents(entries, parser.slugifier);\n        }\n        return this.create(parser, document);\n    }\n    static async buildToc(parser, document) {\n        const docUri = vscode_uri_1.URI.parse(document.uri);\n        const toc = [];\n        const tokens = await parser.tokenize(document);\n        const existingSlugEntries = new Map();\n        for (const heading of tokens.filter(token => token.type === 'heading_open')) {\n            if (!heading.map) {\n                continue;\n            }\n            const lineNumber = heading.map[0];\n            const line = (0, textDocument_1.getLine)(document, lineNumber);\n            let slug = parser.slugifier.fromHeading(line);\n            const existingSlugEntry = existingSlugEntries.get(slug.value);\n            if (existingSlugEntry) {\n                ++existingSlugEntry.count;\n                slug = parser.slugifier.fromHeading(slug.value + '-' + existingSlugEntry.count);\n            }\n            else {\n                existingSlugEntries.set(slug.value, { count: 0 });\n            }\n            const headerLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, 0, lineNumber, line.length)\n            };\n            const headerTextLocation = {\n                uri: docUri.toString(),\n                range: (0, range_1.makeRange)(lineNumber, line.match(/^#+\\s*/)?.[0].length ?? 0, lineNumber, line.length - (line.match(/\\s*#*$/)?.[0].length ?? 0))\n            };\n            toc.push({\n                slug,\n                text: TableOfContents.getHeaderText(line),\n                level: TableOfContents.getHeaderLevel(heading.markup),\n                line: lineNumber,\n                sectionLocation: headerLocation,\n                headerLocation,\n                headerTextLocation\n            });\n        }\n        // Get full range of section\n        return toc.map((entry, startIndex) => {\n            let end = undefined;\n            for (let i = startIndex + 1; i < toc.length; ++i) {\n                if (toc[i].level <= entry.level) {\n                    end = toc[i].line - 1;\n                    break;\n                }\n            }\n            const endLine = end ?? document.lineCount - 1;\n            return {\n                ...entry,\n                sectionLocation: {\n                    uri: docUri.toString(),\n                    range: (0, range_1.makeRange)(entry.sectionLocation.range.start, { line: endLine, character: (0, textDocument_1.getLine)(document, endLine).length })\n                }\n            };\n        });\n    }\n    static getHeaderLevel(markup) {\n        if (markup === '=') {\n            return 1;\n        }\n        else if (markup === '-') {\n            return 2;\n        }\n        else { // '#', '##', ...\n            return markup.length;\n        }\n    }\n    static getHeaderText(header) {\n        return header.replace(/^\\s*#+\\s*(.*?)(\\s+#+)?$/, (_, word) => word.trim());\n    }\n    lookup(fragment) {\n        const slug = this.slugifier.fromHeading(fragment);\n        return this.entries.find(entry => entry.slug.equals(slug));\n    }\n}\nexports.TableOfContents = TableOfContents;\nTableOfContents.empty = new TableOfContents([], slugify_1.githubSlugifier);\nclass MdTableOfContentsProvider extends dispose_1.Disposable {\n    constructor(parser, workspace, logger) {\n        super();\n        this.logger = logger;\n        this._cache = this._register(new workspaceCache_1.MdDocumentInfoCache(workspace, doc => {\n            this.logger.log(logging_1.LogLevel.Debug, 'TableOfContentsProvider', `create - ${doc.uri}`);\n            return TableOfContents.create(parser, doc);\n        }));\n    }\n    async get(resource) {\n        return await this._cache.get(resource) ?? TableOfContents.empty;\n    }\n    getForDocument(doc) {\n        return this._cache.getForDocument(doc);\n    }\n}\nexports.MdTableOfContentsProvider = MdTableOfContentsProvider;\n//# sourceMappingURL=tableOfContents.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.comparePosition = exports.isAfter = exports.isBeforeOrEqual = exports.isBefore = exports.translatePosition = exports.isPosition = exports.arePositionsEqual = void 0;\nfunction arePositionsEqual(a, b) {\n    return a.line === b.line && a.character === b.character;\n}\nexports.arePositionsEqual = arePositionsEqual;\nfunction isPosition(other) {\n    if (!other) {\n        return false;\n    }\n    const { line, character } = other;\n    return typeof line === 'number' && typeof character === 'number';\n}\nexports.isPosition = isPosition;\nfunction translatePosition(pos, change) {\n    return {\n        line: pos.line + (change.lineDelta ?? 0),\n        character: pos.character + (change.characterDelta ?? 0),\n    };\n}\nexports.translatePosition = translatePosition;\nfunction isBefore(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character < other.character;\n}\nexports.isBefore = isBefore;\nfunction isBeforeOrEqual(pos, other) {\n    if (pos.line < other.line) {\n        return true;\n    }\n    if (other.line < pos.line) {\n        return false;\n    }\n    return pos.character <= other.character;\n}\nexports.isBeforeOrEqual = isBeforeOrEqual;\nfunction isAfter(pos, other) {\n    return !isBeforeOrEqual(pos, other);\n}\nexports.isAfter = isAfter;\nfunction comparePosition(a, b) {\n    if (a.line < b.line) {\n        return -1;\n    }\n    else if (a.line > b.line) {\n        return 1;\n    }\n    else {\n        // equal line\n        if (a.character < b.character) {\n            return -1;\n        }\n        else if (a.character > b.character) {\n            return 1;\n        }\n        else {\n            // equal line and character\n            return 0;\n        }\n    }\n}\nexports.comparePosition = comparePosition;\n//# sourceMappingURL=position.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rangeContains = exports.modifyRange = exports.areRangesEqual = exports.makeRange = exports.isRange = void 0;\nconst position_1 = require(\"./position\");\nfunction isRange(thing) {\n    if (!thing) {\n        return false;\n    }\n    return (0, position_1.isPosition)(thing.start)\n        && (0, position_1.isPosition)(thing.end);\n}\nexports.isRange = isRange;\nfunction makeRange(startOrStartLine, endOrStartCharacter, endLine, endCharacter) {\n    if (typeof startOrStartLine === 'number') {\n        return {\n            start: { line: startOrStartLine, character: endOrStartCharacter },\n            end: { line: endLine, character: endCharacter },\n        };\n    }\n    return { start: startOrStartLine, end: endOrStartCharacter };\n}\nexports.makeRange = makeRange;\nfunction areRangesEqual(a, b) {\n    return (0, position_1.arePositionsEqual)(a.start, b.start) && (0, position_1.arePositionsEqual)(a.end, b.end);\n}\nexports.areRangesEqual = areRangesEqual;\nfunction modifyRange(range, start, end) {\n    return {\n        start: start ?? range.start,\n        end: end ?? range.end,\n    };\n}\nexports.modifyRange = modifyRange;\nfunction rangeContains(range, other) {\n    if (isRange(other)) {\n        return rangeContains(range, other.start) && rangeContains(range, other.end);\n    }\n    return !(0, position_1.isBefore)(other, range.start) && !(0, position_1.isBefore)(range.end, other);\n}\nexports.rangeContains = rangeContains;\n//# sourceMappingURL=range.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLine = void 0;\nconst range_1 = require(\"./range\");\nfunction getLine(doc, line) {\n    return doc.getText((0, range_1.makeRange)(line, 0, line, Number.MAX_VALUE)).replace(/\\r?\\n$/, '');\n}\nexports.getLine = getLine;\n//# sourceMappingURL=textDocument.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.coalesce = void 0;\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nfunction coalesce(array) {\n    return array.filter(e => !!e);\n}\nexports.coalesce = coalesce;\n//# sourceMappingURL=arrays.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.noopToken = void 0;\nconst vscode_languageserver_1 = require(\"vscode-languageserver\");\nexports.noopToken = new class {\n    constructor() {\n        this._onCancellationRequestedEmitter = new vscode_languageserver_1.Emitter();\n        this.onCancellationRequested = this._onCancellationRequestedEmitter.event;\n    }\n    get isCancellationRequested() { return false; }\n};\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DisposableStore = exports.Disposable = exports.disposeAll = exports.MultiDisposeError = void 0;\nclass MultiDisposeError extends Error {\n    constructor(errors) {\n        super(`Encountered errors while disposing of store. Errors: [${errors.join(', ')}]`);\n        this.errors = errors;\n    }\n}\nexports.MultiDisposeError = MultiDisposeError;\nfunction disposeAll(disposables) {\n    const errors = [];\n    for (const disposable of disposables) {\n        try {\n            disposable.dispose();\n        }\n        catch (e) {\n            errors.push(e);\n        }\n    }\n    if (errors.length === 1) {\n        throw errors[0];\n    }\n    else if (errors.length > 1) {\n        throw new MultiDisposeError(errors);\n    }\n}\nexports.disposeAll = disposeAll;\nclass Disposable {\n    constructor() {\n        this._isDisposed = false;\n        this._disposables = [];\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        disposeAll(this._disposables);\n    }\n    _register(value) {\n        if (this._isDisposed) {\n            value.dispose();\n        }\n        else {\n            this._disposables.push(value);\n        }\n        return value;\n    }\n    get isDisposed() {\n        return this._isDisposed;\n    }\n}\nexports.Disposable = Disposable;\nclass DisposableStore extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.items = new Set();\n    }\n    dispose() {\n        super.dispose();\n        disposeAll(this.items);\n        this.items.clear();\n    }\n    add(item) {\n        if (this.isDisposed) {\n            console.warn('Adding to disposed store. Item will be leaked');\n        }\n        this.items.add(item);\n        return item;\n    }\n}\nexports.DisposableStore = DisposableStore;\n//# sourceMappingURL=dispose.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.looksLikeMarkdownPath = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nfunction looksLikeMarkdownPath(config, resolvedHrefPath) {\n    return config.markdownFileExtensions.includes(vscode_uri_1.Utils.extname(vscode_uri_1.URI.from(resolvedHrefPath)).toLowerCase().replace('.', ''));\n}\nexports.looksLikeMarkdownPath = looksLikeMarkdownPath;\n//# sourceMappingURL=file.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lazy = void 0;\nclass LazyValue {\n    constructor(_getValue) {\n        this._getValue = _getValue;\n        this._hasValue = false;\n    }\n    get value() {\n        if (!this._hasValue) {\n            this._hasValue = true;\n            this._value = this._getValue();\n        }\n        return this._value;\n    }\n    get hasValue() {\n        return this._hasValue;\n    }\n    map(f) {\n        return new LazyValue(() => f(this.value));\n    }\n}\nfunction lazy(getValue) {\n    return new LazyValue(getValue);\n}\nexports.lazy = lazy;\n//# sourceMappingURL=lazy.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Limiter = void 0;\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nclass Limiter {\n    constructor(maxDegreeOfParalellism) {\n        this._size = 0;\n        this.maxDegreeOfParalellism = maxDegreeOfParalellism;\n        this.outstandingPromises = [];\n        this.runningPromises = 0;\n    }\n    get size() {\n        return this._size;\n    }\n    queue(factory) {\n        this._size++;\n        return new Promise((c, e) => {\n            this.outstandingPromises.push({ factory, c, e });\n            this.consume();\n        });\n    }\n    consume() {\n        while (this.outstandingPromises.length && this.runningPromises < this.maxDegreeOfParalellism) {\n            const iLimitedTask = this.outstandingPromises.shift();\n            this.runningPromises++;\n            const promise = iLimitedTask.factory();\n            promise.then(iLimitedTask.c, iLimitedTask.e);\n            promise.then(() => this.consumed(), () => this.consumed());\n        }\n    }\n    consumed() {\n        this._size--;\n        this.runningPromises--;\n        if (this.outstandingPromises.length > 0) {\n            this.consume();\n        }\n    }\n}\nexports.Limiter = Limiter;\n//# sourceMappingURL=limiter.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResourceMap = void 0;\nconst defaultResourceToKey = (resource) => resource.toString();\nclass ResourceMap {\n    constructor(toKey = defaultResourceToKey) {\n        this.map = new Map();\n        this.toKey = toKey;\n    }\n    set(uri, value) {\n        this.map.set(this.toKey(uri), { uri, value });\n        return this;\n    }\n    get(resource) {\n        return this.map.get(this.toKey(resource))?.value;\n    }\n    has(resource) {\n        return this.map.has(this.toKey(resource));\n    }\n    get size() {\n        return this.map.size;\n    }\n    clear() {\n        this.map.clear();\n    }\n    delete(resource) {\n        return this.map.delete(this.toKey(resource));\n    }\n    *values() {\n        for (const entry of this.map.values()) {\n            yield entry.value;\n        }\n    }\n    *keys() {\n        for (const entry of this.map.values()) {\n            yield entry.uri;\n        }\n    }\n    *entries() {\n        for (const entry of this.map.values()) {\n            yield [entry.uri, entry.value];\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\nexports.ResourceMap = ResourceMap;\n//# sourceMappingURL=resourceMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Schemes = void 0;\nexports.Schemes = Object.freeze({\n    file: 'file',\n    untitled: 'untitled',\n});\n//# sourceMappingURL=schemes.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.r = exports.isEmptyOrWhitespace = void 0;\nfunction isEmptyOrWhitespace(str) {\n    return /^\\s*$/.test(str);\n}\nexports.isEmptyOrWhitespace = isEmptyOrWhitespace;\nexports.r = String.raw;\n//# sourceMappingURL=string.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.statLinkToMarkdownFile = exports.openLinkToMarkdownFile = exports.getWorkspaceFolder = exports.isWorkspaceWithFileWatching = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nfunction isWorkspaceWithFileWatching(workspace) {\n    return 'watchFile' in workspace;\n}\nexports.isWorkspaceWithFileWatching = isWorkspaceWithFileWatching;\nfunction getWorkspaceFolder(workspace, docUri) {\n    if (workspace.workspaceFolders.length === 0) {\n        return undefined;\n    }\n    // Find the longest match\n    const possibleWorkspaces = workspace.workspaceFolders\n        .filter(folder => folder.scheme === docUri.scheme\n        && folder.authority === docUri.authority\n        && (docUri.fsPath.startsWith(folder.fsPath + '/') || docUri.fsPath.startsWith(folder.path + '\\\\')))\n        .sort((a, b) => b.fsPath.length - a.fsPath.length);\n    if (possibleWorkspaces.length) {\n        return possibleWorkspaces[0];\n    }\n    // Default to first workspace\n    // TODO: Does this make sense?\n    return workspace.workspaceFolders[0];\n}\nexports.getWorkspaceFolder = getWorkspaceFolder;\nasync function openLinkToMarkdownFile(config, workspace, resource) {\n    try {\n        const doc = await workspace.openMarkdownDocument(resource);\n        if (doc) {\n            return doc;\n        }\n    }\n    catch {\n        // Noop\n    }\n    const dotMdResource = tryAppendMarkdownFileExtension(config, resource);\n    if (dotMdResource) {\n        return workspace.openMarkdownDocument(dotMdResource);\n    }\n    return undefined;\n}\nexports.openLinkToMarkdownFile = openLinkToMarkdownFile;\n/**\n * Check that a link to a file exists.\n *\n * @return The resolved URI or `undefined` if the file does not exist.\n */\nasync function statLinkToMarkdownFile(config, workspace, linkUri, out_statCache) {\n    const exists = async (uri) => {\n        const result = await workspace.stat(uri);\n        out_statCache?.set(uri, { exists: !!result });\n        return !!result;\n    };\n    if (await exists(linkUri)) {\n        return linkUri;\n    }\n    // We don't think the file exists. See if we need to append `.md`\n    const dotMdResource = tryAppendMarkdownFileExtension(config, linkUri);\n    if (dotMdResource && await exists(dotMdResource)) {\n        return dotMdResource;\n    }\n    return undefined;\n}\nexports.statLinkToMarkdownFile = statLinkToMarkdownFile;\nfunction tryAppendMarkdownFileExtension(config, linkUri) {\n    const ext = vscode_uri_1.Utils.extname(linkUri).toLowerCase().replace(/^\\./, '');\n    if (ext === '' || !(config.markdownFileExtensions.includes(ext) || config.knownLinkedToFileExtensions.includes(ext))) {\n        return linkUri.with({ path: linkUri.path + '.md' });\n    }\n    return undefined;\n}\n//# sourceMappingURL=workspace.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdWorkspaceInfoCache = exports.MdDocumentInfoCache = void 0;\nconst vscode_uri_1 = require(\"vscode-uri\");\nconst dispose_1 = require(\"./util/dispose\");\nconst lazy_1 = require(\"./util/lazy\");\nconst resourceMap_1 = require(\"./util/resourceMap\");\nclass LazyResourceMap {\n    constructor() {\n        this._map = new resourceMap_1.ResourceMap();\n    }\n    has(resource) {\n        return this._map.has(resource);\n    }\n    get(resource) {\n        return this._map.get(resource)?.value;\n    }\n    set(resource, value) {\n        this._map.set(resource, value);\n    }\n    delete(resource) {\n        this._map.delete(resource);\n    }\n    entries() {\n        return Promise.all(Array.from(this._map.entries(), async ([key, entry]) => {\n            return [key, await entry.value];\n        }));\n    }\n}\n/**\n * Cache of information per-document in the workspace.\n *\n * The values are computed lazily and invalidated when the document changes.\n */\nclass MdDocumentInfoCache extends dispose_1.Disposable {\n    constructor(workspace, getValue) {\n        super();\n        this.workspace = workspace;\n        this.getValue = getValue;\n        this._cache = new LazyResourceMap();\n        this._loadingDocuments = new resourceMap_1.ResourceMap();\n        this._register(this.workspace.onDidChangeMarkdownDocument(doc => this.invalidate(doc)));\n        this._register(this.workspace.onDidDeleteMarkdownDocument(this.onDidDeleteDocument, this));\n    }\n    async get(resource) {\n        let existing = this._cache.get(resource);\n        if (existing) {\n            return existing;\n        }\n        const doc = await this.loadDocument(resource);\n        if (!doc) {\n            return undefined;\n        }\n        // Check if we have invalidated\n        existing = this._cache.get(resource);\n        if (existing) {\n            return existing;\n        }\n        return this.resetEntry(doc)?.value;\n    }\n    async getForDocument(document) {\n        const existing = this._cache.get(vscode_uri_1.URI.parse(document.uri));\n        if (existing) {\n            return existing;\n        }\n        return this.resetEntry(document).value;\n    }\n    loadDocument(resource) {\n        const existing = this._loadingDocuments.get(resource);\n        if (existing) {\n            return existing;\n        }\n        const p = this.workspace.openMarkdownDocument(resource);\n        this._loadingDocuments.set(resource, p);\n        p.finally(() => {\n            this._loadingDocuments.delete(resource);\n        });\n        return p;\n    }\n    resetEntry(document) {\n        const value = (0, lazy_1.lazy)(() => this.getValue(document));\n        this._cache.set(vscode_uri_1.URI.parse(document.uri), value);\n        return value;\n    }\n    invalidate(document) {\n        if (this._cache.has(vscode_uri_1.URI.parse(document.uri))) {\n            this.resetEntry(document);\n        }\n    }\n    onDidDeleteDocument(resource) {\n        this._cache.delete(resource);\n    }\n}\nexports.MdDocumentInfoCache = MdDocumentInfoCache;\n/**\n * Cache of information across all markdown files in the workspace.\n *\n * Unlike {@link MdDocumentInfoCache}, the entries here are computed eagerly for every file in the workspace.\n * However the computation of the values is still lazy.\n */\nclass MdWorkspaceInfoCache extends dispose_1.Disposable {\n    constructor(workspace, getValue) {\n        super();\n        this.workspace = workspace;\n        this.getValue = getValue;\n        this._cache = new LazyResourceMap();\n    }\n    async entries() {\n        await this.ensureInit();\n        return this._cache.entries();\n    }\n    async values() {\n        await this.ensureInit();\n        return Array.from(await this._cache.entries(), x => x[1]);\n    }\n    async getForDocs(docs) {\n        for (const doc of docs) {\n            if (!this._cache.has(vscode_uri_1.URI.parse(doc.uri))) {\n                this.update(doc);\n            }\n        }\n        return Promise.all(docs.map(doc => this._cache.get(vscode_uri_1.URI.parse(doc.uri))));\n    }\n    async ensureInit() {\n        if (!this._init) {\n            this._init = this.populateCache();\n            this._register(this.workspace.onDidChangeMarkdownDocument(this.onDidChangeDocument, this));\n            this._register(this.workspace.onDidCreateMarkdownDocument(this.onDidChangeDocument, this));\n            this._register(this.workspace.onDidDeleteMarkdownDocument(this.onDidDeleteDocument, this));\n        }\n        await this._init;\n    }\n    async populateCache() {\n        const markdownDocumentUris = await this.workspace.getAllMarkdownDocuments();\n        for (const document of markdownDocumentUris) {\n            if (!this._cache.has(vscode_uri_1.URI.parse(document.uri))) {\n                this.update(document);\n            }\n        }\n    }\n    update(document) {\n        this._cache.set(vscode_uri_1.URI.parse(document.uri), (0, lazy_1.lazy)(() => this.getValue(document)));\n    }\n    onDidChangeDocument(document) {\n        this.update(document);\n    }\n    onDidDeleteDocument(resource) {\n        this._cache.delete(resource);\n    }\n}\nexports.MdWorkspaceInfoCache = MdWorkspaceInfoCache;\n//# sourceMappingURL=workspaceCache.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.localize = exports.format = exports.setPseudo = exports.isPseudo = exports.isDefined = exports.BundleFormat = exports.MessageFormat = void 0;\nvar ral_1 = require(\"./ral\");\nvar MessageFormat;\n(function (MessageFormat) {\n    MessageFormat[\"file\"] = \"file\";\n    MessageFormat[\"bundle\"] = \"bundle\";\n    MessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nvar BundleFormat;\n(function (BundleFormat) {\n    // the nls.bundle format\n    BundleFormat[\"standalone\"] = \"standalone\";\n    BundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\nvar LocalizeInfo;\n(function (LocalizeInfo) {\n    function is(value) {\n        var candidate = value;\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\n    }\n    LocalizeInfo.is = is;\n})(LocalizeInfo || (LocalizeInfo = {}));\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexports.isDefined = isDefined;\nexports.isPseudo = false;\nfunction setPseudo(pseudo) {\n    exports.isPseudo = pseudo;\n}\nexports.setPseudo = setPseudo;\nfunction format(message, args) {\n    var result;\n    if (exports.isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            var arg = args[index];\n            var replacement = match;\n            if (typeof arg === 'string') {\n                replacement = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                replacement = String(arg);\n            }\n            return replacement;\n        });\n    }\n    return result;\n}\nexports.format = format;\nfunction localize(_key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexports.localize = localize;\nfunction loadMessageBundle(file) {\n    return (0, ral_1.default)().loadMessageBundle(file);\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    return (0, ral_1.default)().config(opts);\n}\nexports.config = config;\n//# sourceMappingURL=common.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(\"No runtime abstraction layer installed\");\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(\"No runtime abstraction layer provided\");\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.BundleFormat = exports.MessageFormat = void 0;\nvar path = require(\"path\");\nvar fs = require(\"fs\");\nvar ral_1 = require(\"../common/ral\");\nvar common_1 = require(\"../common/common\");\nvar common_2 = require(\"../common/common\");\nObject.defineProperty(exports, \"MessageFormat\", { enumerable: true, get: function () { return common_2.MessageFormat; } });\nObject.defineProperty(exports, \"BundleFormat\", { enumerable: true, get: function () { return common_2.BundleFormat; } });\nvar toString = Object.prototype.toString;\nfunction isNumber(value) {\n    return toString.call(value) === '[object Number]';\n}\nfunction isString(value) {\n    return toString.call(value) === '[object String]';\n}\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nfunction readJsonFileSync(filename) {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n}\nvar resolvedBundles;\nvar options;\nfunction initializeSettings() {\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: common_1.MessageFormat.bundle };\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\n        try {\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\n            var language = void 0;\n            if (vscodeOptions_1.availableLanguages) {\n                var value = vscodeOptions_1.availableLanguages['*'];\n                if (isString(value)) {\n                    language = value;\n                }\n            }\n            if (isString(vscodeOptions_1.locale)) {\n                options.locale = vscodeOptions_1.locale.toLowerCase();\n            }\n            if (language === undefined) {\n                options.language = options.locale;\n            }\n            else if (language !== 'en') {\n                options.language = language;\n            }\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\n            }\n            if (isString(vscodeOptions_1._cacheRoot)) {\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\n            }\n            if (isString(vscodeOptions_1._languagePackId)) {\n                options.languagePackId = vscodeOptions_1._languagePackId;\n            }\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\n                try {\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\n                }\n                catch (error) {\n                    // We can't read the translation config file. Mark the cache as corrupted.\n                    if (vscodeOptions_1._corruptedFile) {\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\n                        fs.exists(dirname, function (exists) {\n                            if (exists) {\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\n                                    console.error(err);\n                                });\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        catch (_a) {\n            // Do nothing.\n        }\n    }\n    (0, common_1.setPseudo)(options.locale === 'pseudo');\n    resolvedBundles = Object.create(null);\n}\ninitializeSettings();\nfunction supportsLanguagePack() {\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\n        && options.translationsConfig !== undefined;\n}\nfunction createScopedLocalizeFunction(messages) {\n    return function (key, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        if (isNumber(key)) {\n            if (key >= messages.length) {\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \".concat(new Error('').stack));\n                return;\n            }\n            return (0, common_1.format)(messages[key], args);\n        }\n        else {\n            if (isString(message)) {\n                console.warn(\"Message \".concat(message, \" didn't get externalized correctly.\"));\n                return (0, common_1.format)(message, args);\n            }\n            else {\n                console.error(\"Broken localize call found. Stacktrace is\\n: \".concat(new Error('').stack));\n            }\n        }\n    };\n}\nfunction resolveLanguage(file) {\n    var resolvedLanguage;\n    if (options.cacheLanguageResolution && resolvedLanguage) {\n        resolvedLanguage = resolvedLanguage;\n    }\n    else {\n        if (common_1.isPseudo || !options.language) {\n            resolvedLanguage = '.nls.json';\n        }\n        else {\n            var locale = options.language;\n            while (locale) {\n                var candidate = '.nls.' + locale + '.json';\n                if (fs.existsSync(file + candidate)) {\n                    resolvedLanguage = candidate;\n                    break;\n                }\n                else {\n                    var index = locale.lastIndexOf('-');\n                    if (index > 0) {\n                        locale = locale.substring(0, index);\n                    }\n                    else {\n                        resolvedLanguage = '.nls.json';\n                        locale = null;\n                    }\n                }\n            }\n        }\n        if (options.cacheLanguageResolution) {\n            resolvedLanguage = resolvedLanguage;\n        }\n    }\n    return file + resolvedLanguage;\n}\nfunction findInTheBoxBundle(root) {\n    var language = options.language;\n    while (language) {\n        var candidate = path.join(root, \"nls.bundle.\".concat(language, \".json\"));\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n        else {\n            var index = language.lastIndexOf('-');\n            if (index > 0) {\n                language = language.substring(0, index);\n            }\n            else {\n                language = undefined;\n            }\n        }\n    }\n    // Test if we can reslove the default bundle.\n    if (language === undefined) {\n        var candidate = path.join(root, 'nls.bundle.json');\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n    }\n    return undefined;\n}\nfunction mkdir(directory) {\n    try {\n        fs.mkdirSync(directory);\n    }\n    catch (err) {\n        if (err.code === 'EEXIST') {\n            return;\n        }\n        else if (err.code === 'ENOENT') {\n            var parent = path.dirname(directory);\n            if (parent !== directory) {\n                mkdir(parent);\n                fs.mkdirSync(directory);\n            }\n        }\n        else {\n            throw err;\n        }\n    }\n}\nfunction createDefaultNlsBundle(folder) {\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_1 in metaData) {\n        var entry = metaData[module_1];\n        result[module_1] = entry.messages;\n    }\n    return result;\n}\nfunction createNLSBundle(header, metaDataPath) {\n    var languagePackLocation = options.translationsConfig[header.id];\n    if (!languagePackLocation) {\n        return undefined;\n    }\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_2 in metaData) {\n        var entry = metaData[module_2];\n        var translations = languagePack[\"\".concat(header.outDir, \"/\").concat(module_2)];\n        if (translations) {\n            var resultMessages = [];\n            for (var i = 0; i < entry.keys.length; i++) {\n                var messageKey = entry.keys[i];\n                var key = isString(messageKey) ? messageKey : messageKey.key;\n                var translatedMessage = translations[key];\n                if (translatedMessage === undefined) {\n                    translatedMessage = entry.messages[i];\n                }\n                resultMessages.push(translatedMessage);\n            }\n            result[module_2] = resultMessages;\n        }\n        else {\n            result[module_2] = entry.messages;\n        }\n    }\n    return result;\n}\nfunction touch(file) {\n    var d = new Date();\n    fs.utimes(file, d, d, function () {\n        // Do nothing. Ignore\n    });\n}\nfunction cacheBundle(key, bundle) {\n    resolvedBundles[key] = bundle;\n    return bundle;\n}\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\n    var result;\n    var bundle = path.join(options.cacheRoot, \"\".concat(header.id, \"-\").concat(header.hash, \".json\"));\n    var useMemoryOnly = false;\n    var writeBundle = false;\n    try {\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\n        touch(bundle);\n        return result;\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            writeBundle = true;\n        }\n        else if (err instanceof SyntaxError) {\n            // We have a syntax error. So no valid JSON. Use\n            console.log(\"Syntax error parsing message bundle: \".concat(err.message, \".\"));\n            fs.unlink(bundle, function (err) {\n                if (err) {\n                    console.error(\"Deleting corrupted bundle \".concat(bundle, \" failed.\"));\n                }\n            });\n            useMemoryOnly = true;\n        }\n        else {\n            throw err;\n        }\n    }\n    result = createNLSBundle(header, bundlePath);\n    if (!result || useMemoryOnly) {\n        return result;\n    }\n    if (writeBundle) {\n        try {\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\n        }\n        catch (err) {\n            if (err.code === 'EEXIST') {\n                return result;\n            }\n            throw err;\n        }\n    }\n    return result;\n}\nfunction loadDefaultNlsBundle(bundlePath) {\n    try {\n        return createDefaultNlsBundle(bundlePath);\n    }\n    catch (err) {\n        console.log(\"Generating default bundle from meta data failed.\", err);\n        return undefined;\n    }\n}\nfunction loadNlsBundle(header, bundlePath) {\n    var result;\n    // Core decided to use a language pack. Do the same in the extension\n    if (supportsLanguagePack()) {\n        try {\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\n        }\n        catch (err) {\n            console.log(\"Load or create bundle failed \", err);\n        }\n    }\n    if (!result) {\n        // No language pack found, but core is running in language pack mode\n        // Don't try to use old in the box bundles since the might be stale\n        // Fall right back to the default bundle.\n        if (options.languagePackSupport) {\n            return loadDefaultNlsBundle(bundlePath);\n        }\n        var candidate = findInTheBoxBundle(bundlePath);\n        if (candidate) {\n            try {\n                return readJsonFileSync(candidate);\n            }\n            catch (err) {\n                console.log(\"Loading in the box message bundle failed.\", err);\n            }\n        }\n        result = loadDefaultNlsBundle(bundlePath);\n    }\n    return result;\n}\nfunction tryFindMetaDataHeaderFile(file) {\n    var result;\n    var dirname = path.dirname(file);\n    while (true) {\n        result = path.join(dirname, 'nls.metadata.header.json');\n        if (fs.existsSync(result)) {\n            break;\n        }\n        var parent = path.dirname(dirname);\n        if (parent === dirname) {\n            result = undefined;\n            break;\n        }\n        else {\n            dirname = parent;\n        }\n    }\n    return result;\n}\nfunction loadMessageBundle(file) {\n    if (!file) {\n        // No file. We are in dev mode. Return the default\n        // localize function.\n        return common_1.localize;\n    }\n    // Remove extension since we load json files.\n    var ext = path.extname(file);\n    if (ext) {\n        file = file.substr(0, file.length - ext.length);\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.bundle) {\n        var headerFile = tryFindMetaDataHeaderFile(file);\n        if (headerFile) {\n            var bundlePath = path.dirname(headerFile);\n            var bundle = resolvedBundles[bundlePath];\n            if (bundle === undefined) {\n                try {\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\n                    try {\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\n                    }\n                    catch (err) {\n                        console.error('Failed to load nls bundle', err);\n                        bundle = cacheBundle(bundlePath, null);\n                    }\n                }\n                catch (err) {\n                    console.error('Failed to read header file', err);\n                    bundle = cacheBundle(bundlePath, null);\n                }\n            }\n            if (bundle) {\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\n                var messages = bundle.nlsBundle[module_3];\n                if (messages === undefined) {\n                    console.error(\"Messages for file \".concat(file, \" not found. See console for details.\"));\n                    return function () {\n                        return 'Messages not found.';\n                    };\n                }\n                return createScopedLocalizeFunction(messages);\n            }\n        }\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.file) {\n        // Try to load a single file bundle\n        try {\n            var json = readJsonFileSync(resolveLanguage(file));\n            if (Array.isArray(json)) {\n                return createScopedLocalizeFunction(json);\n            }\n            else {\n                if ((0, common_1.isDefined)(json.messages) && (0, common_1.isDefined)(json.keys)) {\n                    return createScopedLocalizeFunction(json.messages);\n                }\n                else {\n                    console.error(\"String bundle '\".concat(file, \"' uses an unsupported format.\"));\n                    return function () {\n                        return 'File bundle has unsupported format. See console for details';\n                    };\n                }\n            }\n        }\n        catch (err) {\n            if (err.code !== 'ENOENT') {\n                console.error('Failed to load single file bundle', err);\n            }\n        }\n    }\n    console.error(\"Failed to load message bundle for file \".concat(file));\n    return function () {\n        return 'Failed to load message bundle. See console for details.';\n    };\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    if (opts) {\n        if (isString(opts.locale)) {\n            options.locale = opts.locale.toLowerCase();\n            options.language = options.locale;\n            resolvedBundles = Object.create(null);\n        }\n        if (opts.messageFormat !== undefined) {\n            options.messageFormat = opts.messageFormat;\n        }\n        if (opts.bundleFormat === common_1.BundleFormat.standalone && options.languagePackSupport === true) {\n            options.languagePackSupport = false;\n        }\n    }\n    (0, common_1.setPseudo)(options.locale === 'pseudo');\n    return loadMessageBundle;\n}\nexports.config = config;\nral_1.default.install(Object.freeze({\n    loadMessageBundle: loadMessageBundle,\n    config: config\n}));\n//# sourceMappingURL=main.js.map","var LIB;LIB=(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,c=a<s?a:s,f=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(47===r.charCodeAt(h+u))return r.slice(h+u+1);if(0===u)return r.slice(h+u)}else a>c&&(47===t.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var l=t.charCodeAt(o+u);if(l!==r.charCodeAt(h+u))break;47===l&&(f=u)}var p=\"\";for(u=o+f+1;u<=i;++u)u!==i&&47!==t.charCodeAt(u)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+f):(h+=f,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(c===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,c=!0,f=t.length-1,u=0;f>=n;--f)if(47!==(o=t.charCodeAt(f)))-1===s&&(c=!1,s=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){h=f+1;break}return-1===a||-1===s||0===u||1===u&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n},447:(t,e,r)=>{var n;if(r.r(e),r.d(e,{URI:()=>d,Utils:()=>P}),\"object\"==typeof process)n=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var o=navigator.userAgent;n=o.indexOf(\"Windows\")>=0}var i,a,h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=/^\\w[\\w\\d+.-]*$/,c=/^\\//,f=/^\\/\\//;function u(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'.concat(t.authority,'\", path: \"').concat(t.path,'\", query: \"').concat(t.query,'\", fragment: \"').concat(t.fragment,'\"}'));if(t.scheme&&!s.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!c.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(f.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}var l=\"\",p=\"/\",g=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,d=function(){function t(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||l,this.authority=t.authority||l,this.path=t.path||l,this.query=t.query||l,this.fragment=t.fragment||l):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||l,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==p&&(e=p+e):e=p}return e}(this.scheme,r||l),this.query=n||l,this.fragment=o||l,u(this,i))}return t.isUri=function(e){return e instanceof t||!!e&&\"string\"==typeof e.authority&&\"string\"==typeof e.fragment&&\"string\"==typeof e.path&&\"string\"==typeof e.query&&\"string\"==typeof e.scheme&&\"string\"==typeof e.fsPath&&\"function\"==typeof e.with&&\"function\"==typeof e.toString},Object.defineProperty(t.prototype,\"fsPath\",{get:function(){return A(this,!1)},enumerable:!1,configurable:!0}),t.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=l),void 0===r?r=this.authority:null===r&&(r=l),void 0===n?n=this.path:null===n&&(n=l),void 0===o?o=this.query:null===o&&(o=l),void 0===i?i=this.fragment:null===i&&(i=l),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new y(e,r,n,o,i)},t.parse=function(t,e){void 0===e&&(e=!1);var r=g.exec(t);return r?new y(r[2]||l,O(r[4]||l),O(r[5]||l),O(r[7]||l),O(r[9]||l),e):new y(l,l,l,l,l)},t.file=function(t){var e=l;if(n&&(t=t.replace(/\\\\/g,p)),t[0]===p&&t[1]===p){var r=t.indexOf(p,2);-1===r?(e=t.substring(2),t=p):(e=t.substring(2,r),t=t.substring(r)||p)}return new y(\"file\",e,t,l,l)},t.from=function(t){var e=new y(t.scheme,t.authority,t.path,t.query,t.fragment);return u(e,!0),e},t.prototype.toString=function(t){return void 0===t&&(t=!1),w(this,t)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var r=new y(e);return r._formatted=e.external,r._fsPath=e._sep===v?e.fsPath:null,r}return e},t}(),v=n?1:void 0,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return h(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=v),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(d),m=((a={})[58]=\"%3A\",a[47]=\"%2F\",a[63]=\"%3F\",a[35]=\"%23\",a[91]=\"%5B\",a[93]=\"%5D\",a[64]=\"%40\",a[33]=\"%21\",a[36]=\"%24\",a[38]=\"%26\",a[39]=\"%27\",a[40]=\"%28\",a[41]=\"%29\",a[42]=\"%2A\",a[43]=\"%2B\",a[44]=\"%2C\",a[59]=\"%3B\",a[61]=\"%3D\",a[32]=\"%20\",a);function b(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=m[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function C(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=m[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function A(t,e){var r;return r=t.authority&&t.path.length>1&&\"file\"===t.scheme?\"//\".concat(t.authority).concat(t.path):47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,n&&(r=r.replace(/\\//g,\"\\\\\")),r}function w(t,e){var r=e?C:b,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=p,n+=p),i){var c=i.indexOf(\"@\");if(-1!==c){var f=i.substr(0,c);i=i.substr(c+1),-1===(c=f.indexOf(\":\"))?n+=r(f,!1):(n+=r(f.substr(0,c),!1),n+=\":\",n+=r(f.substr(c+1),!1)),n+=\"@\"}-1===(c=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,c),!1),n+=i.substr(c))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(u=a.charCodeAt(1))>=65&&u<=90&&(a=\"/\".concat(String.fromCharCode(u+32),\":\").concat(a.substr(3)));else if(a.length>=2&&58===a.charCodeAt(1)){var u;(u=a.charCodeAt(0))>=65&&u<=90&&(a=\"\".concat(String.fromCharCode(u+32),\":\").concat(a.substr(2)))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:b(s,!1)),n}function x(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+x(t.substr(3)):t}}var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function O(t){return t.match(_)?t.replace(_,(function(t){return x(t)})):t}var P,j=r(470),U=function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},I=j.posix||j;!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:I.join.apply(I,U([t.path],e,!1))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path||\"/\";return t.with({path:I.resolve.apply(I,U([n],e,!1))})},t.dirname=function(t){var e=I.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)?t:t.with({path:e})},t.basename=function(t){return I.basename(t.path)},t.extname=function(t){return I.extname(t.path)}}(P||(P={}))}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(447)})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport interface LsConfiguration {\n\t/**\n\t * List of file extensions should be considered as markdown.\n\t *\n\t * These should not include the leading `.`.\n\t */\n\treadonly markdownFileExtensions: readonly string[];\n}\n\nconst defaultConfig: LsConfiguration = {\n\tmarkdownFileExtensions: ['md'],\n};\n\nexport function getLsConfiguration(overrides: Partial<LsConfiguration>): LsConfiguration {\n\treturn {\n\t\t...defaultConfig,\n\t\t...overrides,\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter } from 'vscode-languageserver';\nimport { Disposable } from './util/dispose';\n\nexport type ValidateEnabled = 'ignore' | 'warning' | 'error';\n\ninterface Settings {\n\treadonly markdown: {\n\t\treadonly suggest: {\n\t\t\treadonly paths: {\n\t\t\t\treadonly enabled: boolean;\n\t\t\t};\n\t\t};\n\n\t\treadonly experimental: {\n\t\t\treadonly validate: {\n\t\t\t\treadonly enabled: true;\n\t\t\t\treadonly referenceLinks: {\n\t\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t\t};\n\t\t\t\treadonly fragmentLinks: {\n\t\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t\t};\n\t\t\t\treadonly fileLinks: {\n\t\t\t\t\treadonly enabled: ValidateEnabled;\n\t\t\t\t\treadonly markdownFragmentLinks: ValidateEnabled;\n\t\t\t\t};\n\t\t\t\treadonly ignoreLinks: readonly string[];\n\t\t\t};\n\t\t};\n\t};\n}\n\n\nexport class ConfigurationManager extends Disposable {\n\n\tprivate readonly _onDidChangeConfiguration = this._register(new Emitter<Settings>());\n\tpublic readonly onDidChangeConfiguration = this._onDidChangeConfiguration.event;\n\n\tprivate _settings?: Settings;\n\n\tconstructor(connection: Connection) {\n\t\tsuper();\n\n\t\t// The settings have changed. Is send on server activation as well.\n\t\tthis._register(connection.onDidChangeConfiguration((change) => {\n\t\t\tthis._settings = change.settings;\n\t\t\tthis._onDidChangeConfiguration.fire(this._settings!);\n\t\t}));\n\t}\n\n\tpublic getSettings(): Settings | undefined {\n\t\treturn this._settings;\n\t}\n}","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, FullDocumentDiagnosticReport, UnchangedDocumentDiagnosticReport } from 'vscode-languageserver';\nimport * as md from 'vscode-markdown-languageservice';\nimport { disposeAll } from 'vscode-markdown-languageservice/out/util/dispose';\nimport { Disposable } from 'vscode-notebook-renderer/events';\nimport { URI } from 'vscode-uri';\nimport { ConfigurationManager, ValidateEnabled } from '../configuration';\nimport { VsCodeClientWorkspace } from '../workspace';\n\nconst defaultDiagnosticOptions: md.DiagnosticOptions = {\n\tvalidateFileLinks: md.DiagnosticLevel.ignore,\n\tvalidateReferences: md.DiagnosticLevel.ignore,\n\tvalidateFragmentLinks: md.DiagnosticLevel.ignore,\n\tvalidateMarkdownFileLinkFragments: md.DiagnosticLevel.ignore,\n\tignoreLinks: [],\n};\n\nfunction convertDiagnosticLevel(enabled: ValidateEnabled): md.DiagnosticLevel | undefined {\n\tswitch (enabled) {\n\t\tcase 'error': return md.DiagnosticLevel.error;\n\t\tcase 'warning': return md.DiagnosticLevel.warning;\n\t\tcase 'ignore': return md.DiagnosticLevel.ignore;\n\t\tdefault: return md.DiagnosticLevel.ignore;\n\t}\n}\n\nfunction getDiagnosticsOptions(config: ConfigurationManager): md.DiagnosticOptions {\n\tconst settings = config.getSettings();\n\tif (!settings) {\n\t\treturn defaultDiagnosticOptions;\n\t}\n\n\treturn {\n\t\tvalidateFileLinks: convertDiagnosticLevel(settings.markdown.experimental.validate.fileLinks.enabled),\n\t\tvalidateReferences: convertDiagnosticLevel(settings.markdown.experimental.validate.referenceLinks.enabled),\n\t\tvalidateFragmentLinks: convertDiagnosticLevel(settings.markdown.experimental.validate.fragmentLinks.enabled),\n\t\tvalidateMarkdownFileLinkFragments: convertDiagnosticLevel(settings.markdown.experimental.validate.fileLinks.markdownFragmentLinks),\n\t\tignoreLinks: settings.markdown.experimental.validate.ignoreLinks,\n\t};\n}\n\nexport function registerValidateSupport(\n\tconnection: Connection,\n\tworkspace: VsCodeClientWorkspace,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n): Disposable {\n\tlet diagnosticOptions: md.DiagnosticOptions = defaultDiagnosticOptions;\n\tfunction updateDiagnosticsSetting(): void {\n\t\tdiagnosticOptions = getDiagnosticsOptions(config);\n\t}\n\n\n\tconst subs: Disposable[] = [];\n\tconst manager = ls.createPullDiagnosticsManager();\n\tsubs.push(manager);\n\n\tsubs.push(manager.onLinkedToFileChanged(() => {\n\t\t// TODO: We only need to refresh certain files\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\tconnection.languages.diagnostics.on(async (params, token): Promise<FullDocumentDiagnosticReport | UnchangedDocumentDiagnosticReport> => {\n\t\tif (!config.getSettings()?.markdown.experimental.validate.enabled) {\n\t\t\treturn { kind: 'full', items: [] };\n\t\t}\n\n\t\tconst document = await workspace.openMarkdownDocument(URI.parse(params.textDocument.uri));\n\t\tif (!document) {\n\t\t\treturn { kind: 'full', items: [] };\n\t\t}\n\n\t\tconst diagnostics = await manager.computeDiagnostics(document, diagnosticOptions, token);\n\t\treturn {\n\t\t\tkind: 'full',\n\t\t\titems: diagnostics,\n\t\t};\n\t});\n\n\tupdateDiagnosticsSetting();\n\tsubs.push(config.onDidChangeConfiguration(() => {\n\t\tupdateDiagnosticsSetting();\n\t\tconnection.languages.diagnostics.refresh();\n\t}));\n\n\treturn {\n\t\tdispose: () => {\n\t\t\tdisposeAll(subs);\n\t\t}\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogger, LogLevel } from 'vscode-markdown-languageservice';\n\nexport class LogFunctionLogger implements ILogger {\n\n\tprivate static now(): string {\n\t\tconst now = new Date();\n\t\treturn String(now.getUTCHours()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getMinutes()).padStart(2, '0')\n\t\t\t+ ':' + String(now.getUTCSeconds()).padStart(2, '0') + '.' + String(now.getMilliseconds()).padStart(3, '0');\n\t}\n\n\tprivate static data2String(data: any): string {\n\t\tif (data instanceof Error) {\n\t\t\tif (typeof data.stack === 'string') {\n\t\t\t\treturn data.stack;\n\t\t\t}\n\t\t\treturn data.message;\n\t\t}\n\t\tif (typeof data === 'string') {\n\t\t\treturn data;\n\t\t}\n\t\treturn JSON.stringify(data, undefined, 2);\n\t}\n\n\tconstructor(\n\t\tprivate readonly _logFn: typeof console.log\n\t) { }\n\n\n\tpublic log(level: LogLevel, title: string, message: string, data?: any): void {\n\t\tthis.appendLine(`[${level} ${LogFunctionLogger.now()}] ${title}: ${message}`);\n\t\tif (data) {\n\t\t\tthis.appendLine(LogFunctionLogger.data2String(data));\n\t\t}\n\t}\n\n\tprivate appendLine(value: string): void {\n\t\tthis._logFn(value);\n\t}\n}\n\nexport const consoleLogger = new LogFunctionLogger(console.log);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { RequestType } from 'vscode-languageserver';\nimport type * as lsp from 'vscode-languageserver-types';\nimport type * as md from 'vscode-markdown-languageservice';\n\n//#region From server\nexport const parse = new RequestType<{ uri: string }, md.Token[], any>('markdown/parse');\n\nexport const fs_readFile = new RequestType<{ uri: string }, number[], any>('markdown/fs/readFile');\nexport const fs_readDirectory = new RequestType<{ uri: string }, [string, { isDirectory: boolean }][], any>('markdown/fs/readDirectory');\nexport const fs_stat = new RequestType<{ uri: string }, { isDirectory: boolean } | undefined, any>('markdown/fs/stat');\n\nexport const fs_watcher_create = new RequestType<{ id: number; uri: string; options: md.FileWatcherOptions }, void, any>('markdown/fs/watcher/create');\nexport const fs_watcher_delete = new RequestType<{ id: number }, void, any>('markdown/fs/watcher/delete');\n\nexport const findMarkdownFilesInWorkspace = new RequestType<{}, string[], any>('markdown/findMarkdownFilesInWorkspace');\n//#endregion\n\n//#region To server\nexport const getReferencesToFileInWorkspace = new RequestType<{ uri: string }, lsp.Location[], any>('markdown/getReferencesToFileInWorkspace');\n\nexport const fs_watcher_onChange = new RequestType<{ id: number; uri: string; kind: 'create' | 'change' | 'delete' }, void, any>('markdown/fs/watcher/onChange');\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken, Connection, InitializeParams, InitializeResult, NotebookDocuments, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as lsp from 'vscode-languageserver-types';\nimport * as md from 'vscode-markdown-languageservice';\nimport { IDisposable } from 'vscode-markdown-languageservice/out/util/dispose';\nimport { URI } from 'vscode-uri';\nimport { getLsConfiguration } from './config';\nimport { ConfigurationManager } from './configuration';\nimport { registerValidateSupport } from './languageFeatures/diagnostics';\nimport { LogFunctionLogger } from './logging';\nimport * as protocol from './protocol';\nimport { VsCodeClientWorkspace } from './workspace';\n\nexport async function startServer(connection: Connection) {\n\tconst documents = new TextDocuments(TextDocument);\n\tconst notebooks = new NotebookDocuments(documents);\n\n\tconst configurationManager = new ConfigurationManager(connection);\n\n\tlet provider: md.IMdLanguageService | undefined;\n\tlet workspace: VsCodeClientWorkspace | undefined;\n\n\tconnection.onInitialize((params: InitializeParams): InitializeResult => {\n\t\tconst parser = new class implements md.IMdParser {\n\t\t\tslugifier = md.githubSlugifier;\n\n\t\t\tasync tokenize(document: md.ITextDocument): Promise<md.Token[]> {\n\t\t\t\treturn await connection.sendRequest(protocol.parse, { uri: document.uri.toString() });\n\t\t\t}\n\t\t};\n\n\t\tconst config = getLsConfiguration({\n\t\t\tmarkdownFileExtensions: params.initializationOptions.markdownFileExtensions,\n\t\t});\n\n\t\tconst logger = new LogFunctionLogger(connection.console.log.bind(connection.console));\n\t\tworkspace = new VsCodeClientWorkspace(connection, config, documents, notebooks, logger);\n\t\tprovider = md.createLanguageService({\n\t\t\tworkspace,\n\t\t\tparser,\n\t\t\tlogger,\n\t\t\tmarkdownFileExtensions: config.markdownFileExtensions,\n\t\t});\n\n\t\tregisterCompletionsSupport(connection, documents, provider, configurationManager);\n\t\tregisterValidateSupport(connection, workspace, provider, configurationManager);\n\n\t\tworkspace.workspaceFolders = (params.workspaceFolders ?? []).map(x => URI.parse(x.uri));\n\t\treturn {\n\t\t\tcapabilities: {\n\t\t\t\tdiagnosticProvider: {\n\t\t\t\t\tdocumentSelector: null,\n\t\t\t\t\tidentifier: 'markdown',\n\t\t\t\t\tinterFileDependencies: true,\n\t\t\t\t\tworkspaceDiagnostics: false,\n\t\t\t\t},\n\t\t\t\tcompletionProvider: { triggerCharacters: ['.', '/', '#'] },\n\t\t\t\tdefinitionProvider: true,\n\t\t\t\tdocumentLinkProvider: { resolveProvider: true },\n\t\t\t\tdocumentSymbolProvider: true,\n\t\t\t\tfoldingRangeProvider: true,\n\t\t\t\trenameProvider: { prepareProvider: true, },\n\t\t\t\tselectionRangeProvider: true,\n\t\t\t\tworkspaceSymbolProvider: true,\n\t\t\t\tworkspace: {\n\t\t\t\t\tworkspaceFolders: {\n\t\t\t\t\t\tsupported: true,\n\t\t\t\t\t\tchangeNotifications: true,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n\n\tconnection.onDocumentLinks(async (params, token): Promise<lsp.DocumentLink[]> => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.getDocumentLinks(document, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tconnection.onDocumentLinkResolve(async (link, token): Promise<lsp.DocumentLink | undefined> => {\n\t\ttry {\n\t\t\treturn await provider!.resolveDocumentLink(link, token);\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn undefined;\n\t});\n\n\tconnection.onDocumentSymbol(async (params, token): Promise<lsp.DocumentSymbol[]> => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.getDocumentSymbols(document, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tconnection.onFoldingRanges(async (params, token): Promise<lsp.FoldingRange[]> => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.getFoldingRanges(document, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tconnection.onSelectionRanges(async (params, token): Promise<lsp.SelectionRange[] | undefined> => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.getSelectionRanges(document, params.positions, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tconnection.onWorkspaceSymbol(async (params, token): Promise<lsp.WorkspaceSymbol[]> => {\n\t\ttry {\n\t\t\treturn await provider!.getWorkspaceSymbols(params.query, token);\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tconnection.onReferences(async (params, token): Promise<lsp.Location[]> => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.getReferences(document, params.position, params.context, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tconnection.onDefinition(async (params, token): Promise<lsp.Definition | undefined> => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.getDefinition(document, params.position, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn undefined;\n\t});\n\n\tconnection.onPrepareRename(async (params, token) => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await provider!.prepareRename(document, params.position, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn undefined;\n\t});\n\n\tconnection.onRenameRequest(async (params, token) => {\n\t\ttry {\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\tconst edit = await provider!.getRenameEdit(document, params.position, params.newName, token);\n\t\t\t\tconsole.log(JSON.stringify(edit));\n\t\t\t\treturn edit;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn undefined;\n\t});\n\n\tconnection.onRequest(protocol.getReferencesToFileInWorkspace, (async (params: { uri: string }, token: CancellationToken) => {\n\t\ttry {\n\t\t\treturn await provider!.getFileReferences(URI.parse(params.uri), token);\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn undefined;\n\t}));\n\n\tdocuments.listen(connection);\n\tnotebooks.listen(connection);\n\tconnection.listen();\n}\n\n\nfunction registerCompletionsSupport(\n\tconnection: Connection,\n\tdocuments: TextDocuments<TextDocument>,\n\tls: md.IMdLanguageService,\n\tconfig: ConfigurationManager,\n): IDisposable {\n\t// let registration: Promise<IDisposable> | undefined;\n\tfunction update() {\n\t\t// TODO: client still makes the request in this case. Figure our how to properly unregister.\n\t\treturn;\n\t\t// const settings = config.getSettings();\n\t\t// if (settings?.markdown.suggest.paths.enabled) {\n\t\t// \tif (!registration) {\n\t\t// \t\tregistration = connection.client.register(CompletionRequest.type);\n\t\t// \t}\n\t\t// } else {\n\t\t// \tregistration?.then(x => x.dispose());\n\t\t// \tregistration = undefined;\n\t\t// }\n\t}\n\n\tconnection.onCompletion(async (params, token): Promise<lsp.CompletionItem[]> => {\n\t\ttry {\n\t\t\tconst settings = config.getSettings();\n\t\t\tif (!settings?.markdown.suggest.paths.enabled) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst document = documents.get(params.textDocument.uri);\n\t\t\tif (document) {\n\t\t\t\treturn await ls.getCompletionItems(document, params.position, params.context!, token);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(e.stack);\n\t\t}\n\t\treturn [];\n\t});\n\n\tupdate();\n\treturn config.onDidChangeConfiguration(() => update());\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * @returns New array with all falsy values removed. The original array IS NOT modified.\n */\nexport function coalesce<T>(array: ReadonlyArray<T | undefined | null>): T[] {\n\treturn <T[]>array.filter(e => !!e);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport class MultiDisposeError extends Error {\n\tconstructor(\n\t\tpublic readonly errors: any[]\n\t) {\n\t\tsuper(`Encountered errors while disposing of store. Errors: [${errors.join(', ')}]`);\n\t}\n}\n\nexport function disposeAll(disposables: Iterable<IDisposable>) {\n\tconst errors: any[] = [];\n\n\tfor (const disposable of disposables) {\n\t\ttry {\n\t\t\tdisposable.dispose();\n\t\t} catch (e) {\n\t\t\terrors.push(e);\n\t\t}\n\t}\n\n\tif (errors.length === 1) {\n\t\tthrow errors[0];\n\t} else if (errors.length > 1) {\n\t\tthrow new MultiDisposeError(errors);\n\t}\n}\n\nexport interface IDisposable {\n\tdispose(): void;\n}\n\nexport abstract class Disposable {\n\tprivate _isDisposed = false;\n\n\tprotected _disposables: IDisposable[] = [];\n\n\tpublic dispose(): any {\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isDisposed = true;\n\t\tdisposeAll(this._disposables);\n\t}\n\n\tprotected _register<T extends IDisposable>(value: T): T {\n\t\tif (this._isDisposed) {\n\t\t\tvalue.dispose();\n\t\t} else {\n\t\t\tthis._disposables.push(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tprotected get isDisposed() {\n\t\treturn this._isDisposed;\n\t}\n}\n\nexport class DisposableStore extends Disposable {\n\tprivate readonly items = new Set<IDisposable>();\n\n\tpublic override dispose() {\n\t\tsuper.dispose();\n\t\tdisposeAll(this.items);\n\t\tthis.items.clear();\n\t}\n\n\tpublic add<T extends IDisposable>(item: T): T {\n\t\tif (this.isDisposed) {\n\t\t\tconsole.warn('Adding to disposed store. Item will be leaked');\n\t\t}\n\n\t\tthis.items.add(item);\n\t\treturn item;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport { URI, Utils } from 'vscode-uri';\nimport { LsConfiguration } from '../config';\n\nexport function looksLikeMarkdownPath(config: LsConfiguration, resolvedHrefPath: URI) {\n\treturn config.markdownFileExtensions.includes(Utils.extname(URI.from(resolvedHrefPath)).toLowerCase().replace('.', ''));\n}\n\nexport function isMarkdownFile(document: TextDocument) {\n\treturn document.languageId === 'markdown';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\ninterface ILimitedTaskFactory<T> {\n\tfactory: ITask<Promise<T>>;\n\tc: (value: T | Promise<T>) => void;\n\te: (error?: unknown) => void;\n}\n\ninterface ITask<T> {\n\t(): T;\n}\n\n/**\n * A helper to queue N promises and run them all with a max degree of parallelism. The helper\n * ensures that at any time no more than M promises are running at the same time.\n *\n * Taken from 'src/vs/base/common/async.ts'\n */\nexport class Limiter<T> {\n\n\tprivate _size = 0;\n\tprivate runningPromises: number;\n\tprivate readonly maxDegreeOfParalellism: number;\n\tprivate readonly outstandingPromises: ILimitedTaskFactory<T>[];\n\n\tconstructor(maxDegreeOfParalellism: number) {\n\t\tthis.maxDegreeOfParalellism = maxDegreeOfParalellism;\n\t\tthis.outstandingPromises = [];\n\t\tthis.runningPromises = 0;\n\t}\n\n\tget size(): number {\n\t\treturn this._size;\n\t}\n\n\tqueue(factory: ITask<Promise<T>>): Promise<T> {\n\t\tthis._size++;\n\n\t\treturn new Promise<T>((c, e) => {\n\t\t\tthis.outstandingPromises.push({ factory, c, e });\n\t\t\tthis.consume();\n\t\t});\n\t}\n\n\tprivate consume(): void {\n\t\twhile (this.outstandingPromises.length && this.runningPromises < this.maxDegreeOfParalellism) {\n\t\t\tconst iLimitedTask = this.outstandingPromises.shift()!;\n\t\t\tthis.runningPromises++;\n\n\t\t\tconst promise = iLimitedTask.factory();\n\t\t\tpromise.then(iLimitedTask.c, iLimitedTask.e);\n\t\t\tpromise.then(() => this.consumed(), () => this.consumed());\n\t\t}\n\t}\n\n\tprivate consumed(): void {\n\t\tthis._size--;\n\t\tthis.runningPromises--;\n\n\t\tif (this.outstandingPromises.length > 0) {\n\t\t\tthis.consume();\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from 'vscode-uri';\n\n\ntype ResourceToKey = (uri: URI) => string;\n\nconst defaultResourceToKey = (resource: URI): string => resource.toString();\n\nexport class ResourceMap<T> {\n\n\tprivate readonly map = new Map<string, { readonly uri: URI; readonly value: T }>();\n\n\tprivate readonly toKey: ResourceToKey;\n\n\tconstructor(toKey: ResourceToKey = defaultResourceToKey) {\n\t\tthis.toKey = toKey;\n\t}\n\n\tpublic set(uri: URI, value: T): this {\n\t\tthis.map.set(this.toKey(uri), { uri, value });\n\t\treturn this;\n\t}\n\n\tpublic get(resource: URI): T | undefined {\n\t\treturn this.map.get(this.toKey(resource))?.value;\n\t}\n\n\tpublic has(resource: URI): boolean {\n\t\treturn this.map.has(this.toKey(resource));\n\t}\n\n\tpublic get size(): number {\n\t\treturn this.map.size;\n\t}\n\n\tpublic clear(): void {\n\t\tthis.map.clear();\n\t}\n\n\tpublic delete(resource: URI): boolean {\n\t\treturn this.map.delete(this.toKey(resource));\n\t}\n\n\tpublic *values(): IterableIterator<T> {\n\t\tfor (const entry of this.map.values()) {\n\t\t\tyield entry.value;\n\t\t}\n\t}\n\n\tpublic *keys(): IterableIterator<URI> {\n\t\tfor (const entry of this.map.values()) {\n\t\t\tyield entry.uri;\n\t\t}\n\t}\n\n\tpublic *entries(): IterableIterator<[URI, T]> {\n\t\tfor (const entry of this.map.values()) {\n\t\t\tyield [entry.uri, entry.value];\n\t\t}\n\t}\n\n\tpublic [Symbol.iterator](): IterableIterator<[URI, T]> {\n\t\treturn this.entries();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const Schemes = Object.freeze({\n\tnotebookCell: 'vscode-notebook-cell',\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, Emitter, FileChangeType, NotebookDocuments, TextDocuments } from 'vscode-languageserver';\nimport { TextDocument } from 'vscode-languageserver-textdocument';\nimport * as md from 'vscode-markdown-languageservice';\nimport { ContainingDocumentContext, FileWatcherOptions, IFileSystemWatcher } from 'vscode-markdown-languageservice/out/workspace';\nimport { URI } from 'vscode-uri';\nimport { LsConfiguration } from './config';\nimport * as protocol from './protocol';\nimport { coalesce } from './util/arrays';\nimport { isMarkdownFile, looksLikeMarkdownPath } from './util/file';\nimport { Limiter } from './util/limiter';\nimport { ResourceMap } from './util/resourceMap';\nimport { Schemes } from './util/schemes';\n\ndeclare const TextDecoder: any;\n\nexport class VsCodeClientWorkspace implements md.IWorkspaceWithWatching {\n\n\tprivate readonly _onDidCreateMarkdownDocument = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidCreateMarkdownDocument = this._onDidCreateMarkdownDocument.event;\n\n\tprivate readonly _onDidChangeMarkdownDocument = new Emitter<md.ITextDocument>();\n\tpublic readonly onDidChangeMarkdownDocument = this._onDidChangeMarkdownDocument.event;\n\n\tprivate readonly _onDidDeleteMarkdownDocument = new Emitter<URI>();\n\tpublic readonly onDidDeleteMarkdownDocument = this._onDidDeleteMarkdownDocument.event;\n\n\tprivate readonly _documentCache = new ResourceMap<md.ITextDocument>();\n\n\tprivate readonly _utf8Decoder = new TextDecoder('utf-8');\n\n\tprivate _watcherPool = 0;\n\tprivate readonly _watchers = new Map<number, {\n\t\treadonly resource: URI;\n\t\treadonly options: FileWatcherOptions;\n\t\treadonly onDidChange: Emitter<URI>;\n\t\treadonly onDidCreate: Emitter<URI>;\n\t\treadonly onDidDelete: Emitter<URI>;\n\t}>();\n\n\tconstructor(\n\t\tprivate readonly connection: Connection,\n\t\tprivate readonly config: LsConfiguration,\n\t\tprivate readonly documents: TextDocuments<TextDocument>,\n\t\tprivate readonly notebooks: NotebookDocuments<TextDocument>,\n\t\tprivate readonly logger: md.ILogger,\n\t) {\n\t\tdocuments.onDidOpen(e => {\n\t\t\tthis._documentCache.delete(URI.parse(e.document.uri));\n\t\t\tif (this.isRelevantMarkdownDocument(e.document)) {\n\t\t\t\tthis._onDidCreateMarkdownDocument.fire(e.document);\n\t\t\t}\n\t\t});\n\n\t\tdocuments.onDidChangeContent(e => {\n\t\t\tif (this.isRelevantMarkdownDocument(e.document)) {\n\t\t\t\tthis._onDidChangeMarkdownDocument.fire(e.document);\n\t\t\t}\n\t\t});\n\n\t\tdocuments.onDidClose(e => {\n\t\t\tthis._documentCache.delete(URI.parse(e.document.uri));\n\t\t});\n\n\t\tconnection.onDidChangeWatchedFiles(async ({ changes }) => {\n\t\t\tfor (const change of changes) {\n\t\t\t\tconst resource = URI.parse(change.uri);\n\t\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: onDidChangeWatchedFiles', `${change.type}: ${resource}`);\n\t\t\t\tswitch (change.type) {\n\t\t\t\t\tcase FileChangeType.Changed: {\n\t\t\t\t\t\tthis._documentCache.delete(resource);\n\t\t\t\t\t\tconst document = await this.openMarkdownDocument(resource);\n\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\tthis._onDidChangeMarkdownDocument.fire(document);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Created: {\n\t\t\t\t\t\tconst document = await this.openMarkdownDocument(resource);\n\t\t\t\t\t\tif (document) {\n\t\t\t\t\t\t\tthis._onDidCreateMarkdownDocument.fire(document);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase FileChangeType.Deleted: {\n\t\t\t\t\t\tthis._documentCache.delete(resource);\n\t\t\t\t\t\tthis._onDidDeleteMarkdownDocument.fire(resource);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconnection.onRequest(protocol.fs_watcher_onChange, params => {\n\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: fs_watcher_onChange', `${params.kind}: ${params.uri}`);\n\n\t\t\tconst watcher = this._watchers.get(params.id);\n\t\t\tif (!watcher) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch (params.kind) {\n\t\t\t\tcase 'create': watcher.onDidCreate.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'change': watcher.onDidChange.fire(URI.parse(params.uri)); return;\n\t\t\t\tcase 'delete': watcher.onDidDelete.fire(URI.parse(params.uri)); return;\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic listen() {\n\t\tthis.connection.workspace.onDidChangeWorkspaceFolders(async () => {\n\t\t\tthis.workspaceFolders = (await this.connection.workspace.getWorkspaceFolders() ?? []).map(x => URI.parse(x.uri));\n\t\t});\n\t}\n\n\tprivate _workspaceFolders: readonly URI[] = [];\n\n\tget workspaceFolders(): readonly URI[] {\n\t\treturn this._workspaceFolders;\n\t}\n\n\tset workspaceFolders(value: readonly URI[]) {\n\t\tthis._workspaceFolders = value;\n\t}\n\n\tasync getAllMarkdownDocuments(): Promise<Iterable<md.ITextDocument>> {\n\t\tconst maxConcurrent = 20;\n\n\t\tconst foundFiles = new ResourceMap<void>();\n\t\tconst limiter = new Limiter<md.ITextDocument | undefined>(maxConcurrent);\n\n\t\t// Add files on disk\n\t\tconst resources = await this.connection.sendRequest(protocol.findMarkdownFilesInWorkspace, {});\n\t\tconst onDiskResults = await Promise.all(resources.map(strResource => {\n\t\t\treturn limiter.queue(async () => {\n\t\t\t\tconst resource = URI.parse(strResource);\n\t\t\t\tconst doc = await this.openMarkdownDocument(resource);\n\t\t\t\tif (doc) {\n\t\t\t\t\tfoundFiles.set(resource);\n\t\t\t\t}\n\t\t\t\treturn doc;\n\t\t\t});\n\t\t}));\n\n\t\t// Add opened files (such as untitled files)\n\t\tconst openTextDocumentResults = await Promise.all(this.documents.all()\n\t\t\t.filter(doc => !foundFiles.has(URI.parse(doc.uri)) && this.isRelevantMarkdownDocument(doc)));\n\n\t\treturn coalesce([...onDiskResults, ...openTextDocumentResults]);\n\t}\n\n\thasMarkdownDocument(resource: URI): boolean {\n\t\treturn !!this.documents.get(resource.toString());\n\t}\n\n\tasync openMarkdownDocument(resource: URI): Promise<md.ITextDocument | undefined> {\n\t\tconst existing = this._documentCache.get(resource);\n\t\tif (existing) {\n\t\t\treturn existing;\n\t\t}\n\n\t\tconst matchingDocument = this.documents.get(resource.toString());\n\t\tif (matchingDocument) {\n\t\t\tthis._documentCache.set(resource, matchingDocument);\n\t\t\treturn matchingDocument;\n\t\t}\n\n\t\tif (!looksLikeMarkdownPath(this.config, resource)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await this.connection.sendRequest(protocol.fs_readFile, { uri: resource.toString() });\n\t\t\t// TODO: LSP doesn't seem to handle Array buffers well\n\t\t\tconst bytes = new Uint8Array(response);\n\n\t\t\t// We assume that markdown is in UTF-8\n\t\t\tconst text = this._utf8Decoder.decode(bytes);\n\t\t\tconst doc = TextDocument.create(resource.toString(), 'markdown', 0, text);\n\t\t\tthis._documentCache.set(resource, doc);\n\t\t\treturn doc;\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tasync stat(resource: URI): Promise<md.FileStat | undefined> {\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: stat', `${resource}`);\n\t\tif (this._documentCache.has(resource) || this.documents.get(resource.toString())) {\n\t\t\treturn { isDirectory: false };\n\t\t}\n\t\treturn this.connection.sendRequest(protocol.fs_stat, { uri: resource.toString() });\n\t}\n\n\tasync readDirectory(resource: URI): Promise<[string, md.FileStat][]> {\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: readDir', `${resource}`);\n\t\treturn this.connection.sendRequest(protocol.fs_readDirectory, { uri: resource.toString() });\n\t}\n\n\tgetContainingDocument(resource: URI): ContainingDocumentContext | undefined {\n\t\tif (resource.scheme === Schemes.notebookCell) {\n\t\t\tconst nb = this.notebooks.findNotebookDocumentForCell(resource.toString());\n\t\t\tif (nb) {\n\t\t\t\treturn {\n\t\t\t\t\turi: URI.parse(nb.uri),\n\t\t\t\t\tchildren: nb.cells.map(cell => ({ uri: URI.parse(cell.document) })),\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\twatchFile(resource: URI, options: FileWatcherOptions): IFileSystemWatcher {\n\t\tconst id = this._watcherPool++;\n\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: watchFile', `(${id}) ${resource}`);\n\n\t\tconst entry = {\n\t\t\tresource,\n\t\t\toptions,\n\t\t\tonDidCreate: new Emitter<URI>(),\n\t\t\tonDidChange: new Emitter<URI>(),\n\t\t\tonDidDelete: new Emitter<URI>(),\n\t\t};\n\t\tthis._watchers.set(id, entry);\n\n\t\tthis.connection.sendRequest(protocol.fs_watcher_create, {\n\t\t\tid,\n\t\t\turi: resource.toString(),\n\t\t\toptions,\n\t\t});\n\n\t\treturn {\n\t\t\tonDidCreate: entry.onDidCreate.event,\n\t\t\tonDidChange: entry.onDidChange.event,\n\t\t\tonDidDelete: entry.onDidDelete.event,\n\t\t\tdispose: () => {\n\t\t\t\tthis.logger.log(md.LogLevel.Trace, 'VsCodeClientWorkspace: disposeWatcher', `(${id}) ${resource}`);\n\t\t\t\tthis.connection.sendRequest(protocol.fs_watcher_delete, { id });\n\t\t\t\tthis._watchers.delete(id);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate isRelevantMarkdownDocument(doc: TextDocument) {\n\t\treturn isMarkdownFile(doc) && URI.parse(doc.uri).scheme !== 'vscode-bulkeditpreview';\n\t}\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Connection, createConnection } from 'vscode-languageserver/node';\nimport { startServer } from '../server';\n\n// Create a connection for the server.\nconst connection: Connection = createConnection();\n\nconsole.log = connection.console.log.bind(connection.console);\nconsole.error = connection.console.error.bind(connection.console);\n\nprocess.on('unhandledRejection', (e: any) => {\n\tconnection.console.error(`Unhandled exception ${e}`);\n});\n\nstartServer(connection);\n"],"sourceRoot":""}